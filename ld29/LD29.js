!function(t,e){"use strict";function n(t,e){function n(){}n.prototype=t;var i=new n;for(var r in e)i[r]=e[r];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}function i(t){return t instanceof Array?function(){return I.iter(t)}:"function"==typeof t.iterator?r(t,t.iterator):t.iterator}function r(t,e){if(null==e)return null;null==e.__id__&&(e.__id__=_o++);var n;return null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&((n=function(){return n.method.apply(n.scope,arguments)}).scope=t,n.method=e,t.hx__closures__[e.__id__]=n),n}t.openfl=t.openfl||{},t.lime=t.lime||{};var a={},s=function(){return X.__string_rec(this,"")},l=function(){};a.ApplicationMain=l,l.__name__=["ApplicationMain"],l.config=null,l.preloader=null,l.create=function(){var t=new Ra;t.create(l.config);var e=new M;l.preloader=new es(e),t.setPreloader(l.preloader),l.preloader.onComplete.add(l.init),l.preloader.create(l.config);var n=[],i=[];if(n.push("graphics/preloader/haxepunk.png"),i.push("IMAGE"),n.push("graphics/debug/console_visible.png"),i.push("IMAGE"),n.push("graphics/debug/console_step.png"),i.push("IMAGE"),n.push("graphics/debug/console_output.png"),i.push("IMAGE"),n.push("graphics/debug/console_hidden.png"),i.push("IMAGE"),n.push("graphics/debug/console_play.png"),i.push("IMAGE"),n.push("graphics/debug/console_pause.png"),i.push("IMAGE"),n.push("graphics/debug/console_debug.png"),i.push("IMAGE"),n.push("graphics/debug/console_logo.png"),i.push("IMAGE"),n.push("04b03"),i.push("FONT"),n.push("font/04B_03__.ttf.png"),i.push("IMAGE"),n.push("gfx/command.png"),i.push("IMAGE"),n.push("gfx/woof.png"),i.push("IMAGE"),n.push("gfx/separator.png"),i.push("IMAGE"),n.push("gfx/selector.png"),i.push("IMAGE"),n.push("gfx/purr.png"),i.push("IMAGE"),n.push("gfx/hex.png"),i.push("IMAGE"),n.push("gfx/lever.png"),i.push("IMAGE"),n.push("gfx/pole.png"),i.push("IMAGE"),n.push("gfx/door.png"),i.push("IMAGE"),n.push("gfx/meddler.png"),i.push("IMAGE"),n.push("gfx/tiles.png"),i.push("IMAGE"),n.push("gfx/buttons.png"),i.push("IMAGE"),n.push("gfx/rock.png"),i.push("IMAGE"),n.push("gfx/steel.png"),i.push("IMAGE"),n.push("gfx/spikes.png"),i.push("IMAGE"),n.push("gfx/ribbit.png"),i.push("IMAGE"),n.push("gfx/inspector.png"),i.push("IMAGE"),n.push("sfx/click.ogg"),i.push("SOUND"),n.push("sfx/introspect.ogg"),i.push("MUSIC"),n.push("sfx/gameplay.ogg"),i.push("SOUND"),n.push("04b03"),i.push("FONT"),n.push("lvl/level4.csv"),i.push("TEXT"),n.push("lvl/level1.csv"),i.push("TEXT"),n.push("lvl/level5.csv"),i.push("TEXT"),n.push("lvl/level3.csv"),i.push("TEXT"),n.push("lvl/level6.csv"),i.push("TEXT"),n.push("lvl/level7.csv"),i.push("TEXT"),n.push("lvl/level2.csv"),i.push("TEXT"),null!=l.config.assetsPrefix)for(var r=0,a=n.length;r<a;){var s=r++;"FONT"!=i[s]&&(n[s]=l.config.assetsPrefix+n[s])}l.preloader.load(n,i);t.exec()},l.init=function(){l.preloader=null,l.start()},l.main=function(){l.config={build:"94",company:"Pitzik4",file:"LD29",fps:60,name:"LD29",orientation:"",packageName:"net.pitzik4.ld29",version:"1.0.0",windows:[{antialiasing:0,background:8232703,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!1,height:480,parameters:"{}",resizable:!1,stencilBuffer:!0,title:"LD29",vsync:!1,width:640,x:null,y:null}]}},l.start=function(){for(var t=!1,e=B.resolveClass("pitzik4.ld29.Main"),n=0,i=B.getClassFields(e);n<i.length;){var r=i[n];if(++n,"main"==r){t=!0;break}}if(Pe.initialize(),t)D.field(e,"main").apply(e,[]);else B.createInstance(m,[]);Ji.current.stage.window.__fullscreen&&Ji.current.stage.dispatchEvent(new Ws("fullScreen",!1,!1,!0,!0)),Ji.current.stage.dispatchEvent(new Nt("resize",!1,!1))};var o=function(){};a["openfl.events.IEventDispatcher"]=o,o.__name__=["openfl","events","IEventDispatcher"],o.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:o};var h=function(t){null!=t&&(this.__targetDispatcher=t)};a["openfl.events.EventDispatcher"]=h,h.__name__=["openfl","events","EventDispatcher"],h.__interfaces__=[o],h.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},h.prototype={__dispatching:null,__targetDispatcher:null,__eventMap:null,__newEventMap:null,addEventListener:function(t,e,n,i,r){null==r&&(r=!1),null==i&&(i=0),null==n&&(n=!1),null==this.__eventMap&&(this.__dispatching=new ge,this.__eventMap=new ge,this.__newEventMap=new ge);var a=this.__eventMap;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t)){var s,l=this.__dispatching;if(1==(null!=vo[t]?l.getReserved(t):l.h[t])){var o=this.__newEventMap;if(null!=vo[t]?o.existsReserved(t):o.h.hasOwnProperty(t)){var _=this.__newEventMap;s=null!=vo[t]?_.getReserved(t):_.h[t]}else{var u=this.__eventMap;s=(null!=vo[t]?u.getReserved(t):u.h[t]).slice();var c=this.__newEventMap;null!=vo[t]?c.setReserved(t,s):c.h[t]=s}}else{var d=this.__eventMap;s=null!=vo[t]?d.getReserved(t):d.h[t]}for(var f=0,g=s.length;f<g;){var p=f++;if(D.compareMethods(s[p].callback,e))return}s.push(new Hs(e,n,i)),s.sort(h.__sortByPriority)}else{var m=[];m.push(new Hs(e,n,i));var v=this.__eventMap;null!=vo[t]?v.setReserved(t,m):v.h[t]=m}},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){if(null==this.__eventMap)return!1;var e,n=this.__dispatching;if(1==(null!=vo[t]?n.getReserved(t):n.h[t])){var i=this.__newEventMap;e=null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)}else e=!1;if(e){var r=this.__newEventMap;return(null!=vo[t]?r.getReserved(t):r.h[t]).length>0}var a=this.__eventMap;return null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t)},removeEventListener:function(t,e,n){if(null==n&&(n=!1),null!=this.__eventMap){var i=this.__eventMap,r=null!=vo[t]?i.getReserved(t):i.h[t];if(null!=r){var a=this.__dispatching,s=1==(null!=vo[t]?a.getReserved(t):a.h[t]);if(s){var l=this.__newEventMap;if(null!=vo[t]?l.existsReserved(t):l.h.hasOwnProperty(t)){var o=this.__newEventMap;r=null!=vo[t]?o.getReserved(t):o.h[t]}else{var h=this.__eventMap;r=(null!=vo[t]?h.getReserved(t):h.h[t]).slice();var _=this.__newEventMap;null!=vo[t]?_.setReserved(t,r):_.h[t]=r}}for(var u=0,c=r.length;u<c;){var d=u++;if(r[d].match(e,n)){r.splice(d,1);break}}if(!s){0==r.length&&this.__eventMap.remove(t);var f=this.__eventMap;new fe(f,f.arrayKeys()).hasNext()||(this.__eventMap=null,this.__newEventMap=null)}}}},toString:function(){return"[object "+B.getClassName(X.getClass(this)).split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(null==this.__eventMap||null==t)return!1;var e,n=t.type,i=this.__dispatching;if(1==(null!=vo[n]?i.getReserved(n):i.h[n])){var r=this.__newEventMap;if(null==(e=null!=vo[n]?r.getReserved(n):r.h[n]))return!1;e=e.slice()}else{var a=this.__eventMap;if(null==(e=null!=vo[n]?a.getReserved(n):a.h[n]))return!1;var s=this.__dispatching;null!=vo[n]?s.setReserved(n,!0):s.h[n]=!0}null==t.target&&(null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this),t.currentTarget=this;for(var l,o=1==t.eventPhase,h=0;h<e.length&&((l=e[h]).useCapture!=o||(l.callback(t),!t.__isCanceledNow));)l==e[h]&&++h;var _;if(null!=this.__newEventMap){var u=this.__newEventMap;_=null!=vo[n]?u.existsReserved(n):u.h.hasOwnProperty(n)}else _=!1;if(_){var c=this.__newEventMap,d=null!=vo[n]?c.getReserved(n):c.h[n];if(d.length>0){var f=this.__eventMap;null!=vo[n]?f.setReserved(n,d):f.h[n]=d}else this.__eventMap.remove(n);var g=this.__eventMap;new fe(g,g.arrayKeys()).hasNext()?this.__newEventMap.remove(n):(this.__eventMap=null,this.__newEventMap=null)}var p=t.type,m=this.__dispatching;return null!=vo[p]?m.setReserved(p,!1):m.h[p]=!1,!0},__class__:h};var _=function(){};a["openfl.display.IBitmapDrawable"]=_,_.__name__=["openfl","display","IBitmapDrawable"],_.prototype={__worldTransform:null,__worldColorTransform:null,__blendMode:null,__cacheAsBitmap:null,__renderCairo:null,__renderCairoMask:null,__renderCanvas:null,__renderCanvasMask:null,__renderGL:null,__updateChildren:null,__updateTransforms:null,__updateMask:null,__class__:_};var u=function(){this.__cacheAsBitmapSmooth=!0,this.__cacheAsBitmap=!1,this.__maskCached=!1,h.call(this),this.__alpha=1,this.__transform=new W,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__renderTransform=new W,this.__offset=new V,this.__worldOffset=new V,this.__worldAlpha=1,this.__worldTransform=new W,this.__worldColorTransform=new J,this.set_name("instance"+ ++u.__instanceCount)};a["openfl.display.DisplayObject"]=u,u.__name__=["openfl","display","DisplayObject"],u.__interfaces__=[_],u.__super__=h,u.prototype=n(h.prototype,{blendMode:null,cacheAsBitmapBounds:null,loaderInfo:null,mouseX:null,mouseY:null,opaqueBackground:null,parent:null,root:null,scale9Grid:null,shader:null,stage:null,__renderTransform:null,__worldColorTransform:null,__worldOffset:null,__worldTransform:null,__alpha:null,__blendMode:null,__cairo:null,__children:null,__filters:null,__graphics:null,__interactive:null,__isMask:null,__mask:null,__maskGraphics:null,__maskCached:null,__name:null,__objectTransform:null,__offset:null,__renderable:null,__renderDirty:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scrollRect:null,__shader:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldClip:null,__worldClipChanged:null,__worldTransformCache:null,__worldTransformChanged:null,__worldVisible:null,__worldVisibleChanged:null,__worldZ:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cacheAsBitmapSmooth:null,__forceCacheAsBitmap:null,__updateCachedBitmap:null,__cachedBitmap:null,__cachedBitmapBounds:null,__cachedFilterBounds:null,__cacheGLMatrix:null,__updateFilters:null,__canvas:null,__context:null,__style:null,getBounds:function(t){var e;null!=t?(e=this.__getWorldTransform().clone()).concat(t.__getWorldTransform().clone().invert()):(e=W.__temp).identity();var n=new z;return this.__getBounds(n,e),n},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){t=t.clone();var e=this.__getWorldTransform(),n=e.a*e.d-e.b*e.c;if(0==n)t.x=-e.tx,t.y=-e.ty;else{var i=1/n*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/n*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=i}return t},hitTestObject:function(t){if(null!=t&&null!=t.parent&&null!=this.parent){var e=this.getBounds(this),n=t.getBounds(this);return e.intersects(n)}return!1},hitTestPoint:function(t,e,n){if(null==n&&(n=!1),null!=this.parent){var i=new z;return this.__getBounds(i,this.__getWorldTransform()),i.containsPoint(new V(t,e))}return!1},localToGlobal:function(t){return this.__getWorldTransform().transformPoint(t)},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var n=h.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||n}return!1},__dispatchEvent:function(t){var e=h.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),e)},__enterFrame:function(t){},__getBounds:function(t,e){null!=this.__graphics&&this.__graphics.__getBounds(t,e)},__getCursor:function(){return null},__getInteractive:function(t){return!1},__getLocalBounds:function(t){this.__getBounds(t,this.__transform)},__getRenderBounds:function(t,e){if(null==this.__scrollRect)this.__getBounds(t,e);else{var n=z.__temp;n.copyFrom(this.__scrollRect),n.__transform(n,e),t.__expand(e.tx,e.ty,n.width,n.height)}},__getWorldTransform:function(){if(this.__transformDirty||u.__worldTransformDirty>0){var t=[],e=this,n=this.__transformDirty;if(null==this.parent)n&&this.__update(!0,!1);else for(;null!=e.parent;)t.push(e),(e=e.parent).__transformDirty&&(n=!0);if(n)for(var i=t.length;--i>=0;)t[i].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,n,i,r,a){if(null!=this.__graphics){if(!a.get_visible()||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(this.__graphics.__hitTest(t,e,n,this.__getWorldTransform()))return null==i||r||i.push(a),!0}return!1},__hitTestMask:function(t,e){return!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},__renderCairo:function(t){null!=this.__graphics&&Dr.render(this,t)},__renderCairoMask:function(t){null!=this.__graphics&&Sr.renderMask(this.__graphics,t)},__renderCanvas:function(t){if(null!=this.__graphics&&this.__renderable&&!(this.__worldAlpha<=0)){var e=this.__graphics;if(null!=e&&(kr.render(e,t),null!=e.__canvas)){var n=t.context,i=this.get_scrollRect();if(e.__bounds.width>0&&e.__bounds.height>0&&(null==i||i.width>0&&i.height>0)){null!=this.__mask&&t.maskManager.pushMask(this.__mask),n.globalAlpha=this.__worldAlpha;var r=this.__renderTransform;t.roundPixels?n.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):n.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),null==i?n.drawImage(e.__canvas,e.__bounds.x,e.__bounds.y):n.drawImage(e.__canvas,Math.ceil(e.__bounds.x+i.x),Math.ceil(e.__bounds.y+i.y),i.width,i.height,Math.ceil(e.__bounds.x+i.x),Math.ceil(e.__bounds.y+i.y),i.width,i.height),null!=this.__mask&&t.maskManager.popMask()}}}},__renderCanvasMask:function(t){null!=this.__graphics&&kr.renderMask(this.__graphics,t)},__renderDOM:function(t){if(null!=this.__graphics){var e=this.__graphics;if(null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=e){if((e.__dirty||this.__worldAlphaChanged||null==this.__canvas&&null!=e.__canvas)&&(kr.render(e,t),null!=e.__canvas?(null==this.__canvas&&(this.__canvas=window.document.createElement("canvas"),this.__context=this.__canvas.getContext("2d"),Yr.initializeElement(this,this.__canvas,t)),this.__canvas.width=e.__canvas.width,this.__canvas.height=e.__canvas.height,this.__context.globalAlpha=this.__worldAlpha,this.__context.drawImage(e.__canvas,0,0)):null!=this.__canvas&&(t.element.removeChild(this.__canvas),this.__canvas=null,this.__style=null)),null!=this.__canvas){if(this.__worldTransformChanged||e.__transformDirty){e.__transformDirty=!1;var n=W.__temp;n.identity(),n.translate(e.__bounds.x,e.__bounds.y),n.concat(this.__worldTransform),this.__style.setProperty(t.transformProperty,t.roundPixels?"matrix3d("+n.a+", "+n.b+", 0, 0, "+n.c+", "+n.d+", 0, 0, 0, 0, 1, 0, "+(0|n.tx)+", "+(0|n.ty)+", 0, 1)":"matrix3d("+n.a+", "+n.b+", 0, 0, "+n.c+", "+n.d+", 0, 0, 0, 0, 1, 0, "+n.tx+", "+n.ty+", 0, 1)",null)}Yr.applyStyle(this,t,!1,!1,!0)}}else null!=this.__canvas&&(t.element.removeChild(this.__canvas),this.__canvas=null,this.__style=null)}},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0))if(this.__cacheAsBitmap){var e=null!=this.__cacheAsBitmapMatrix,n=this.__cachedBitmapBounds.x,i=this.__cachedBitmapBounds.y,r=this.__cachedBitmapBounds.width,a=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new W),e){var s=z.__temp;this.__cachedBitmapBounds.__transform(s,this.__cacheAsBitmapMatrix),n=s.x,i=s.y,r=s.width,a=s.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(r<=0&&a<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(r+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),a+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Ia.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(r),Math.ceil(a));var l=this.__cacheGLMatrix.clone();l.translate(-n,-i);var o=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,l,null,null,null,!0,!1,!0),this.__shader=o,this.__updateCachedBitmap=!1}this.__updateFilters&&(tl.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert();var h=this.__cacheGLMatrix;h.tx=n*h.a+i*h.c+h.tx,h.ty=n*h.b+i*h.d+h.ty,this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}}else null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?la.render(this,t):(kr.render(this.__graphics,t),zr.renderBitmap(this,t))),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__drawGraphicsGL:function(t){null!=this.__graphics&&(this.__graphics.__hardware?la.render(this,t):(kr.render(this.__graphics,t),zr.renderBitmap(this,t)))},__preRenderGL:function(t){null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this)},__postRenderGL:function(t){null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__cacheGL:function(t){var e=null!=this.__cacheAsBitmapMatrix,n=this.__cachedBitmapBounds.x,i=this.__cachedBitmapBounds.y,r=this.__cachedBitmapBounds.width,a=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new W),e){var s=z.__temp;this.__cachedBitmapBounds.__transform(s,this.__cacheAsBitmapMatrix),n=s.x,i=s.y,r=s.width,a=s.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(r<=0&&a<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(r+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),a+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Ia.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(r),Math.ceil(a));var l=this.__cacheGLMatrix.clone();l.translate(-n,-i);var o=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,l,null,null,null,!0,!1,!0),this.__shader=o,this.__updateCachedBitmap=!1}this.__updateFilters&&(tl.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert();var h=this.__cacheGLMatrix;h.tx=n*h.a+i*h.c+h.tx,h.ty=n*h.b+i*h.d+h.ty,this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}},__setStageReference:function(t){this.stage!=t&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new Nt("removedFromStage",!1,!1))),this.stage=t,null!=t&&this.dispatchEvent(new Nt("addedToStage",!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)},__update:function(t,e,n){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,this.__updateTransforms(),null!=this.parent&&this.__isMask&&(this.__maskCached=!1),e&&this.__transformDirty&&(this.__transformDirty=!1,u.__worldTransformDirty--),t||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new ka),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0),null!=n&&this.__updateMask(n),!t&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new z),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,W.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new z),this.__cachedFilterBounds.setEmpty(),tl.__expandBounds(this.__filters,this.__cachedFilterBounds,W.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y)),t||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=this.parent?(this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha,this.__worldColorTransform.__combine(this.parent.__worldColorTransform),null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)):this.__worldAlpha=this.get_alpha(),e&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(t){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,(this.__renderable||this.__isMask)&&(this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,u.__worldTransformDirty--))},__updateMask:function(t){null!=this.__graphics&&(t.__commands.overrideMatrix(this.__worldTransform),t.__commands.append(this.__graphics.__commands),t.set___dirty(!0),t.__visible=!0,null==t.__bounds&&(t.__bounds=new z),this.__graphics.__getBounds(t.__bounds,W.__identity))},__updateTransforms:function(t){var e=null!=t,n=e?t.clone():this.__transform;if(null==this.__worldTransform&&(this.__worldTransform=new W),e||null==this.parent)this.__worldTransform.copyFrom(n),this.__worldOffset.setTo(0,0);else{var i=this.parent.__worldTransform;this.__worldTransform.a=n.a*i.a+n.b*i.c,this.__worldTransform.b=n.a*i.b+n.b*i.d,this.__worldTransform.c=n.c*i.a+n.d*i.c,this.__worldTransform.d=n.c*i.b+n.d*i.d,this.__worldTransform.tx=n.tx*i.a+n.ty*i.c+i.tx,this.__worldTransform.ty=n.tx*i.b+n.ty*i.d+i.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),this.__renderTransform.copyFrom(this.__worldTransform),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},get_alpha:function(){return this.__alpha},set_alpha:function(t){return t>1&&(t=1),t!=this.__alpha&&(this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)),this.__alpha=t},set_blendMode:function(t){return this.__blendMode=t,this.blendMode=t},set_shader:function(t){return this.__shader=t,this.shader=t},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},set_cacheAsBitmap:function(t){return this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++),this.__cacheAsBitmap=!!this.__forceCacheAsBitmap||t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++),this.__cacheAsBitmapMatrix=t.clone()},get_cacheAsBitmapSmooth:function(){return this.__cacheAsBitmapSmooth},set_cacheAsBitmapSmooth:function(t){return this.__cacheAsBitmapSmooth=t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){return null!=t&&t.length>0?(this.__filters=t,this.__forceCacheAsBitmap=!0,this.__cacheAsBitmap=!0,this.__updateFilters=!0):(this.__filters=null,this.__forceCacheAsBitmap=!1,this.__cacheAsBitmap=!1,this.__updateFilters=!1),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++),t},get_height:function(){var t=new z;return this.__getBounds(t,this.__transform),t.height},set_height:function(t){var e=new z,n=W.__temp;return n.identity(),this.__getBounds(e,n),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),t},get_mask:function(){return this.__mask},set_mask:function(t){if(t!=this.__mask&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskCached=!1;var e=this.__mask;e.__transformDirty||(e.__transformDirty=!0,u.__worldTransformDirty++);var n=this.__mask;n.__renderDirty||(n.__updateCachedBitmap=!0,n.__updateFilters=null!=n.get_filters()&&n.get_filters().length>0,n.__renderDirty=!0,u.__worldRenderDirty++),this.__maskGraphics=null}return null!=t&&(t.__isMask=!0),this.__mask=t},get_mouseX:function(){var t=null!=this.stage?this.stage.__mouseX:Ji.current.stage.__mouseX,e=null!=this.stage?this.stage.__mouseY:Ji.current.stage.__mouseY,n=this.__getWorldTransform(),i=n.a*n.d-n.b*n.c;return 0==i?-n.tx:1/i*(n.c*(n.ty-e)+n.d*(t-n.tx))},get_mouseY:function(){var t=null!=this.stage?this.stage.__mouseX:Ji.current.stage.__mouseX,e=null!=this.stage?this.stage.__mouseY:Ji.current.stage.__mouseY,n=this.__getWorldTransform(),i=n.a*n.d-n.b*n.c;return 0==i?-n.ty:1/i*(n.a*(e-n.ty)+n.b*(n.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?Ji.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var n=this.get_scaleX(),i=this.get_scaleY();this.__transform.a=this.__rotationCosine*n,this.__transform.b=this.__rotationSine*n,this.__transform.c=-this.__rotationSine*i,this.__transform.d=this.__rotationCosine*i,this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)}return t},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){if(0==this.__transform.c)t!=this.__transform.a&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)),this.__transform.a=t;else{var e=this.__rotationCosine*t,n=this.__rotationSine*t;this.__transform.a==e&&this.__transform.b==n||this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__transform.a=e,this.__transform.b=n}return t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){if(0==this.__transform.c)t!=this.__transform.d&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)),this.__transform.d=t;else{var e=-this.__rotationSine*t,n=this.__rotationCosine*t;this.__transform.d==n&&this.__transform.c==e||this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__transform.c=e,this.__transform.d=n}return t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new il(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new Ee(new Us("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=new il(this)),this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.set_colorTransform(t.get_colorTransform().__clone()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)),this.__visible=t},get_width:function(){var t=new z;return this.__getBounds(t,this.__transform),t.width},set_width:function(t){var e=new z,n=W.__temp;return n.identity(),this.__getBounds(e,n),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++)),this.__transform.ty=t},__class__:u,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapSmooth:"set_cacheAsBitmapSmooth",get_cacheAsBitmapSmooth:"get_cacheAsBitmapSmooth",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var c=function(){u.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.tabIndex=-1};a["openfl.display.InteractiveObject"]=c,c.__name__=["openfl","display","InteractiveObject"],c.__super__=u,c.prototype=n(u.prototype,{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,tabIndex:null,__tabEnabled:null,requestSoftKeyboard:function(){return Ji.notImplemented("InteractiveObject.requestSoftKeyboard"),!1},__getInteractive:function(t){return null!=t&&(t.push(this),null!=this.parent&&this.parent.__getInteractive(t)),!0},__hitTest:function(t,e,n,i,r,a){return!(!a.get_visible()||this.__isMask||r&&!this.mouseEnabled)&&u.prototype.__hitTest.call(this,t,e,n,i,r,a)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled=t},__class__:c,__properties__:n(u.prototype.__properties__,{set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var d=function(){c.call(this),this.mouseChildren=!0,this.__children=[],this.__removedChildren=[]};a["openfl.display.DisplayObjectContainer"]=d,d.__name__=["openfl","display","DisplayObjectContainer"],d.__super__=c,d.prototype=n(c.prototype,{mouseChildren:null,numChildren:null,tabChildren:null,__removedChildren:null,addChild:function(t){if(null!=t){null!=t.parent&&t.parent.removeChild(t),this.__children.push(t),t.parent=this,null!=this.stage&&t.__setStageReference(this.stage),t.__transformDirty||(t.__transformDirty=!0,u.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,u.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++);var e=new Nt("added",!0);e.target=t,t.__dispatchEvent(e)}return t},addChildAt:function(t,e){if(e>this.__children.length||e<0)throw new Ee("Invalid index position "+e);if(t.parent==this)I.remove(this.__children,t);else{null!=t.parent&&t.parent.removeChild(t),t.parent=this,null!=this.stage&&t.__setStageReference(this.stage),t.__transformDirty||(t.__transformDirty=!0,u.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,u.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++);var n=new Nt("added",!0);n.target=t,t.__dispatchEvent(n)}return this.__children.splice(e,0,t),t},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){return t>=0&&t<this.__children.length?this.__children[t]:null},getChildByName:function(t){for(var e=0,n=this.__children;e<n.length;){var i=n[e];if(++e,i.get_name()==t)return i}return null},getChildIndex:function(t){for(var e=0,n=this.__children.length;e<n;){var i=e++;if(this.__children[i]==t)return i}return-1},getObjectsUnderPoint:function(t){var e=[];return this.__hitTest(t.x,t.y,!1,e,!1,this),e.reverse(),e},removeChild:function(t){return null!=t&&t.parent==this&&(t.__dispatchEvent(new Nt("removed",!0)),null!=this.stage&&t.__setStageReference(null),t.parent=null,I.remove(this.__children,t),this.__removedChildren.push(t),t.__transformDirty||(t.__transformDirty=!0,u.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,u.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)),t},removeChildAt:function(t){return t>=0&&t<this.__children.length?this.removeChild(this.__children[t]):null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children.length-1)<0||t>this.__children.length-1)){if(e<t||t<0||e>this.__children.length)throw new Ee(new Ns("The supplied index is out of bounds."));for(var n=e-t;n>=0;)this.removeChildAt(t),--n}},resolve:function(t){if(null==this.__children)return null;for(var e=0,n=this.__children;e<n.length;){var i=n[e];if(++e,i.get_name()==t)return i}return null},setChildIndex:function(t,e){e>=0&&e<=this.__children.length&&t.parent==this&&(I.remove(this.__children,t),this.__children.splice(e,0,t))},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var n=this.__children.indexOf(t),i=this.__children.indexOf(e);this.__children[n]=e,this.__children[i]=t}},swapChildrenAt:function(t,e){var n=this.__children[t];this.__children[t]=this.__children[e],this.__children[e]=n,n=null},__broadcast:function(t,e){null==t.target&&(t.target=this);var n=c.prototype.__broadcast.call(this,t,e);if(!t.__isCanceled&&e)for(var i=0,r=this.__children;i<r.length;){var a=r[i];if(++i,a.__broadcast(t,!0),t.__isCanceled)return!0}return n},__enterFrame:function(t){for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__enterFrame(t)}},__getBounds:function(t,e){if(c.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var n=0,i=this.__children;n<i.length;){var r=i[n];++n,0!=r.get_scaleX()&&0!=r.get_scaleY()&&r.__getBounds(t,r.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(t,e){if(null==this.__scrollRect){if(c.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var n=0,i=this.__children;n<i.length;){var r=i[n];++n,0==r.get_scaleX()||0==r.get_scaleY()||r.__isMask||r.__getRenderBounds(t,r.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}}else c.prototype.__getRenderBounds.call(this,t,e)},__hitTest:function(t,e,n,i,r,a){if(!a.get_visible()||this.__isMask||r&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new V(t,e))))return!1;var s=this.__children.length;if(r){if(null!=i&&this.mouseChildren){if(null!=i){for(var l=i.length,o=!1,h=!1;--s>=0&&!(((o=this.__children[s].__getInteractive(null))||this.mouseEnabled&&!h)&&this.__children[s].__hitTest(t,e,n,i,!0,this.__children[s])&&(h=!0,o)););if(h)return i.splice(l,0,a),!0}}else for(;--s>=0;)if(this.__children[s].__hitTest(t,e,n,null,!0,this.__children[s]))return null!=i&&i.push(a),!0}else for(;--s>=0;)this.__children[s].__hitTest(t,e,n,i,!1,this.__children[s]);return!1},__hitTestMask:function(t,e){for(var n=this.__children.length;--n>=0;)if(this.__children[n].__hitTestMask(t,e))return!0;return!1},__renderCairo:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){c.prototype.__renderCairo.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__renderCairo(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCairoMask:function(t){null!=this.__graphics&&Sr.renderMask(this.__graphics,t);for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__renderCairoMask(t)}},__renderCanvas:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){c.prototype.__renderCanvas.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__renderCanvas(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCanvasMask:function(t){null!=this.__graphics&&kr.renderMask(this.__graphics,t);var e=new z;this.__getBounds(e,this.__transform),t.context.rect(0,0,e.width,e.height)},__renderDOM:function(t){c.prototype.__renderDOM.call(this,t),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__renderDOM(t)}for(var r=0,a=this.__removedChildren;r<a.length;){var s=a[r];++r,null==s.stage&&s.__renderDOM(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask()},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0))if(this.__cacheAsBitmap){var e=null!=this.__cacheAsBitmapMatrix,n=this.__cachedBitmapBounds.x,i=this.__cachedBitmapBounds.y,r=this.__cachedBitmapBounds.width,a=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new W),e){var s=z.__temp;this.__cachedBitmapBounds.__transform(s,this.__cacheAsBitmapMatrix),n=s.x,i=s.y,r=s.width,a=s.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(r<=0&&a<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(r+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),a+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Ia.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(r),Math.ceil(a));var l=this.__cacheGLMatrix.clone();l.translate(-n,-i);var o=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,l,null,null,null,!0,!1,!0),this.__shader=o,this.__updateCachedBitmap=!1}this.__updateFilters&&(tl.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert();var h=this.__cacheGLMatrix;h.tx=n*h.a+i*h.c+h.tx,h.ty=n*h.b+i*h.d+h.ty,this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}}else{null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?la.render(this,t):(kr.render(this.__graphics,t),zr.renderBitmap(this,t)));for(var _=0,u=this.__children;_<u.length;){var c=u[_];++_,c.__renderGL(t)}null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect(),this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(t){if(this.stage!=t&&(null!=this.stage&&this.__dispatchEvent(new Nt("removedFromStage",!1,!1)),this.stage=t,null!=t&&this.__dispatchEvent(new Nt("addedToStage",!1,!1)),null!=this.__children))for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__setStageReference(t)}},__update:function(t,e,n){if(c.prototype.__update.call(this,t,e,n),(this.__renderable||this.__isMask)&&e)for(var i=0,r=this.__children;i<r.length;){var a=r[i];++i,a.__update(t,!0,n)}},__updateChildren:function(t){c.prototype.__updateChildren.call(this,t);for(var e=0,n=this.__children;e<n.length;){var i=n[e];++e,i.__update(t,!0)}},get_numChildren:function(){return this.__children.length},__class__:d,__properties__:n(c.prototype.__properties__,{get_numChildren:"get_numChildren"})});var f=function(){d.call(this),this.buttonMode=!1,this.useHandCursor=!0,this.loaderInfo=j.create(null)};a["openfl.display.Sprite"]=f,f.__name__=["openfl","display","Sprite"],f.__super__=d,f.prototype=n(d.prototype,{buttonMode:null,graphics:null,hitArea:null,useHandCursor:null,startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?Pi.POINTER:null},__hitTest:function(t,e,n,i,r,a){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled){this.hitArea.mouseEnabled=!0;var s=this.hitArea.__hitTest(t,e,n,null,!0,a);return this.hitArea.mouseEnabled=!1,s&&(i[i.length]=a),s}}else{if(!a.get_visible()||this.__isMask||r&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(d.prototype.__hitTest.call(this,t,e,n,i,r,a))return r;if((!r||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,n,this.__getWorldTransform()))return null!=i&&i.push(a),!0}return!1},__hitTestMask:function(t,e){return!!d.prototype.__hitTestMask.call(this,t,e)||!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new ka,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return!!this.__tabEnabled||this.buttonMode},__class__:f,__properties__:n(d.prototype.__properties__,{get_graphics:"get_graphics"})});var g=function(t,e,n,i,a){if(null==i&&(i=!1),null==n&&(n=60),null==e&&(e=0),null==t&&(t=0),this._scenes=new S,this._scene=new rt,f.call(this),Z.bounds=new z(0,0,t,e),Z.assignedFrameRate=n,Z.fixed=i,Z.engine=this,Z.width=t,Z.height=e,null!=a)Z.renderMode=a,null==Z.screen?Z.screen=new at:Z.screen.init();else{var s=it.BUFFER;Z.renderMode=s,null==Z.screen?Z.screen=new at:Z.screen.init()}0==Z.randomSeed&&(Z._seed=0|Z.clamp(2147483647*Math.random()|0,1,2147483646),Z.randomSeed=Z._seed),Z.entity=new Q,Z._time=Ji.getTimer(),this.paused=!1,this.maxElapsed=.0333,this.maxFrameSkip=5,this.tickRate=4,this._frameList=[],this._systemTime=this._delta=this._frameListSum=0,this._frameLast=0,this.addEventListener("addedToStage",r(this,this.onStage)),Ji.current.addChild(this)};a["com.haxepunk.Engine"]=g,g.__name__=["com","haxepunk","Engine"],g.__super__=f,g.prototype=n(f.prototype,{paused:null,maxElapsed:null,maxFrameSkip:null,tickRate:null,init:function(){},focusGained:function(){},focusLost:function(){},update:function(){this._scene.updateLists(),null==this._scene||this._scenes.isEmpty()||this._scenes.first()==this._scene||(this._scene.end(),this._scene.updateLists(),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this.contains(this._scene.sprite)&&this.removeChild(this._scene.sprite),this._scene=this._scenes.first(),this.addChild(this._scene.sprite),Z.camera=this._scene.camera,this._scene.updateLists(),this._scene.begin(),this._scene.updateLists()),Z.tweener.active&&Z.tweener.get_hasTween()&&Z.tweener.updateTweens(),this._scene.active&&(this._scene.get_hasTween()&&this._scene.updateTweens(),this._scene.update()),this._scene.updateLists(!1),Z.screen.update()},render:function(){Z.screen.needsResize&&Z.resize(Z.windowWidth,Z.windowHeight);var t=Ji.getTimer();0==this._frameLast&&(this._frameLast=0|t),Z.renderMode==it.BUFFER&&(Z.screen.swap(),Z.screen.refresh()),Yt.resetTarget(),this._scene.visible&&this._scene.render(),Z.renderMode==it.BUFFER&&Z.screen.redraw(),t=Ji.getTimer();var e=this._frameList[this._frameList.length]=t-this._frameLast|0;this._frameListSum+=e,this._frameList.length>10&&(this._frameListSum-=this._frameList.shift()),Z.frameRate=1e3/(this._frameListSum/this._frameList.length),this._frameLast=t},setStageProperties:function(){var t=this;Z.stage.set_frameRate(Z.assignedFrameRate),Z.stage.align=6,Z.stage.scaleMode=2,Z.stage.set_displayState(2),Z.windowWidth=Z.stage.stageWidth,Z.windowHeight=Z.stage.stageHeight,this.resize(),Z.stage.addEventListener("resize",function(e){t.resize()}),Z.stage.addEventListener("activate",function(e){Z.focused=!0,t.focusGained(),t._scene.focusGained()}),Z.stage.addEventListener("deactivate",function(e){Z.focused=!1,t.focusLost(),t._scene.focusLost()})},resize:function(){0==Z.width&&(Z.width=Z.stage.stageWidth),0==Z.height&&(Z.height=Z.stage.stageHeight),Z.windowWidth=Z.stage.stageWidth,Z.windowHeight=Z.stage.stageHeight,Z.screen.set_scaleX(Z.stage.stageWidth/Z.width),Z.screen.set_scaleY(Z.stage.stageHeight/Z.height),Z.resize(Z.stage.stageWidth,Z.stage.stageHeight)},onStage:function(t){this.removeEventListener("addedToStage",r(this,this.onStage)),Z.stage=this.stage,this.setStageProperties(),Jt.enable(),null==this._scene||this._scenes.isEmpty()||this._scenes.first()==this._scene||(this._scene.end(),this._scene.updateLists(),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this.contains(this._scene.sprite)&&this.removeChild(this._scene.sprite),this._scene=this._scenes.first(),this.addChild(this._scene.sprite),Z.camera=this._scene.camera,this._scene.updateLists(),this._scene.begin(),this._scene.updateLists()),Yt.init(),this.init(),this._rate=1e3/Z.assignedFrameRate,Z.fixed?(this._skip=this._rate*(this.maxFrameSkip+1),this._last=this._prev=Ji.getTimer(),this._timer=new he(this.tickRate),this._timer.run=r(this,this.onTimer)):(this._last=Ji.getTimer(),this.addEventListener("enterFrame",r(this,this.onEnterFrame)));Z.renderMode,it.BUFFER},onEnterFrame:function(t){this._time=this._gameTime=Ji.getTimer(),Z._systemTime=this._time-this._systemTime,this._updateTime=this._time,Z.elapsed=(this._time-this._last)/1e3,Z.elapsed>this.maxElapsed&&(Z.elapsed=this.maxElapsed),Z.elapsed*=Z.rate,this._last=this._time,this.paused||this.update(),Z.consoleEnabled()&&(null==Z._console&&(Z._console=new _t),Z._console.update()),Jt.update(),this._time=this._renderTime=Ji.getTimer(),Z._updateTime=this._time-this._updateTime,this.paused?this._frameLast=this._time:this.render(),this._time=this._systemTime=Ji.getTimer(),Z._renderTime=this._time-this._renderTime,Z._gameTime=this._time-this._gameTime},onTimer:function(){if(this._time=Ji.getTimer(),this._delta+=this._time-this._last,this._last=this._time,!(this._delta<this._rate)){for(this._gameTime=0|this._time,Z._systemTime=this._time-this._systemTime,this._delta>this._skip&&(this._delta=this._skip);this._delta>=this._rate;)Z.elapsed=this._rate*Z.rate*.001,this._updateTime=this._time,this._delta-=this._rate,this._prev=this._time,this.paused||this.update(),Z.consoleEnabled()&&(null==Z._console&&(Z._console=new _t),Z._console.update()),Jt.update(),this._time=Ji.getTimer(),Z._updateTime=this._time-this._updateTime;this._renderTime=this._time,this.paused||this.render(),this._time=this._systemTime=Ji.getTimer(),Z._renderTime=this._time-this._renderTime,Z._gameTime=this._time-this._gameTime}},checkScene:function(){null==this._scene||this._scenes.isEmpty()||this._scenes.first()==this._scene||(this._scene.end(),this._scene.updateLists(),this._scene.autoClear&&this._scene.get_hasTween()&&this._scene.clearTweens(),this.contains(this._scene.sprite)&&this.removeChild(this._scene.sprite),this._scene=this._scenes.first(),this.addChild(this._scene.sprite),Z.camera=this._scene.camera,this._scene.updateLists(),this._scene.begin(),this._scene.updateLists())},pushScene:function(t){this._scenes.push(t)},popScene:function(){return this._scenes.pop()},get_scene:function(){return this._scene},set_scene:function(t){return this._scene==t?t:(this._scenes.length>0&&this._scenes.pop(),this._scenes.push(t),this._scene)},_scene:null,_scenes:null,_delta:null,_time:null,_last:null,_timer:null,_rate:null,_skip:null,_prev:null,_updateTime:null,_renderTime:null,_gameTime:null,_systemTime:null,_frameLast:null,_frameListSum:null,_frameList:null,__class__:g,__properties__:n(f.prototype.__properties__,{set_scene:"set_scene",get_scene:"get_scene"})});var p=function(){g.call(this,320,240,60,!1)};a["pitzik4.ld29.Main"]=p,p.__name__=["pitzik4","ld29","Main"],p.main=function(){new p},p.__super__=g,p.prototype=n(g.prototype,{init:function(){Z.screen.set_smoothing(!1),Z.stage.quality=2;var t=new ro;Z.engine.set_scene(t)},__class__:p});var m=function(){Ji.current.addChild(this),p.call(this),this.dispatchEvent(new Nt("addedToStage",!1,!1))};a.DocumentClass=m,m.__name__=["DocumentClass"],m.__super__=p,m.prototype=n(p.prototype,{__class__:m});var v=function(){this.onChange=new De};a["lime.AssetLibrary"]=v,v.__name__=["lime","AssetLibrary"],v.prototype={onChange:null,exists:function(t,e){return!1},getAudioBuffer:function(t){return null},getBytes:function(t){return null},getFont:function(t){return null},getImage:function(t){return null},getPath:function(t){return null},getText:function(t){var e=this.getBytes(t);return null==e?null:e.getString(0,e.length)},isLocal:function(t,e){return!0},list:function(t){return null},load:function(){var t=this;return new an(function(){return t})},loadAudioBuffer:function(t){var e=this;return new an(function(){return e.getAudioBuffer(t)})},loadBytes:function(t){var e=this;return new an(function(){return e.getBytes(t)})},loadFont:function(t){var e=this;return new an(function(){return e.getFont(t)})},loadImage:function(t){var e=this;return new an(function(){return e.getImage(t)})},loadText:function(t){return this.loadBytes(t).then(function(t){return new an(function(){return null==t?null:t.getString(0,t.length)})})},unload:function(){},__class__:v};var x=function(){this.type=new ge,this.path=new ge,this.className=new ge,v.call(this),T.registerFont(E),T.registerFont(R);var t="graphics/preloader/haxepunk.png",e=this.path;null!=vo[t]?e.setReserved(t,t):e.h[t]=t;var n=this.type;null!=vo[t]?n.setReserved(t,"IMAGE"):n.h[t]="IMAGE",t="graphics/debug/console_visible.png";var i=this.path;null!=vo[t]?i.setReserved(t,t):i.h[t]=t;var r=this.type;null!=vo[t]?r.setReserved(t,"IMAGE"):r.h[t]="IMAGE",t="graphics/debug/console_step.png";var a=this.path;null!=vo[t]?a.setReserved(t,t):a.h[t]=t;var s=this.type;null!=vo[t]?s.setReserved(t,"IMAGE"):s.h[t]="IMAGE",t="graphics/debug/console_output.png";var o=this.path;null!=vo[t]?o.setReserved(t,t):o.h[t]=t;var h=this.type;null!=vo[t]?h.setReserved(t,"IMAGE"):h.h[t]="IMAGE",t="graphics/debug/console_hidden.png";var _=this.path;null!=vo[t]?_.setReserved(t,t):_.h[t]=t;var u=this.type;null!=vo[t]?u.setReserved(t,"IMAGE"):u.h[t]="IMAGE",t="graphics/debug/console_play.png";var c=this.path;null!=vo[t]?c.setReserved(t,t):c.h[t]=t;var d=this.type;null!=vo[t]?d.setReserved(t,"IMAGE"):d.h[t]="IMAGE",t="graphics/debug/console_pause.png";var f=this.path;null!=vo[t]?f.setReserved(t,t):f.h[t]=t;var g=this.type;null!=vo[t]?g.setReserved(t,"IMAGE"):g.h[t]="IMAGE",t="graphics/debug/console_debug.png";var p=this.path;null!=vo[t]?p.setReserved(t,t):p.h[t]=t;var m=this.type;null!=vo[t]?m.setReserved(t,"IMAGE"):m.h[t]="IMAGE",t="graphics/debug/console_logo.png";var x=this.path;null!=vo[t]?x.setReserved(t,t):x.h[t]=t;var y=this.type;null!=vo[t]?y.setReserved(t,"IMAGE"):y.h[t]="IMAGE",t="font/04B_03__.ttf";var A=this.className,I=w;null!=vo[t]?A.setReserved(t,I):A.h[t]=I;var S=this.type;null!=vo[t]?S.setReserved(t,"FONT"):S.h[t]="FONT",t="font/04B_03__.ttf.png";var C=this.path;null!=vo[t]?C.setReserved(t,t):C.h[t]=t;var M=this.type;null!=vo[t]?M.setReserved(t,"IMAGE"):M.h[t]="IMAGE",t="gfx/command.png";var D=this.path;null!=vo[t]?D.setReserved(t,t):D.h[t]=t;var P=this.type;null!=vo[t]?P.setReserved(t,"IMAGE"):P.h[t]="IMAGE",t="gfx/woof.png";var L=this.path;null!=vo[t]?L.setReserved(t,t):L.h[t]=t;var k=this.type;null!=vo[t]?k.setReserved(t,"IMAGE"):k.h[t]="IMAGE",t="gfx/separator.png";var B=this.path;null!=vo[t]?B.setReserved(t,t):B.h[t]=t;var O=this.type;null!=vo[t]?O.setReserved(t,"IMAGE"):O.h[t]="IMAGE",t="gfx/selector.png";var F=this.path;null!=vo[t]?F.setReserved(t,t):F.h[t]=t;var N=this.type;null!=vo[t]?N.setReserved(t,"IMAGE"):N.h[t]="IMAGE",t="gfx/purr.png";var U=this.path;null!=vo[t]?U.setReserved(t,t):U.h[t]=t;var G=this.type;null!=vo[t]?G.setReserved(t,"IMAGE"):G.h[t]="IMAGE",t="gfx/hex.png";var X=this.path;null!=vo[t]?X.setReserved(t,t):X.h[t]=t;var Y=this.type;null!=vo[t]?Y.setReserved(t,"IMAGE"):Y.h[t]="IMAGE",t="gfx/lever.png";var H=this.path;null!=vo[t]?H.setReserved(t,t):H.h[t]=t;var V=this.type;null!=vo[t]?V.setReserved(t,"IMAGE"):V.h[t]="IMAGE",t="gfx/pole.png";var W=this.path;null!=vo[t]?W.setReserved(t,t):W.h[t]=t;var z=this.type;null!=vo[t]?z.setReserved(t,"IMAGE"):z.h[t]="IMAGE",t="gfx/door.png";var j=this.path;null!=vo[t]?j.setReserved(t,t):j.h[t]=t;var K=this.type;null!=vo[t]?K.setReserved(t,"IMAGE"):K.h[t]="IMAGE",t="gfx/meddler.png";var q=this.path;null!=vo[t]?q.setReserved(t,t):q.h[t]=t;var J=this.type;null!=vo[t]?J.setReserved(t,"IMAGE"):J.h[t]="IMAGE",t="gfx/tiles.png";var Z=this.path;null!=vo[t]?Z.setReserved(t,t):Z.h[t]=t;var Q=this.type;null!=vo[t]?Q.setReserved(t,"IMAGE"):Q.h[t]="IMAGE",t="gfx/buttons.png";var $=this.path;null!=vo[t]?$.setReserved(t,t):$.h[t]=t;var tt=this.type;null!=vo[t]?tt.setReserved(t,"IMAGE"):tt.h[t]="IMAGE",t="gfx/rock.png";var et=this.path;null!=vo[t]?et.setReserved(t,t):et.h[t]=t;var nt=this.type;null!=vo[t]?nt.setReserved(t,"IMAGE"):nt.h[t]="IMAGE",t="gfx/steel.png";var it=this.path;null!=vo[t]?it.setReserved(t,t):it.h[t]=t;var rt=this.type;null!=vo[t]?rt.setReserved(t,"IMAGE"):rt.h[t]="IMAGE",t="gfx/spikes.png";var at=this.path;null!=vo[t]?at.setReserved(t,t):at.h[t]=t;var st=this.type;null!=vo[t]?st.setReserved(t,"IMAGE"):st.h[t]="IMAGE",t="gfx/ribbit.png";var lt=this.path;null!=vo[t]?lt.setReserved(t,t):lt.h[t]=t;var ot=this.type;null!=vo[t]?ot.setReserved(t,"IMAGE"):ot.h[t]="IMAGE",t="gfx/inspector.png";var ht=this.path;null!=vo[t]?ht.setReserved(t,t):ht.h[t]=t;var _t=this.type;null!=vo[t]?_t.setReserved(t,"IMAGE"):_t.h[t]="IMAGE",t="sfx/click.ogg";var ut=this.path;null!=vo[t]?ut.setReserved(t,t):ut.h[t]=t;var ct=this.type;null!=vo[t]?ct.setReserved(t,"SOUND"):ct.h[t]="SOUND",t="sfx/introspect.ogg";var dt=this.path;null!=vo[t]?dt.setReserved(t,t):dt.h[t]=t;var ft=this.type;null!=vo[t]?ft.setReserved(t,"MUSIC"):ft.h[t]="MUSIC",t="sfx/gameplay.ogg";var gt=this.path;null!=vo[t]?gt.setReserved(t,t):gt.h[t]=t;var pt=this.type;null!=vo[t]?pt.setReserved(t,"SOUND"):pt.h[t]="SOUND",t="font/04B_03__.ttf";var mt=this.className,vt=b;null!=vo[t]?mt.setReserved(t,vt):mt.h[t]=vt;var xt=this.type;null!=vo[t]?xt.setReserved(t,"FONT"):xt.h[t]="FONT",t="lvl/level4.csv";var yt=this.path;null!=vo[t]?yt.setReserved(t,t):yt.h[t]=t;var wt=this.type;null!=vo[t]?wt.setReserved(t,"TEXT"):wt.h[t]="TEXT",t="lvl/level1.csv";var bt=this.path;null!=vo[t]?bt.setReserved(t,t):bt.h[t]=t;var Tt=this.type;null!=vo[t]?Tt.setReserved(t,"TEXT"):Tt.h[t]="TEXT",t="lvl/level5.csv";var Et=this.path;null!=vo[t]?Et.setReserved(t,t):Et.h[t]=t;var Rt=this.type;null!=vo[t]?Rt.setReserved(t,"TEXT"):Rt.h[t]="TEXT",t="lvl/level3.csv";var At=this.path;null!=vo[t]?At.setReserved(t,t):At.h[t]=t;var It=this.type;null!=vo[t]?It.setReserved(t,"TEXT"):It.h[t]="TEXT",t="lvl/level6.csv";var St=this.path;null!=vo[t]?St.setReserved(t,t):St.h[t]=t;var Ct=this.type;null!=vo[t]?Ct.setReserved(t,"TEXT"):Ct.h[t]="TEXT",t="lvl/level7.csv";var Mt=this.path;null!=vo[t]?Mt.setReserved(t,t):Mt.h[t]=t;var Dt=this.type;null!=vo[t]?Dt.setReserved(t,"TEXT"):Dt.h[t]="TEXT",t="lvl/level2.csv";var Pt=this.path;null!=vo[t]?Pt.setReserved(t,t):Pt.h[t]=t;var Lt=this.type;null!=vo[t]?Lt.setReserved(t,"TEXT"):Lt.h[t]="TEXT";var kt=null;if(null!=l.config&&Object.prototype.hasOwnProperty.call(l.config,"assetsPrefix")&&(kt=l.config.assetsPrefix),null!=kt)for(var Bt=this.path.keys();Bt.hasNext();){var Ot=Bt.next(),Ft=this.path,Nt=this.path,Ut=kt+(null!=vo[Ot]?Nt.getReserved(Ot):Nt.h[Ot]),Gt=Ft;null!=vo[Ot]?Gt.setReserved(Ot,Ut):Gt.h[Ot]=Ut}};a.DefaultAssetLibrary=x,x.__name__=["DefaultAssetLibrary"],x.__super__=v,x.prototype=n(v.prototype,{className:null,path:null,type:null,lastModified:null,timer:null,exists:function(t,e){var n=null!=e?X.__cast(e,String):null,i=this.type,r=null!=vo[t]?i.getReserved(t):i.h[t];if(null!=r){if(r==n||("SOUND"==n||"MUSIC"==n)&&("MUSIC"==r||"SOUND"==r))return!0;if("BINARY"==n||null==n||"BINARY"==r&&"TEXT"==n)return!0}return!1},getAudioBuffer:function(t){return null},getBytes:function(t){var e=sn.loaders,n=this.path,i=null!=vo[t]?n.getReserved(t):n.h[t],r=e,a=null!=vo[i]?r.getReserved(i):r.h[i];if(null==a)return null;var s=a.bytes;return null!=s?s:null},getFont:function(t){var e=this.className;return X.__cast(B.createInstance(null!=vo[t]?e.getReserved(t):e.h[t],[]),y)},getImage:function(t){var e=sn.images,n=this.path,i=null!=vo[t]?n.getReserved(t):n.h[t],r=e;return bn.fromImageElement(null!=vo[i]?r.getReserved(i):r.h[i])},getPath:function(t){var e=this.path;return null!=vo[t]?e.getReserved(t):e.h[t]},getText:function(t){var e=sn.loaders,n=this.path,i=null!=vo[t]?n.getReserved(t):n.h[t],r=e,a=null!=vo[i]?r.getReserved(i):r.h[i];if(null==a)return null;var s=a.bytes;return null!=s?s.getString(0,s.length):null},isLocal:function(t,e){null!=e&&X.__cast(e,String);return!0},list:function(t){for(var e=null!=t?X.__cast(t,String):null,n=[],i=this.type.keys();i.hasNext();){var r=i.next();(null==e||this.exists(r,t))&&n.push(r)}return n},loadAudioBuffer:function(t){var e=this,n=new ln;return n.completeWith(new an(function(){return e.getAudioBuffer(t)})),n.future},loadBytes:function(t){var e=new ln,n=this.path;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=new ri,r=this.path;e.completeWith(i.load((null!=vo[t]?r.getReserved(t):r.h[t])+"?"+Pe.cache.version))}else e.complete(this.getBytes(t));return e.future},loadImage:function(t){var e=new ln,n=this.path;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=new Image;i.onload=function(t){var n=bn.fromImageElement(i);e.complete(n)},i.onerror=r(e,e.error);var a=this.path,s=null!=vo[t]?a.getReserved(t):a.h[t];i.src=s+"?"+Pe.cache.version}else{var l=this.getImage(t);e.complete(l)}return e.future},loadText:function(t){var e=new ln,n=this.path;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=new ri,r=this.path,a=i.load((null!=vo[t]?r.getReserved(t):r.h[t])+"?"+Pe.cache.version);a.onProgress(function(t){e.progress(t)}),a.onError(function(t){e.error(t)}),a.onComplete(function(t){var n=t.getString(0,t.length);e.complete(n)})}else{var s=this.getText(t);e.complete(s)}return e.future},__class__:x});var y=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};a["lime.text.Font"]=y,y.__name__=["lime","text","Font"],y.fromBytes=function(t){var e=new y;return e.__fromBytes(t),e},y.fromFile=function(t){var e=new y;return e.__fromFile(t),e},y.prototype={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontPath:null,decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},__setSize:function(t){},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:y,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var w=function(){y.call(this),this.name="04b03"};a.__ASSET__font_04b_03___ttf=w,w.__name__=["__ASSET__font_04b_03___ttf"],w.__super__=y,w.prototype=n(y.prototype,{__class__:w});var b=function(){y.call(this),this.name="04b03"};a.__ASSET__font_5=b,b.__name__=["__ASSET__font_5"],b.__super__=y,b.prototype=n(y.prototype,{__class__:b});var T=function(t){y.call(this,t)};a["openfl.text.Font"]=T,T.__name__=["openfl","text","Font"],T.enumerateFonts=function(t){return null==t&&(t=!1),T.__registeredFonts},T.fromBytes=function(t){var e=new T;return e.__fromBytes(Bl.toBytes(t)),e},T.fromFile=function(t){var e=new T;return e.__fromFile(t),e},T.registerFont=function(t){var e=X.__cast(B.createInstance(t,[]),T);null!=e&&T.__registeredFonts.push(e)},T.__fromLimeFont=function(t){var e=new T;return e.name=t.name,e.src=t.src,e},T.__super__=y,T.prototype=n(y.prototype,{fontStyle:null,fontType:null,get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:T,__properties__:n(y.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var E=function(){var t=new w;this.src=t.src,this.name=t.name,T.call(this)};a.__ASSET__OPENFL__font_04b_03___ttf=E,E.__name__=["__ASSET__OPENFL__font_04b_03___ttf"],E.__super__=T,E.prototype=n(T.prototype,{__class__:E});var R=function(){var t=new b;this.src=t.src,this.name=t.name,T.call(this)};a.__ASSET__OPENFL__font_5=R,R.__name__=["__ASSET__OPENFL__font_5"],R.__super__=T,R.prototype=n(T.prototype,{__class__:R});var A=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};a.EReg=A,A.__name__=["EReg"],A.prototype={r:null,match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&t>=0&&t<this.r.m.length)return this.r.m[t];throw new Ee("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw new Ee("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:A};var I=function(){};a.HxOverrides=I,I.__name__=["HxOverrides"],I.cca=function(t,e){var n=t.charCodeAt(e);if(n==n)return n},I.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},I.remove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},I.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var S=function(){this.length=0};a.List=S,S.__name__=["List"],S.prototype={h:null,q:null,length:null,add:function(t){var e=new C(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},push:function(t){var e=new C(t,this.h);this.h=e,null==this.q&&(this.q=e),this.length++},first:function(){return null==this.h?null:this.h.item},last:function(){return null==this.q?null:this.q.item},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},isEmpty:function(){return null==this.h},remove:function(t){for(var e=null,n=this.h;null!=n;){if(n.item==t)return null==e?this.h=n.next:e.next=n.next,this.q==n&&(this.q=e),this.length--,!0;e=n,n=n.next}return!1},__class__:S};var C=function(t,e){this.item=t,this.next=e};a["_List.ListNode"]=C,C.__name__=["_List","ListNode"],C.prototype={item:null,next:null,__class__:C},Math.__name__=["Math"];var M=function(){f.call(this);var t=this.getBackgroundColor(),e=0;.299*(t>>16&255)+.587*(t>>8&255)+.114*(255&t)<70&&(e=16777215);var n=this.getHeight()/2-3.5,i=this.getWidth()-60;this.outline=new f,this.outline.get_graphics().beginFill(e,.07),this.outline.get_graphics().drawRect(0,0,i,7),this.outline.set_x(30),this.outline.set_y(n),this.addChild(this.outline),this.progress=new f,this.progress.get_graphics().beginFill(e,.35),this.progress.get_graphics().drawRect(0,0,i-4,3),this.progress.set_x(32),this.progress.set_y(n+2),this.progress.set_scaleX(0),this.addChild(this.progress)};a.NMEPreloader=M,M.__name__=["NMEPreloader"],M.__super__=f,M.prototype=n(f.prototype,{outline:null,progress:null,getBackgroundColor:function(){return 8232703},getHeight:function(){return 480},getWidth:function(){return 640},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Nt("complete"))},onUpdate:function(t,e){var n=t/e;n>1&&(n=1),this.progress.set_scaleX(n)},__class__:M});var D=function(){};a.Reflect=D,D.__name__=["Reflect"],D.field=function(t,e){try{return t[e]}catch(t){return ae.lastException=t,null}},D.getProperty=function(t,e){var n;if(null==t)return null;return!!t.__properties__&&(n=t.__properties__["get_"+e])?t[n]():t[e]},D.setProperty=function(t,e,n){var i;!!t.__properties__&&(i=t.__properties__["set_"+e])?t[i](n):t[e]=n},D.fields=function(t){var e=[];if(null!=t){var n=Object.prototype.hasOwnProperty;for(var i in t)"__id__"!=i&&"hx__closures__"!=i&&n.call(t,i)&&e.push(i)}return e},D.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},D.compareMethods=function(t,e){return t==e||!(!D.isFunction(t)||!D.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},D.isObject=function(t){if(null==t)return!1;var e=typeof t;return"string"==e||"object"==e&&null==t.__enum__||"function"==e&&null!=(t.__name__||t.__ename__)},D.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},D.makeVarArgs=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t(e)}};var P=function(){};a.Std=P,P.__name__=["Std"],P.string=function(t){return X.__string_rec(t,"")},P.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=I.cca(t,1)&&88!=I.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},P.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var L=function(){this.b=""};a.StringBuf=L,L.__name__=["StringBuf"],L.prototype={b:null,__class__:L};var k=function(){};a.StringTools=k,k.__name__=["StringTools"],k.startsWith=function(t,e){return t.length>=e.length&&I.substr(t,0,e.length)==e},k.endsWith=function(t,e){var n=e.length,i=t.length;return i>=n&&I.substr(t,i-n,n)==e},k.isSpace=function(t,e){var n=I.cca(t,e);return n>8&&n<14||32==n},k.ltrim=function(t){for(var e=t.length,n=0;n<e&&k.isSpace(t,n);)++n;return n>0?I.substr(t,n,e-n):t},k.rtrim=function(t){for(var e=t.length,n=0;n<e&&k.isSpace(t,e-n-1);)++n;return n>0?I.substr(t,0,e-n):t},k.trim=function(t){return k.ltrim(k.rtrim(t))},k.replace=function(t,e,n){return t.split(e).join(n)},k.hex=function(t,e){for(var n="";;)if(n="0123456789ABCDEF".charAt(15&t)+n,!((t>>>=4)>0))break;if(null!=e)for(;n.length<e;)n="0"+n;return n};var B=function(){};a.Type=B,B.__name__=["Type"],B.getSuperClass=function(t){return t.__super__},B.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},B.resolveClass=function(t){var e=a[t];return null!=e&&e.__name__?e:null},B.resolveEnum=function(t){var e=a[t];return null!=e&&e.__ename__?e:null},B.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new Ee("Too many arguments")}},B.getInstanceFields=function(t){var e=[];for(var n in t.prototype)e.push(n);return I.remove(e,"__class__"),I.remove(e,"__properties__"),e},B.getClassFields=function(t){var e=D.fields(t);return I.remove(e,"__name__"),I.remove(e,"__interfaces__"),I.remove(e,"__properties__"),I.remove(e,"__super__"),I.remove(e,"__meta__"),I.remove(e,"prototype"),e},B.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var n=2,i=t.length;n<i;){var r=n++;if(!B.enumEq(t[r],e[r]))return!1}var a=t.__enum__;if(a!=e.__enum__||null==a)return!1}catch(t){return ae.lastException=t,!1}return!0};var O={};a["_UInt.UInt_Impl_"]=O,O.__name__=["_UInt","UInt_Impl_"],O.gt=function(t,e){var n=t<0;return n!=e<0?n:t>e},O.toFloat=function(t){var e=t;return e<0?4294967296+e:e+0};var F=function(t){this.nodeType=t,this.children=[],this.attributeMap=new ge};a.Xml=F,F.__name__=["Xml"],F.parse=function(t){return Te.parse(t)},F.createElement=function(t){var e=new F(F.Element);if(e.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},F.createPCData=function(t){var e=new F(F.PCData);if(e.nodeType==F.Document||e.nodeType==F.Element)throw new Ee("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},F.createCData=function(t){var e=new F(F.CData);if(e.nodeType==F.Document||e.nodeType==F.Element)throw new Ee("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},F.createComment=function(t){var e=new F(F.Comment);if(e.nodeType==F.Document||e.nodeType==F.Element)throw new Ee("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},F.createDocType=function(t){var e=new F(F.DocType);if(e.nodeType==F.Document||e.nodeType==F.Element)throw new Ee("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},F.createProcessingInstruction=function(t){var e=new F(F.ProcessingInstruction);if(e.nodeType==F.Document||e.nodeType==F.Element)throw new Ee("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},F.createDocument=function(){return new F(F.Document)},F.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(t){if(this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=vo[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+this.nodeType);var n=this.attributeMap;null!=vo[t]?n.setReserved(t,e):n.h[t]=e},exists:function(t){if(this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},elements:function(){if(this.nodeType!=F.Document&&this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=[],e=0,n=this.children;e<n.length;){var i=n[e];++e,i.nodeType==F.Element&&t.push(i)}var r=t;return I.iter(r)},firstElement:function(){if(this.nodeType!=F.Document&&this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var n=e[t];if(++t,n.nodeType==F.Element)return n}return null},addChild:function(t){if(this.nodeType!=F.Document&&this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=F.Document&&this.nodeType!=F.Element)throw new Ee("Bad node type, expected Element or Document but found "+this.nodeType);return!!I.remove(this.children,t)&&(t.parent=null,!0)},__class__:F};var N={};a["com.haxepunk._Entity.SolidType_Impl_"]=N,N.__name__=["com","haxepunk","_Entity","SolidType_Impl_"],N.__properties__={get_type:"get_type"},N._new=function(t){return t},N.get_type=function(t){return t},N.fromLeft=function(t){return gt.Left(t)},N.fromRight=function(t){return gt.Right(t)};var U=function(){this.active=!0,this.autoClear=!1};a["com.haxepunk.Tweener"]=U,U.__name__=["com","haxepunk","Tweener"],U.prototype={active:null,autoClear:null,update:function(){},addTween:function(t,e){null==e&&(e=!1);var n=t;if(null!=n._parent)throw new Ee("Cannot add a Tween object more than once.");n._parent=this,n._next=this._tween;var i=this._tween;return null!=this._tween&&(i._prev=t),this._tween=t,e?this._tween.start():this._tween.active=!1,t},removeTween:function(t){var e=t;if(e._parent!=this)throw new Ee("Core object does not contain Tween.");return null!=e._next&&(e._next._prev=e._prev),null!=e._prev?e._prev._next=e._next:this._tween=null==e._next?null:X.__cast(e._next,ot),e._next=e._prev=null,e._parent=null,t.active=!1,t},clearTweens:function(){for(var t,e=this._tween;null!=e;)t=e._next,this.removeTween(X.__cast(e,ot)),e=t},updateTweens:function(){for(var t,e=this._tween;null!=e;)(t=X.__cast(e,ot)).active&&(t.update(),e._finish&&e.finish()),e=e._next},get_hasTween:function(){return null!=this._tween},_tween:null,__class__:U,__properties__:{get_hasTween:"get_hasTween"}};var G=function(){this._parent=Q._EMPTY,this._class=B.getClassName(X.getClass(this)),this._check=new ge;var t=this._check,e=B.getClassName(G),n=t,i=r(this,this.collideMask);null!=vo[e]?n.setReserved(e,i):n.h[e]=i;var a=this._check,s=B.getClassName(H),l=a,o=r(this,this.collideMasklist);null!=vo[s]?l.setReserved(s,o):l.h[s]=o};a["com.haxepunk.Mask"]=G,G.__name__=["com","haxepunk","Mask"],G.prototype={get_parent:function(){return this._parent!=Q._EMPTY?this._parent:null},set_parent:function(t){return null==t?this._parent=Q._EMPTY:(this._parent=t,this.update()),t},list:null,collide:function(t){var e=t._class,n=this._check,i=null!=vo[e]?n.getReserved(e):n.h[e];if(null!=i)return i(t);var r=this._class,a=t._check;return null!=(i=null!=vo[r]?a.getReserved(r):a.h[r])&&i(this)},collideMask:function(t){var e,n,i=this._parent,r=t._parent;if((i.followCamera?i.x+Z.camera.x:i.x)-this._parent.originX+this._parent.width>(r.followCamera?r.x+Z.camera.x:r.x)-t._parent.originX){var a=this._parent,s=t._parent;n=(a.followCamera?a.y+Z.camera.y:a.y)-this._parent.originY+this._parent.height>(s.followCamera?s.y+Z.camera.y:s.y)-t._parent.originY}else n=!1;if(n){var l=this._parent,o=t._parent;e=(l.followCamera?l.x+Z.camera.x:l.x)-this._parent.originX<(o.followCamera?o.x+Z.camera.x:o.x)-t._parent.originX+t._parent.width}else e=!1;if(e){var h=this._parent,_=t._parent;return(h.followCamera?h.y+Z.camera.y:h.y)-this._parent.originY<(_.followCamera?_.y+Z.camera.y:_.y)-t._parent.originY+t._parent.height}return!1},collideMasklist:function(t){return t.collide(this)},debugDraw:function(t,e,n){},update:function(){},project:function(t,e){var n,i=-1/0,r=1/0;(n=-this._parent.originX*t.x-this._parent.originY*t.y)<r&&(r=n),n>i&&(i=n),(n=(-this._parent.originX+this._parent.width)*t.x-this._parent.originY*t.y)<r&&(r=n),n>i&&(i=n),(n=-this._parent.originX*t.x+(-this._parent.originY+this._parent.height)*t.y)<r&&(r=n),n>i&&(i=n),(n=(-this._parent.originX+this._parent.width)*t.x+(-this._parent.originY+this._parent.height)*t.y)<r&&(r=n),n>i&&(i=n),e.min=r,e.max=i},_class:null,_check:null,_parent:null,__class__:G,__properties__:{set_parent:"set_parent",get_parent:"get_parent"}};var X=function(){};a["js.Boot"]=X,X.__name__=["js","Boot"],X.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},X.__trace=function(t,e){var n=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(n+=X.__string_rec(t,""),null!=e&&null!=e.customParams)for(var i=0,r=e.customParams;i<r.length;){var a=r[i];++i,n+=","+X.__string_rec(a,"")}var s;"undefined"!=typeof document&&null!=(s=document.getElementById("haxe:trace"))?s.innerHTML+=X.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},X.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var n=X.__nativeClassName(t);return null!=n?X.__resolveNativeClass(n):null},X.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var r=2,a=t.length;r<a;){var s=r++;i+=2!=s?","+X.__string_rec(t[s],e):X.__string_rec(t[s],e)}return i+")"}var l="[";e+="\t";for(var o=0,h=t.length;o<h;){var _=o++;l+=(_>0?",":"")+X.__string_rec(t[_],e)}return l+="]"}var u;try{u=t.toString}catch(t){return ae.lastException=t,"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var d=null,f="{\n";e+="\t";var g=null!=t.hasOwnProperty;for(var d in t)g&&!t.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=f.length&&(f+=", \n"),f+=e+d+" : "+X.__string_rec(t[d],e));return e=e.substring(1),f+="\n"+e+"}";case"string":return t;default:return String(t)}},X.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var n=t.__interfaces__;if(null!=n)for(var i=0,r=n.length;i<r;){var a=n[i++];if(a==e||X.__interfLoop(a,e))return!0}return X.__interfLoop(t.__super__,e)},X.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case go:return"boolean"==typeof t;case co:return!0;case fo:return"number"==typeof t;case uo:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(X.__interfLoop(X.getClass(t),e))return!0}else if("object"==typeof e&&X.__isNativeObj(e)&&t instanceof e)return!0;return e==po&&null!=t.__name__||(e==mo&&null!=t.__ename__||t.__enum__==e)}},X.__cast=function(t,e){if(X.__instanceof(t,e))return t;throw new Ee("Cannot cast "+P.string(t)+" to "+P.string(e))},X.__nativeClassName=function(t){var e=X.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},X.__isNativeObj=function(t){return null!=X.__nativeClassName(t)},X.__resolveNativeClass=function(t){return e[t]};var Y=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=1),null==t&&(t=1),this._y=0,this._x=0,this._height=0,this._width=0,G.call(this),this._width=t,this._height=e,this._x=n,this._y=i;var a=this._check,s=B.getClassName(Y),l=a,o=r(this,this.collideHitbox);null!=vo[s]?l.setReserved(s,o):l.h[s]=o};a["com.haxepunk.masks.Hitbox"]=Y,Y.__name__=["com","haxepunk","masks","Hitbox"],Y.__super__=G,Y.prototype=n(G.prototype,{collideMask:function(t){var e=this._parent,n=this._x+(e.followCamera?e.x+Z.camera.x:e.x),i=this._parent,r=this._y+(i.followCamera?i.y+Z.camera.y:i.y),a=t._parent,s=t._parent.originX+(a.followCamera?a.x+Z.camera.x:a.x),l=t._parent,o=t._parent.originY+(l.followCamera?l.y+Z.camera.y:l.y);return n+this._width>s&&r+this._height>o&&n<s+t._parent.width&&r<o+t._parent.height},collideHitbox:function(t){var e=this._parent,n=this._x+(e.followCamera?e.x+Z.camera.x:e.x),i=this._parent,r=this._y+(i.followCamera?i.y+Z.camera.y:i.y),a=t._parent,s=t._x+(a.followCamera?a.x+Z.camera.x:a.x),l=t._parent,o=t._y+(l.followCamera?l.y+Z.camera.y:l.y);return n+this._width>s&&r+this._height>o&&n<s+t._width&&r<o+t._height},get_x:function(){return this._x},set_x:function(t){return this._x==t?t:(this._x=t,null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.update(),this._x)},get_y:function(){return this._y},set_y:function(t){return this._y==t?t:(this._y=t,null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.update(),this._y)},get_width:function(){return this._width},set_width:function(t){return this._width==t?t:(this._width=t,null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.update(),this._width)},get_height:function(){return this._height},set_height:function(t){return this._height==t?t:(this._height=t,null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.update(),this._height)},update:function(){null!=(this._parent!=Q._EMPTY?this._parent:null)&&(this._parent.originX=-this._x,this._parent.originY=-this._y,this._parent.width=this._width,this._parent.height=this._height,null!=this.list&&this.list.update())},debugDraw:function(t,e,n){if(null!=this.list&&null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.list.get_count()>1){var i=this._parent!=Q._EMPTY?this._parent:null,r=((i.followCamera?i.x+Z.camera.x:i.x)-Z.camera.x+this.get_x())*e,a=this._parent!=Q._EMPTY?this._parent:null;t.drawRect(r,((a.followCamera?a.y+Z.camera.y:a.y)-Z.camera.y+this.get_y())*n,this.get_width()*e,this.get_height()*n)}},project:function(t,e){var n,i=this._x,r=this._y,a=-1/0,s=1/0;(n=i*t.x+r*t.y)<s&&(s=n),n>a&&(a=n),(n=(i+this._width)*t.x+r*t.y)<s&&(s=n),n>a&&(a=n),(n=i*t.x+(r+this._height)*t.y)<s&&(s=n),n>a&&(a=n),(n=(i+this._width)*t.x+(r+this._height)*t.y)<s&&(s=n),n>a&&(a=n),e.min=s,e.max=a},_width:null,_height:null,_x:null,_y:null,__class__:Y,__properties__:n(G.prototype.__properties__,{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var H=function(t){Y.call(this),this._masks=[],this._temp=[],this._count=0;for(var e=0;e<t.length;){var n=t[e];++e,this.add(n)}};a["com.haxepunk.masks.Masklist"]=H,H.__name__=["com","haxepunk","masks","Masklist"],H.__super__=Y,H.prototype=n(Y.prototype,{collide:function(t){for(var e=0,n=this._masks;e<n.length;){var i=n[e];if(++e,i.collide(t))return!0}return!1},collideMasklist:function(t){for(var e=0,n=this._masks;e<n.length;){var i=n[e];++e;for(var r=0,a=t._masks;r<a.length;){var s=a[r];if(++r,i.collide(s))return!0}}return!0},add:function(t){return this._masks[this._count++]=t,t.list=this,t.set_parent(this._parent!=Q._EMPTY?this._parent:null),this.update(),t},remove:function(t){if(this._masks.indexOf(t)<0)return t;this._temp.length=0;for(var e=0,n=this._masks;e<n.length;){var i=n[e];++e,i==t?(t.list=null,t.set_parent(null),this._count--,this.update()):this._temp[this._temp.length]=i}var r=this._masks;return this._masks=this._temp,this._temp=r,t},removeAt:function(t){null==t&&(t=0),this._temp.length=0;var e=this._masks.length;for(t%=e;e-- >0;)e==t?(this._masks[t].list=null,this._count--,this.update()):this._temp[this._temp.length]=this._masks[t];var n=this._masks;this._masks=this._temp,this._temp=n},removeAll:function(){for(var t=0,e=this._masks;t<e.length;){var n=e[t];++t,n.list=null}this._count=0,this._masks.length=0,this._temp.length=0,this.update()},getMask:function(t){return null==t&&(t=0),this._masks[t%this._masks.length]},set_parent:function(t){for(var e=0,n=this._masks;e<n.length;){var i=n[e];++e,i.set_parent(t)}return Y.prototype.set_parent.call(this,t)},update:function(){var t,e,n,i;t=e=2147483647,n=i=-2147483648;for(var r,a,s=0,l=this._masks;s<l.length;){var o=l[s];++s,X.__instanceof(o,kt)?null!=(a=o)&&(a.minX<e&&(e=a.minX),a.minY<t&&(t=a.minY),a.maxX>n&&(n=a.maxX),a.maxY>i&&(i=a.maxY)):null!=(r=X.__cast(o,Y))&&(r.get_x()<e&&(e=r.get_x()),r.get_y()<t&&(t=r.get_y()),r.get_x()+r.get_width()>n&&(n=r.get_x()+r.get_width()),r.get_y()+r.get_height()>i&&(i=r.get_y()+r.get_height()))}this._x=e,this._y=t,this._width=n-e,this._height=i-t,Y.prototype.update.call(this)},debugDraw:function(t,e,n){for(var i=0,r=this._masks;i<r.length;){var a=r[i];++i,a.debugDraw(t,e,n)}},count:null,get_count:function(){return this._count},_masks:null,_temp:null,_count:null,__class__:H,__properties__:n(Y.prototype.__properties__,{get_count:"get_count"})});var V=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};a["openfl.geom.Point"]=V,V.__name__=["openfl","geom","Point"],V.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},V.interpolate=function(t,e,n){return new V(e.x+n*(t.x-e.x),e.y+n*(t.y-e.y))},V.polar=function(t,e){return new V(t*Math.cos(e),t*Math.sin(e))},V.prototype={length:null,x:null,y:null,add:function(t){return new V(t.x+this.x,t.y+this.y)},clone:function(){return new V(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new V(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return new $n(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:V,__properties__:{get_length:"get_length"}};var W=function(t,e,n,i,r,a){null==a&&(a=0),null==r&&(r=0),null==i&&(i=1),null==n&&(n=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a};a["openfl.geom.Matrix"]=W,W.__name__=["openfl","geom","Matrix"],W.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new W(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var n=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=n;var i=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=i},copyColumnFrom:function(t,e){if(t>2)throw new Ee("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(t>2)throw new Ee("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(t>2)throw new Ee("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(t>2)throw new Ee("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,n,i,r){if(null==r&&(r=0),null==i&&(i=0),null==n&&(n=0),0!=n){var a=Math.cos(n),s=Math.sin(n);this.a=a*t,this.b=s*e,this.c=-s*t,this.d=a*e}else this.a=t,this.b=0,this.c=0,this.d=e;this.tx=i,this.ty=r},createGradientBox:function(t,e,n,i,r){if(null==r&&(r=0),null==i&&(i=0),null==n&&(n=0),this.a=t/1638.4,this.d=e/1638.4,0!=n){var a=Math.cos(n),s=Math.sin(n);this.b=s*this.d,this.c=-s*this.a,this.a*=a,this.d*=a}else this.b=0,this.c=0;this.tx=i+t/2,this.ty=r+e/2},deltaTransformPoint:function(t){return new V(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var n=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=n}return this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a*e-this.b*n;this.b=this.a*n+this.b*e,this.a=i;var r=this.c*e-this.d*n;this.d=this.c*n+this.d*e,this.c=r;var a=this.tx*e-this.ty*n;this.ty=this.tx*n+this.ty*e,this.tx=a},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,n,i,r,a){this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new V(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e=new wo(9);this.__array=e}return t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty,this.__array[8]=1):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0,this.__array[8]=1),this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return new Jn(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var n=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=n}},__transformInverseX:function(t,e){var n=this.a*this.d-this.b*this.c;return 0==n?-this.tx:1/n*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var n=this.a*this.d-this.b*this.c;return 0==n?-this.ty:1/n*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,n=t.y;t.x=e*this.a+n*this.c+this.tx,t.y=e*this.b+n*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},__class__:W};var z=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=n,this.height=i};a["openfl.geom.Rectangle"]=z,z.__name__=["openfl","geom","Rectangle"],z.prototype={height:null,width:null,x:null,y:null,clone:function(){return new z(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,n=this.get_right()>t.get_right()?t.get_right():this.get_right();if(n<=e)return new z;var i=this.y<t.y?t.y:this.y,r=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return r<=i?new z:new z(e,i,n-e,r-i)},intersects:function(t){var e=this.x<t.x?t.x:this.x;if((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)return!1;var n=this.y<t.y?t.y:this.y;return(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())>n},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,n=this.get_right()<t.get_right()?t.get_right():this.get_right(),i=this.y>t.y?t.y:this.y,r=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new z(e,i,n-e,r-i)},__contract:function(t,e,n,i){if(0!=this.width||0!=this.height){this.get_right(),this.get_bottom();this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+n&&(this.width=t+n-this.x),this.get_bottom()>e+i&&(this.height=e+i-this.y)}},__expand:function(t,e,n,i){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=n,void(this.height=i);var r=this.get_right(),a=this.get_bottom();this.x>t&&(this.x=t,this.width=r-t),this.y>e&&(this.y=e,this.height=a-e),r<t+n&&(this.width=t+n-this.x),a<e+i&&(this.height=e+i-this.y)},__toLimeRectangle:function(){return new Qn(this.x,this.y,this.width,this.height)},__transform:function(t,e){var n=e.a*this.x+e.c*this.y,i=n,r=e.b*this.x+e.d*this.y,a=r,s=e.a*(this.x+this.width)+e.c*this.y,l=e.b*(this.x+this.width)+e.d*this.y;s<n&&(n=s),l<r&&(r=l),s>i&&(i=s),l>a&&(a=l),s=e.a*(this.x+this.width)+e.c*(this.y+this.height),l=e.b*(this.x+this.width)+e.d*(this.y+this.height),s<n&&(n=s),l<r&&(r=l),s>i&&(i=s),l>a&&(a=l),s=e.a*this.x+e.c*(this.y+this.height),l=e.b*this.x+e.d*(this.y+this.height),s<n&&(n=s),l<r&&(r=l),s>i&&(i=s),l>a&&(a=l),t.setTo(n+e.tx,r+e.ty,i-n,a-r)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new V(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t,t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new V(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t,t},get_topLeft:function(){return new V(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:z,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var j=function(){h.call(this),this.applicationDomain=K.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters={}};a["openfl.display.LoaderInfo"]=j,j.__name__=["openfl","display","LoaderInfo"],j.create=function(t){var e=new j;return e.uncaughtErrorEvents=new q,null!=t?e.loader=t:e.url=j.__rootURL,e},j.__super__=h,j.prototype=n(h.prototype,{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,uncaughtErrorEvents:null,url:null,width:null,__class__:j});var K=function(t){this.parentDomain=null!=t?t:K.currentDomain};a["openfl.system.ApplicationDomain"]=K,K.__name__=["openfl","system","ApplicationDomain"],K.prototype={parentDomain:null,getDefinition:function(t){return B.resolveClass(t)},hasDefinition:function(t){return null!=B.resolveClass(t)},__class__:K};var q=function(){h.call(this)};a["openfl.events.UncaughtErrorEvents"]=q,q.__name__=["openfl","events","UncaughtErrorEvents"],q.__super__=h,q.prototype=n(h.prototype,{__class__:q});var J=function(t,e,n,i,r,a,s,l){null==l&&(l=0),null==s&&(s=0),null==a&&(a=0),null==r&&(r=0),null==i&&(i=1),null==n&&(n=1),null==e&&(e=1),null==t&&(t=1),this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=n,this.alphaMultiplier=i,this.redOffset=r,this.greenOffset=a,this.blueOffset=s,this.alphaOffset=l};a["openfl.geom.ColorTransform"]=J,J.__name__=["openfl","geom","ColorTransform"],J.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset=t.redMultiplier*this.redOffset+t.redOffset,this.greenOffset=t.greenMultiplier*this.greenOffset+t.greenOffset,this.blueOffset=t.blueMultiplier*this.blueOffset+t.blueOffset,this.alphaOffset=t.alphaMultiplier*this.alphaOffset+t.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new J(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),!(null==t||this.redMultiplier!=t.redMultiplier||this.greenMultiplier!=t.greenMultiplier||this.blueMultiplier!=t.blueMultiplier||!e&&this.alphaMultiplier!=t.alphaMultiplier||this.redOffset!=t.redOffset||this.greenOffset!=t.greenOffset||this.blueOffset!=t.blueOffset)&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|0|this.blueOffset},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){var t=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=t?new wo(t):null},__class__:J,__properties__:{set_color:"set_color",get_color:"get_color"}};var Z=function(){};a["com.haxepunk.HXP"]=Z,Z.__name__=["com","haxepunk","HXP"],Z.__properties__={get_RAD:"get_RAD",get_DEG:"get_DEG",set_time:"set_time",get_console:"get_console",get_random:"get_random",set_randomSeed:"set_randomSeed",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_scene:"set_scene",get_scene:"get_scene",set_world:"set_world",get_world:"get_world",get_choose:"get_choose",set_renderMode:"set_renderMode",get_NUMBER_MAX_VALUE:"get_NUMBER_MAX_VALUE"},Z.get_NUMBER_MAX_VALUE=function(){return 179*Math.pow(10,306)},Z.width=null,Z.height=null,Z.windowWidth=null,Z.windowHeight=null,Z.fixed=null,Z.assignedFrameRate=null,Z.elapsed=null,Z.screen=null,Z.buffer=null,Z.bounds=null,Z.halfWidth=null,Z.halfHeight=null,Z.renderMode=null,Z.set_renderMode=function(t){return Z.renderMode=t,null==Z.screen?Z.screen=new at:Z.screen.init(),t},Z.choose=null,Z.get_choose=function(){return D.makeVarArgs(Z._choose)},Z._choose=function(t){if(null==t||0==t.length)throw new Ee("Can't choose a random element on an empty array");if(t[0]instanceof Array&&null==t[0].__enum__){var e=X.__cast(t[0],Array);if(0!=e.length)return Z._seed=16807*Z._seed%2147483647|0,e[Z._seed/2147483647*e.length|0];throw new Ee("Can't choose a random element on an empty array")}return Z._seed=16807*Z._seed%2147483647|0,t[Z._seed/2147483647*t.length|0]},Z.get_world=function(){return Z.engine._scene},Z.set_world=function(t){return Z.engine.set_scene(t)},Z.get_scene=function(){return Z.engine._scene},Z.set_scene=function(t){return Z.engine.set_scene(t)},Z.resize=function(t,e){t=t/Z.screen.fullScaleX|0,e=e/Z.screen.fullScaleY|0,Z.width=t,Z.height=e,Z.halfWidth=t/2,Z.halfHeight=e/2,Z.bounds.width=t,Z.bounds.height=e,Z.screen.resize()},Z.clear=function(t){t.length=0},Z.setCamera=function(t,e){null==e&&(e=0),null==t&&(t=0),Z.camera.x=t,Z.camera.y=e},Z.resetCamera=function(){Z.camera.x=Z.camera.y=0},Z.get_fullscreen=function(){return 0==Z.stage.get_displayState()},Z.set_fullscreen=function(t){return t?Z.stage.set_displayState(0):Z.stage.set_displayState(2),t},Z.get_volume=function(){return Z._volume},Z.set_volume=function(t){return t<0&&(t=0),Z._volume==t?t:(Z._volume=t,st.onGlobalUpdated(!1),Z._volume)},Z.get_pan=function(){return Z._pan},Z.set_pan=function(t){return t<-1&&(t=-1),t>1&&(t=1),Z._pan==t?t:(Z._pan=t,st.onGlobalUpdated(!0),Z._pan)},Z.sign=function(t){return t<0?-1:t>0?1:0},Z.approach=function(t,e,n){return t<e-n?t+n:t>e+n?t-n:e},Z.lerp=function(t,e,n){return null==n&&(n=1),t+(e-t)*n},Z.colorLerp=function(t,e,n){if(null==n&&(n=1),n<=0)return t;if(n>=1)return e;var i=t>>24&255,r=t>>16&255,a=t>>8&255,s=255&t;return i+=((e>>24&255)-i)*n|0,r+=((e>>16&255)-r)*n|0,a+=((e>>8&255)-a)*n|0,s+=((255&e)-s)*n|0,i<<24|r<<16|a<<8|s},Z.stepTowards=function(t,e,n,i){if(null==i&&(i=1),Z.point.x=e-t.x,Z.point.y=n-t.y,Z.point.get_length()<=i)return t.x=e,void(t.y=n);Z.point.normalize(i),t.x+=Z.point.x,t.y+=Z.point.y},Z.anchorTo=function(t,e,n){null==n&&(n=0),Z.point.x=t.x-e.x,Z.point.y=t.y-e.y,Z.point.get_length()>n&&Z.point.normalize(n),t.x=e.x+Z.point.x,t.y=e.y+Z.point.y},Z.angle=function(t,e,n,i){var r=Math.atan2(i-e,n-t)*(-180/Math.PI);return r<0?r+360:r},Z.angleXY=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=0),null==n&&(n=1),e*=Math.PI/-180,t.x=Math.cos(e)*n+i,t.y=Math.sin(e)*n+r},Z.angleDifference=function(t,e){for(var n=e-t;n<-180;)n+=360;for(;n>180;)n-=360;return n},Z.rotateAround=function(t,e,n,i){if(null==i&&(i=!0),null==n&&(n=0),i){var r=Math.atan2(t.y-e.y,t.x-e.x)*(-180/Math.PI);n+=r<0?r+360:r}var a=n,s=e.x,l=e.y,o=t.x,h=t.y,_=Math.sqrt((o-s)*(o-s)+(h-l)*(h-l));a*=Math.PI/-180,t.x=Math.cos(a)*_+e.x,t.y=Math.sin(a)*_+e.y},Z.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},Z.distance=function(t,e,n,i){return null==i&&(i=0),null==n&&(n=0),Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},Z.distanceSquared=function(t,e,n,i){return null==i&&(i=0),null==n&&(n=0),(n-t)*(n-t)+(i-e)*(i-e)},Z.distanceRects=function(t,e,n,i,r,a,s,l){if(t<r+s&&r<t+n)return e<a+l&&a<e+i?0:e>a?e-(a+l):a-(e+i);if(e<a+l&&a<e+i)return t>r?t-(r+s):r-(t+n);if(t>r){if(e>a){var o=r+s,h=a+l;return Math.sqrt((o-t)*(o-t)+(h-e)*(h-e))}var _=e+i,u=r+s;return Math.sqrt((u-t)*(u-t)+(a-_)*(a-_))}if(e>a){var c=t+n,d=a+l;return Math.sqrt((r-c)*(r-c)+(d-e)*(d-e))}var f=t+n,g=e+i;return Math.sqrt((r-f)*(r-f)+(a-g)*(a-g))},Z.distanceRectPoint=function(t,e,n,i,r,a){if(t>=n&&t<=n+r)return e>=i&&e<=i+a?0:e>i?e-(i+a):i-e;if(e>=i&&e<=i+a)return t>n?t-(n+r):n-t;if(t>n){if(e>i){var s=n+r,l=i+a;return Math.sqrt((s-t)*(s-t)+(l-e)*(l-e))}var o=n+r;return Math.sqrt((o-t)*(o-t)+(i-e)*(i-e))}if(e>i){var h=i+a;return Math.sqrt((n-t)*(n-t)+(h-e)*(h-e))}return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},Z.clamp=function(t,e,n){return n>e?t<e?e:t>n?n:t:t<n?n:t>e?e:t},Z.clampInRect=function(t,e,n,i,r,a){null==a&&(a=0),t.x=Z.clamp(t.x,e+a,e+i-a),t.y=Z.clamp(t.y,n+a,n+r-a)},Z.scale=function(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)},Z.scaleClamp=function(t,e,n,i,r){return t=i+(t-e)/(n-e)*(r-i),r>i?(t=t<r?t:r)>i?t:i:(t=t<i?t:i)>r?t:r},Z.set_randomSeed=function(t){return Z._seed=0|Z.clamp(t,1,2147483646),Z.randomSeed=Z._seed,Z._seed},Z.randomizeSeed=function(){Z._seed=0|Z.clamp(2147483647*Math.random()|0,1,2147483646),Z.randomSeed=Z._seed},Z.random=null,Z.get_random=function(){return Z._seed=16807*Z._seed%2147483647|0,Z._seed/2147483647},Z.rand=function(t){return Z._seed=16807*Z._seed%2147483647|0,Z._seed/2147483647*t|0},Z.indexOf=function(t,e){return t.indexOf(e)},Z.next=function(t,e,n){return null==n&&(n=!0),n?e[(e.indexOf(t)+1)%e.length]:e[0|Math.min(e.indexOf(t)+1,e.length-1)]},Z.prev=function(t,e,n){return null==n&&(n=!0),n?e[(e.indexOf(t)-1+e.length)%e.length]:e[0|Math.max(e.indexOf(t)-1,0)]},Z.swap=function(t,e,n){return t==e?n:e},Z.insertSortedKey=function(t,e,n){for(var i=0,r=0,a=0,s=t.length-1;s>=a;)if(r=a+((s-a)/2|0),(i=n(t[r],e))>0)s=r-1;else{if(!(i<0))return;a=r+1}t.splice(i>0?r:r+1,0,e)},Z.getColorRGB=function(t,e,n){return null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),t<<16|e<<8|n},Z.getColorHSV=function(t,e,n){t=360*t|0;var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),a=n*(1-e),s=n*(1-r*e),l=n*(1-(1-r)*e);switch(i){case 0:return(255*n|0)<<16|(255*l|0)<<8|255*a|0;case 1:return(255*s|0)<<16|(255*n|0)<<8|255*a|0;case 2:return(255*a|0)<<16|(255*n|0)<<8|255*l|0;case 3:return(255*a|0)<<16|(255*s|0)<<8|255*n|0;case 4:return(255*l|0)<<16|(255*a|0)<<8|255*n|0;case 5:return(255*n|0)<<16|(255*a|0)<<8|255*s|0;default:return 0}},Z.getColorHue=function(t){var e=t>>16&255,n=t>>8&255,i=255&t,r=0|Math.max(e,Math.max(n,i)),a=0|Math.min(e,Math.min(n,i)),s=0;return r==a?s=0:r==e?s=(60*(n-i)/(r-a)+360)%360:r==n?s=60*(i-e)/(r-a)+120:r==i&&(s=60*(e-n)/(r-a)+240),s/360},Z.getColorSaturation=function(t){var e=t>>16&255,n=t>>8&255,i=255&t,r=0|Math.max(e,Math.max(n,i));return 0==r?0:(r-(0|Math.min(e,Math.min(n,i))))/r},Z.getColorValue=function(t){var e=t>>16&255,n=t>>8&255,i=255&t;return(0|Math.max(e,Math.max(n,i)))/255},Z.getRed=function(t){return t>>16&255},Z.getGreen=function(t){return t>>8&255},Z.getBlue=function(t){return 255&t},Z.getBitmap=function(t){var e=Z._bitmap;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=Z._bitmap;return null!=vo[t]?n.getReserved(t):n.h[t]}var i=ji.getBitmapData(t,!1);if(null!=i){var r=Z._bitmap;null!=vo[t]?r.setReserved(t,i):r.h[t]=i}return i},Z.overwriteBitmapCache=function(t,e){var n=Z._bitmap;return null!=vo[t]?n.setReserved(t,e):n.h[t]=e,Z.removeBitmap(t)},Z.removeBitmap=function(t){var e=Z._bitmap;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=Z._bitmap,i=null!=vo[t]?n.getReserved(t):n.h[t];return i.dispose(),i=null,Z._bitmap.remove(t)}return!1},Z.createBitmap=function(t,e,n,i){return null==i&&(i=0),null==n&&(n=!1),new Ia(t,e,n,i)},Z.timeFlag=function(){var t=he.stamp(),e=t-Z._time;return Z._time=t,e},Z.get_console=function(){return null==Z._console&&(Z._console=new _t),Z._console},Z.consoleEnabled=function(){return null!=Z._console},Z.tween=function(t,e,n,i){if(null!=i&&Object.prototype.hasOwnProperty.call(i,"delay")){var r=i.delay;return D.deleteField(i,"delay"),Z.alarm(r,function(r){Z.tween(t,e,n,i)}),null}var a=lt.OneShot,s=null,l=null,o=Z.tweener;X.__instanceof(t,U)&&(o=X.__cast(t,U)),null!=i&&(Object.prototype.hasOwnProperty.call(i,"type")&&(a=i.type),Object.prototype.hasOwnProperty.call(i,"complete")&&(s=i.complete),Object.prototype.hasOwnProperty.call(i,"ease")&&(l=i.ease),Object.prototype.hasOwnProperty.call(i,"tweener")&&(o=i.tweener));var h=new Xt(s,a);return h.tween(t,e,n,l),o.addTween(h),h},Z.alarm=function(t,e,n,i){null==n&&(n=lt.OneShot),null==i&&(i=Z.tweener);var r=new Gt(t,e,n);return i.addTween(r,!0),r},Z.frames=function(t,e,n){null==n&&(n=0);var i=[];if(++n,t<e)for(;t<=e;)i.push(t),t+=n;else for(;t>=e;)i.push(t),t-=n;return i},Z.shuffle=function(t){for(var e,n,i=t.length;--i>0;)n=t[i],Z._seed=16807*Z._seed%2147483647|0,e=Z._seed/2147483647*(i+1)|0,t[i]=t[e],t[e]=n},Z.resizeStage=function(t,e){},Z.time=null,Z.set_time=function(t){return Z._time=t,Z._time},Z._console=null,Z._time=null,Z._updateTime=null,Z._renderTime=null,Z._gameTime=null,Z._systemTime=null,Z.get_DEG=function(){return-180/Math.PI},Z.get_RAD=function(){return Math.PI/-180},Z.stage=null,Z.engine=null,Z.entity=null;var Q=function(t,e,n,i){null==e&&(e=0),null==t&&(t=0),U.call(this),this.visible=!0,this.collidable=!0,this.followCamera=!1,this.x=t,this.y=e,this.originX=this.originY=0,this.width=this.height=0,this._moveX=this._moveY=0,this._type="",this._name="",this.HITBOX=new G,this._point=Z.point,this._camera=Z.point2,this.set_layer(0),null!=n&&this.set_graphic(n),null!=i&&this.set_mask(i),this.HITBOX.set_parent(this),this._class=B.getClassName(X.getClass(this))};a["com.haxepunk.Entity"]=Q,Q.__name__=["com","haxepunk","Entity"],Q.__super__=U,Q.prototype=n(U.prototype,{visible:null,collidable:null,x:null,get_x:function(){return this.followCamera?this.x+Z.camera.x:this.x},set_x:function(t){return this.x=t},y:null,get_y:function(){return this.followCamera?this.y+Z.camera.y:this.y},set_y:function(t){return this.y=t},followCamera:null,width:null,height:null,originX:null,originY:null,renderTarget:null,added:function(){},removed:function(){},update:function(){},render:function(){null!=this._graphic&&this._graphic._visible&&(this._graphic.relative?(this._point.x=this.followCamera?this.x+Z.camera.x:this.x,this._point.y=this.followCamera?this.y+Z.camera.y:this.y):this._point.x=this._point.y=0,this._camera.x=null==this._scene?Z.camera.x:this._scene.camera.x,this._camera.y=null==this._scene?Z.camera.y:this._scene.camera.y,this._graphic.blit?this._graphic.render(null!=this.renderTarget?this.renderTarget:Z.buffer,this._point,this._camera):this._graphic.renderAtlas(this._layer,this._point,this._camera))},collide:function(t,e,n){if(null==this._scene)return null;var i=this._scene,r=i._types.exists(t)?i._types.get(t):null;if(!this.collidable||null==r)return null;if(this._x=this.followCamera?this.x+Z.camera.x:this.x,this._y=this.followCamera?this.y+Z.camera.y:this.y,this.x=e,this.y=n,null==this._mask)for(var a=r.h;null!=a;){var s=a.item;a=a.next;var l=s;if(l.collidable&&l!=this&&e-this.originX+this.width>(l.followCamera?l.x+Z.camera.x:l.x)-l.originX&&n-this.originY+this.height>(l.followCamera?l.y+Z.camera.y:l.y)-l.originY&&e-this.originX<(l.followCamera?l.x+Z.camera.x:l.x)-l.originX+l.width&&n-this.originY<(l.followCamera?l.y+Z.camera.y:l.y)-l.originY+l.height&&(null==l._mask||l._mask.collide(this.HITBOX)))return this.x=this._x,this.y=this._y,l}else for(var o=r.h;null!=o;){var h=o.item;o=o.next;var _=h;if(_.collidable&&_!=this&&e-this.originX+this.width>(_.followCamera?_.x+Z.camera.x:_.x)-_.originX&&n-this.originY+this.height>(_.followCamera?_.y+Z.camera.y:_.y)-_.originY&&e-this.originX<(_.followCamera?_.x+Z.camera.x:_.x)-_.originX+_.width&&n-this.originY<(_.followCamera?_.y+Z.camera.y:_.y)-_.originY+_.height&&this._mask.collide(null!=_._mask?_._mask:_.HITBOX))return this.x=this._x,this.y=this._y,_}return this.x=this._x,this.y=this._y,null},collideTypes:function(t,e,n){if(null==this._scene)return null;var i=t;switch(i[1]){case 0:var r=i[2];return this.collide(r,e,n);case 1:for(var a,s=i[2],l=0;l<s.length;){var o=s[l];if(++l,null!=(a=this.collide(o,e,n)))return a}}return null},collideWith:function(t,e,n){if(this._x=this.followCamera?this.x+Z.camera.x:this.x,this._y=this.followCamera?this.y+Z.camera.y:this.y,this.x=e,this.y=n,this.collidable&&t.collidable&&e-this.originX+this.width>(t.followCamera?t.x+Z.camera.x:t.x)-t.originX&&n-this.originY+this.height>(t.followCamera?t.y+Z.camera.y:t.y)-t.originY&&e-this.originX<(t.followCamera?t.x+Z.camera.x:t.x)-t.originX+t.width&&n-this.originY<(t.followCamera?t.y+Z.camera.y:t.y)-t.originY+t.height){if(null==this._mask)return null==t._mask||t._mask.collide(this.HITBOX)?(this.x=this._x,this.y=this._y,t):(this.x=this._x,this.y=this._y,null);if(this._mask.collide(null!=t._mask?t._mask:t.HITBOX))return this.x=this._x,this.y=this._y,t}return this.x=this._x,this.y=this._y,null},collideRect:function(t,e,n,i,r,a){return t-this.originX+this.width>=n&&e-this.originY+this.height>=i&&t-this.originX<=n+r&&e-this.originY<=i+a&&(null==this._mask||(this._x=this.followCamera?this.x+Z.camera.x:this.x,this._y=this.followCamera?this.y+Z.camera.y:this.y,this.x=t,this.y=e,Z.entity.x=n,Z.entity.y=i,Z.entity.width=0|r,Z.entity.height=0|a,this._mask.collide(Z.entity.HITBOX)?(this.x=this._x,this.y=this._y,!0):(this.x=this._x,this.y=this._y,!1)))},collidePoint:function(t,e,n,i){return n>=t-this.originX&&i>=e-this.originY&&n<t-this.originX+this.width&&i<e-this.originY+this.height&&(null==this._mask||(this._x=this.followCamera?this.x+Z.camera.x:this.x,this._y=this.followCamera?this.y+Z.camera.y:this.y,this.x=t,this.y=e,Z.entity.x=n,Z.entity.y=i,Z.entity.width=1,Z.entity.height=1,this._mask.collide(Z.entity.HITBOX)?(this.x=this._x,this.y=this._y,!0):(this.x=this._x,this.y=this._y,!1)))},collideInto:function(t,e,n,i){if(null!=this._scene){var r=this._scene,a=r._types.exists(t)?r._types.get(t):null;if(this.collidable&&null!=a){this._x=this.followCamera?this.x+Z.camera.x:this.x,this._y=this.followCamera?this.y+Z.camera.y:this.y,this.x=e,this.y=n;var s=i.length;if(null==this._mask)for(var l=a.h;null!=l;){var o=l.item;l=l.next;var h=o;(h=h).collidable&&h!=this&&e-this.originX+this.width>(h.followCamera?h.x+Z.camera.x:h.x)-h.originX&&n-this.originY+this.height>(h.followCamera?h.y+Z.camera.y:h.y)-h.originY&&e-this.originX<(h.followCamera?h.x+Z.camera.x:h.x)-h.originX+h.width&&n-this.originY<(h.followCamera?h.y+Z.camera.y:h.y)-h.originY+h.height&&(null==h._mask||h._mask.collide(this.HITBOX))&&(i[s++]=h)}else for(var _=a.h;null!=_;){var u=_.item;_=_.next;var c=u;(c=c).collidable&&c!=this&&e-this.originX+this.width>(c.followCamera?c.x+Z.camera.x:c.x)-c.originX&&n-this.originY+this.height>(c.followCamera?c.y+Z.camera.y:c.y)-c.originY&&e-this.originX<(c.followCamera?c.x+Z.camera.x:c.x)-c.originX+c.width&&n-this.originY<(c.followCamera?c.y+Z.camera.y:c.y)-c.originY+c.height&&this._mask.collide(null!=c._mask?c._mask:c.HITBOX)&&(i[s++]=c)}this.x=this._x,this.y=this._y}}},collideTypesInto:function(t,e,n,i){if(null!=this._scene)for(var r=0;r<t.length;){var a=t[r];++r,this.collideInto(a,e,n,i)}},onCamera:null,get_onCamera:function(){return null!=this._scene&&this.collideRect(this.followCamera?this.x+Z.camera.x:this.x,this.followCamera?this.y+Z.camera.y:this.y,this._scene.camera.x,this._scene.camera.y,Z.width,Z.height)},get_world:function(){return this._scene},get_scene:function(){return this._scene},halfWidth:null,get_halfWidth:function(){return this.width/2},halfHeight:null,get_halfHeight:function(){return this.height/2},centerX:null,get_centerX:function(){return(this.followCamera?this.x+Z.camera.x:this.x)-this.originX+this.width/2},centerY:null,get_centerY:function(){return(this.followCamera?this.y+Z.camera.y:this.y)-this.originY+this.height/2},left:null,get_left:function(){return(this.followCamera?this.x+Z.camera.x:this.x)-this.originX},right:null,get_right:function(){return(this.followCamera?this.x+Z.camera.x:this.x)-this.originX+this.width},top:null,get_top:function(){return(this.followCamera?this.y+Z.camera.y:this.y)-this.originY},bottom:null,get_bottom:function(){return(this.followCamera?this.y+Z.camera.y:this.y)-this.originY+this.height},get_layer:function(){return this._layer},set_layer:function(t){return this._layer==t?this._layer:null==this._scene?(this._layer=t,this._layer):(this._scene.removeRender(this),this._layer=t,this._scene.addRender(this),this._layer)},get_type:function(){return this._type},set_type:function(t){return this._type==t?this._type:null==this._scene?(this._type=t,this._type):(""!=this._type&&this._scene.removeType(this),this._type=t,""!=t&&this._scene.addType(this),this._type)},get_mask:function(){return this._mask},set_mask:function(t){return this._mask==t?t:(null!=this._mask&&this._mask.set_parent(null),this._mask=t,null!=t&&this._mask.set_parent(this),this._mask)},get_graphic:function(){return this._graphic},set_graphic:function(t){return this._graphic==t?t:(this._graphic=t,this._graphic)},get_name:function(){return this._name},set_name:function(t){return this._name==t?this._name:null==this._scene?(this._name=t,this._name):(""!=this._name&&this._scene._entityNames.remove(this._name),this._name=t,""!=t&&this._scene._entityNames.set(this._name,this),this._name)},addGraphic:function(t){if(null==this._graphic)this.set_graphic(t);else if(X.__instanceof(this._graphic,vt))X.__cast(this._graphic,vt).add(t);else{var e=new vt;e.add(this._graphic),e.add(t),this.set_graphic(e)}return t},setHitbox:function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.width=t,this.height=e,this.originX=n,this.originY=i},setHitboxTo:function(t){this.width=D.getProperty(t,"width"),this.height=D.getProperty(t,"height"),Object.prototype.hasOwnProperty.call(t,"originX")&&Object.prototype.hasOwnProperty.call(t,"originY")?(this.originX=D.getProperty(t,"originX"),this.originY=D.getProperty(t,"originY")):(this.originX=D.getProperty(t,"x"),this.originY=D.getProperty(t,"y"),this.originX=-this.originX,this.originY=-this.originY)},setOrigin:function(t,e){null==e&&(e=0),null==t&&(t=0),this.originX=t,this.originY=e},centerOrigin:function(){this.originX=this.width/2|0,this.originY=this.height/2|0},distanceFrom:function(t,e){return null==e&&(e=!1),e?Z.distanceRects((this.followCamera?this.x+Z.camera.x:this.x)-this.originX,(this.followCamera?this.y+Z.camera.y:this.y)-this.originY,this.width,this.height,(t.followCamera?t.x+Z.camera.x:t.x)-t.originX,(t.followCamera?t.y+Z.camera.y:t.y)-t.originY,t.width,t.height):Math.sqrt(((this.followCamera?this.x+Z.camera.x:this.x)-(t.followCamera?t.x+Z.camera.x:t.x))*((this.followCamera?this.x+Z.camera.x:this.x)-(t.followCamera?t.x+Z.camera.x:t.x))+((this.followCamera?this.y+Z.camera.y:this.y)-(t.followCamera?t.y+Z.camera.y:t.y))*((this.followCamera?this.y+Z.camera.y:this.y)-(t.followCamera?t.y+Z.camera.y:t.y)))},distanceToPoint:function(t,e,n){return null==n&&(n=!1),n?Z.distanceRectPoint(t,e,(this.followCamera?this.x+Z.camera.x:this.x)-this.originX,(this.followCamera?this.y+Z.camera.y:this.y)-this.originY,this.width,this.height):Math.sqrt(((this.followCamera?this.x+Z.camera.x:this.x)-t)*((this.followCamera?this.x+Z.camera.x:this.x)-t)+((this.followCamera?this.y+Z.camera.y:this.y)-e)*((this.followCamera?this.y+Z.camera.y:this.y)-e))},distanceToRect:function(t,e,n,i){return Z.distanceRects(t,e,n,i,(this.followCamera?this.x+Z.camera.x:this.x)-this.originX,(this.followCamera?this.y+Z.camera.y:this.y)-this.originY,this.width,this.height)},toString:function(){return this._class},moveBy:function(t,e,n,i){if(null==i&&(i=!1),this._moveX+=t,this._moveY+=e,t=Math.round(this._moveX),e=Math.round(this._moveY),this._moveX-=t,this._moveY-=e,null!=n){var r,a;if(0!=t)if(this.collidable&&(i||null!=this.collideTypes(n,(this.followCamera?this.x+Z.camera.x:this.x)+t,this.followCamera?this.y+Z.camera.y:this.y)))for(r=t>0?1:-1;0!=t;){if(null!=(a=this.collideTypes(n,(this.followCamera?this.x+Z.camera.x:this.x)+r,this.followCamera?this.y+Z.camera.y:this.y))){if(this.moveCollideX(a))break;var s=this;s.x=(s.followCamera?s.x+Z.camera.x:s.x)+r}else{var l=this;l.x=(l.followCamera?l.x+Z.camera.x:l.x)+r}t-=r}else{var o=this;o.x=(o.followCamera?o.x+Z.camera.x:o.x)+t}if(0!=e)if(this.collidable&&(i||null!=this.collideTypes(n,this.followCamera?this.x+Z.camera.x:this.x,(this.followCamera?this.y+Z.camera.y:this.y)+e)))for(r=e>0?1:-1;0!=e;){if(null!=(a=this.collideTypes(n,this.followCamera?this.x+Z.camera.x:this.x,(this.followCamera?this.y+Z.camera.y:this.y)+r))){if(this.moveCollideY(a))break;var h=this;h.y=(h.followCamera?h.y+Z.camera.y:h.y)+r}else{var _=this;_.y=(_.followCamera?_.y+Z.camera.y:_.y)+r}e-=r}else{var u=this;u.y=(u.followCamera?u.y+Z.camera.y:u.y)+e}}else{var c=this;c.x=(c.followCamera?c.x+Z.camera.x:c.x)+t;var d=this;d.y=(d.followCamera?d.y+Z.camera.y:d.y)+e}},moveTo:function(t,e,n,i){null==i&&(i=!1),this.moveBy(t-(this.followCamera?this.x+Z.camera.x:this.x),e-(this.followCamera?this.y+Z.camera.y:this.y),n,i)},moveTowards:function(t,e,n,i,r){null==r&&(r=!1),this._point.x=t-(this.followCamera?this.x+Z.camera.x:this.x),this._point.y=e-(this.followCamera?this.y+Z.camera.y:this.y),this._point.x*this._point.x+this._point.y*this._point.y>n*n&&this._point.normalize(n),this.moveBy(this._point.x,this._point.y,i,r)},moveAtAngle:function(t,e,n,i){null==i&&(i=!1),t*=Math.PI/-180,this.moveBy(Math.cos(t)*e,Math.sin(t)*e,n,i)},moveCollideX:function(t){return!0},moveCollideY:function(t){return!0},clampHorizontal:function(t,e,n){null==n&&(n=0),(this.followCamera?this.x+Z.camera.x:this.x)-this.originX<t+n&&(this.x=t+this.originX+n),(this.followCamera?this.x+Z.camera.x:this.x)-this.originX+this.width>e-n&&(this.x=e-this.width+this.originX-n)},clampVertical:function(t,e,n){null==n&&(n=0),(this.followCamera?this.y+Z.camera.y:this.y)-this.originY<t+n&&(this.y=t+this.originY+n),(this.followCamera?this.y+Z.camera.y:this.y)-this.originY+this.height>e-n&&(this.y=e-this.height+this.originY-n)},centerGraphicInRect:function(){null!=this._graphic&&(this._graphic.x=this.width/2,this._graphic.y=this.height/2)},_class:null,_scene:null,_type:null,_layer:null,_name:null,_recycleNext:null,HITBOX:null,_mask:null,_x:null,_y:null,_moveX:null,_moveY:null,_graphic:null,_point:null,_camera:null,__class__:Q,__properties__:n(U.prototype.__properties__,{set_name:"set_name",get_name:"get_name",set_graphic:"set_graphic",get_graphic:"get_graphic",set_mask:"set_mask",get_mask:"get_mask",set_type:"set_type",get_type:"get_type",set_layer:"set_layer",get_layer:"get_layer",get_bottom:"get_bottom",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_centerY:"get_centerY",get_centerX:"get_centerX",get_halfHeight:"get_halfHeight",get_halfWidth:"get_halfWidth",get_scene:"get_scene",get_world:"get_world",get_onCamera:"get_onCamera",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var $={};a["com.haxepunk._Graphic.TileType_Impl_"]=$,$.__name__=["com","haxepunk","_Graphic","TileType_Impl_"],$.__properties__={get_type:"get_type"},$._new=function(t){return t},$.get_type=function(t){return t},$.fromString=function(t){if(Z.renderMode==it.HARDWARE){var e=null;if(At._dataPool.exists(t))e=At._dataPool.get(t);else{var n=Z.getBitmap(t);null!=n&&(e=new At(n,t))}var i=e;return gt.Right(new Ct(i))}return gt.Left(Z.getBitmap(t))},$.fromTileAtlas=function(t){return gt.Right(t)},$.fromBitmapData=function(t){if(Z.renderMode==it.HARDWARE){var e=new At(t);return gt.Right(new Ct(e))}return gt.Left(t)};var tt={};a["com.haxepunk._Graphic.ImageType_Impl_"]=tt,tt.__name__=["com","haxepunk","_Graphic","ImageType_Impl_"],tt.__properties__={get_type:"get_type"},tt._new=function(t){return t},tt.get_type=function(t){return t},tt.fromString=function(t){if(Z.renderMode==it.HARDWARE){var e=null;if(At._dataPool.exists(t))e=At._dataPool.get(t);else{var n=Z.getBitmap(t);null!=n&&(e=new At(n,t))}var i=e;return gt.Right(Et.loadImageAsRegion(i))}return gt.Left(Z.getBitmap(t))},tt.fromTileAtlas=function(t){return gt.Right(t.getRegion(0))},tt.fromAtlasRegion=function(t){return gt.Right(t)},tt.fromBitmapData=function(t){if(Z.renderMode==it.HARDWARE){var e=new At(t);return gt.Right(Et.loadImageAsRegion(e))}return gt.Left(t)};var et=function(){this.active=!1,this._visible=!0,this.x=this.y=0,this.scrollX=this.scrollY=1,this.relative=!0,this._scroll=!0,this._point=new V};a["com.haxepunk.Graphic"]=et,et.__name__=["com","haxepunk","Graphic"],et.prototype={active:null,get_visible:function(){return this._visible},set_visible:function(t){return this._visible=t},x:null,get_x:function(){return this.x},set_x:function(t){return this.x=t},y:null,get_y:function(){return this.y},set_y:function(t){return this.y=t},scrollX:null,scrollY:null,relative:null,blit:null,update:function(){},destroy:function(){},render:function(t,e,n){},renderAtlas:function(t,e,n){},pause:function(){this.active=!1},resume:function(){this.active=!0},_scroll:null,_point:null,_entity:null,_visible:null,__class__:et,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_visible:"set_visible",get_visible:"get_visible"}};var nt={};a["com.haxepunk._HXP.Position_Impl_"]=nt,nt.__name__=["com","haxepunk","_HXP","Position_Impl_"],nt.__properties__={set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},nt._new=function(t){return t},nt.get_x=function(t){return t.x},nt.set_x=function(t,e){return t.x=e},nt.get_y=function(t){return t.y},nt.set_y=function(t,e){return t.y=e},nt.fromObject=function(t){return nt._new(t)},nt.fromEntity=function(t){return nt._new(t)};var it=a["com.haxepunk.RenderMode"]={__ename__:!0,__constructs__:["BUFFER","HARDWARE"]};it.BUFFER=["BUFFER",0],it.BUFFER.toString=s,it.BUFFER.__enum__=it,it.HARDWARE=["HARDWARE",1],it.HARDWARE.toString=s,it.HARDWARE.__enum__=it;var rt=function(){U.call(this),this.visible=!0,this.camera=new V,this.sprite=new f,this._layerList=[],this._add=[],this._remove=[],this._recycle=[],this._update=new S,this._layerDisplay=new ce,this._layers=new ce,this._types=new ge,this._classCount=new ge,this._recycled=new ge,this._entityNames=new ge};a["com.haxepunk.Scene"]=rt,rt.__name__=["com","haxepunk","Scene"],rt.squareRects=function(t,e,n,i,r,a,s,l){if(t<r+s&&r<t+n)return e<a+l&&a<e+i?0:e>a?(e-(a+l))*(e-(a+l)):(a-(e+i))*(a-(e+i));if(e<a+l&&a<e+i)return t>r?(t-(r+s))*(t-(r+s)):(r-(t+n))*(r-(t+n));if(t>r){if(e>a){var o=r+s,h=a+l;return(t-o)*(t-o)+(e-h)*(e-h)}var _=r+s,u=e+i;return(t-_)*(t-_)+(u-a)*(u-a)}if(e>a){var c=a+l,d=t+n;return(d-r)*(d-r)+(e-c)*(e-c)}var f=t+n,g=e+i;return(f-r)*(f-r)+(g-a)*(g-a)},rt.squarePointRect=function(t,e,n,i,r,a){if(t>=n&&t<=n+r)return e>=i&&e<=i+a?0:e>i?(e-(i+a))*(e-(i+a)):(i-e)*(i-e);if(e>=i&&e<=i+a)return t>n?(t-(n+r))*(t-(n+r)):(n-t)*(n-t);if(t>n){if(e>i){var s=n+r,l=i+a;return(t-s)*(t-s)+(e-l)*(e-l)}var o=n+r;return(t-o)*(t-o)+(e-i)*(e-i)}if(e>i){var h=i+a;return(t-n)*(t-n)+(e-h)*(e-h)}return(t-n)*(t-n)+(e-i)*(e-i)},rt.__super__=U,rt.prototype=n(U.prototype,{visible:null,camera:null,begin:function(){},end:function(){},focusGained:function(){},focusLost:function(){},update:function(){for(var t=this._update.h;null!=t;){var e=t.item;t=t.next;var n=e;n.active&&(n.get_hasTween()&&n.updateTweens(),n.update()),null!=n._graphic&&n._graphic.active&&n._graphic.update()}},showLayer:function(t,e){null==e&&(e=!0),this._layerDisplay.h[t]=e},layerVisible:function(t){return!this._layerDisplay.h.hasOwnProperty(t)||this._layerDisplay.h[t]},layerSort:function(t,e){return e-t},render:function(){Z.renderMode==it.HARDWARE&&(At._scene=this,At._scene.sprite.get_graphics().clear());for(var t=0,e=this._layerList;t<e.length;){var n=e[t];if(++t,!this._layerDisplay.exists(n)||this._layerDisplay.get(n))for(var i=this._layers.h[n].h;null!=i;){var r=i.item;i=i.next;var a=r;a.visible&&a.render()}}if(Z.renderMode==it.HARDWARE&&null!=At.active){if(null!=At.active){var s=At.active;0!=s._dataIndex&&(s._tilesheet.drawTiles(At._scene.sprite.get_graphics(),s._data,!1,s._renderFlags,s._dataIndex),s._dataIndex=0),0!=s._smoothDataIndex&&(s._tilesheet.drawTiles(At._scene.sprite.get_graphics(),s._smoothData,!0,s._renderFlags,s._smoothDataIndex),s._smoothDataIndex=0)}At.active=null}},mouseX:null,get_mouseX:function(){return Z.screen.get_mouseX()+this.camera.x|0},mouseY:null,get_mouseY:function(){return Z.screen.get_mouseY()+this.camera.y|0},sprite:null,add:function(t){return this._add[this._add.length]=t,t},remove:function(t){return this._remove[this._remove.length]=t,t},removeAll:function(){for(var t=this._update.h;null!=t;){var e=t.item;t=t.next;var n=e;this._remove[this._remove.length]=n}},addList:function(t){for(var e=i(t)();e.hasNext();){var n=e.next();this.add(n)}},removeList:function(t){for(var e=i(t)();e.hasNext();){var n=e.next();this.remove(n)}},addGraphic:function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0);var r=new Q(n,i,t);return r.set_layer(e),r.active=!1,this.add(r)},addMask:function(t,e,n,i){null==i&&(i=0),null==n&&(n=0);var r=new Q(n,i,null,t);return""!=e&&r.set_type(e),r.active=r.visible=!1,this.add(r)},create:function(t,e,n){null==e&&(e=!0);var i=B.getClassName(t),r=this._recycled,a=null!=vo[i]?r.getReserved(i):r.h[i];if(null!=a){var s=a._recycleNext,l=this._recycled;null!=vo[i]?l.setReserved(i,s):l.h[i]=s,a._recycleNext=null}else a=null!=n?B.createInstance(t,n):B.createInstance(t,[]);return e?this.add(a):a},recycle:function(t){return this._recycle[this._recycle.length]=t,this.remove(t)},clearRecycled:function(t){for(var e,n=B.getClassName(t),i=this._recycled,r=null!=vo[n]?i.getReserved(n):i.h[n];null!=r;)e=r._recycleNext,r._recycleNext=null,r=e;this._recycled.remove(n)},clearRecycledAll:function(){for(var t=this._recycled,e=new fe(t,t.arrayKeys());e.hasNext();){var n=e.next();this.clearRecycled(null==n?null:X.getClass(n))}},bringToFront:function(t){if(t._scene!=this)return!1;var e=this._layers.h[t._layer];return e.remove(t),e.push(t),!0},sendToBack:function(t){if(t._scene!=this)return!1;var e=this._layers.h[t._layer];return e.remove(t),e.add(t),!0},bringForward:function(t){return t._scene==this},sendBackward:function(t){return t._scene==this},isAtFront:function(t){return t==this._layers.h[t._layer].first()},isAtBack:function(t){return t==this._layers.h[t._layer].last()},collideRect:function(t,e,n,i,r){var a=this._types;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t)){var s,l=this._types;for(s=(null!=vo[t]?l.getReserved(t):l.h[t]).h;null!=s;){var o=s.item;s=s.next;var h=o;if(h.collidable&&h.collideRect(h.followCamera?h.x+Z.camera.x:h.x,h.followCamera?h.y+Z.camera.y:h.y,e,n,i,r))return h}}return null},collidePoint:function(t,e,n){var i=null,r=this._types;if(null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)){var a,s=this._types;for(a=(null!=vo[t]?s.getReserved(t):s.h[t]).h;null!=a;){var l=a.item;a=a.next;var o=l;o.collidable&&o.collidePoint(o.followCamera?o.x+Z.camera.x:o.x,o.followCamera?o.y+Z.camera.y:o.y,e,n)&&(null==i?i=o:o._layer<i._layer&&(i=o))}}return i},collideLine:function(t,e,n,i,r,a,s){if(null==a&&(a=1),a<1&&(a=1),Math.sqrt((i-e)*(i-e)+(r-n)*(r-n))<a)return null!=s?e==i&&n==r?(s.x=i,s.y=r,this.collidePoint(t,i,r)):this.collideLine(t,e,n,i,r,1,s):this.collidePoint(t,e,r);var l,o=0|Math.abs(i-e),h=0|Math.abs(r-n),_=i>e?a:-a,u=r>n?a:-a,c=e,d=n;if(o>h)if(u*=h/o,_>0)for(;c<i;){if(null!=(l=this.collidePoint(t,c,d)))return null==s?l:a<2?(s.x=c-_,s.y=d-u,l):this.collideLine(t,c-_|0,d-u|0,i,r,1,s);c+=_,d+=u}else for(;c>i;){if(null!=(l=this.collidePoint(t,c,d)))return null==s?l:a<2?(s.x=c-_,s.y=d-u,l):this.collideLine(t,c-_|0,d-u|0,i,r,1,s);c+=_,d+=u}else if(_*=o/h,u>0)for(;d<r;){if(null!=(l=this.collidePoint(t,c,d)))return null==s?l:a<2?(s.x=c-_,s.y=d-u,l):this.collideLine(t,c-_|0,d-u|0,i,r,1,s);c+=_,d+=u}else for(;d>r;){if(null!=(l=this.collidePoint(t,c,d)))return null==s?l:a<2?(s.x=c-_,s.y=d-u,l):this.collideLine(t,c-_|0,d-u|0,i,r,1,s);c+=_,d+=u}if(a>1){if(null==s)return this.collidePoint(t,i,r);if(null!=this.collidePoint(t,i,r))return this.collideLine(t,c-_|0,d-u|0,i,r,1,s)}return null!=s&&(s.x=i,s.y=r),null},collideRectInto:function(t,e,n,i,r,a){var s=a.length,l=this._types;if(null!=vo[t]?l.existsReserved(t):l.h.hasOwnProperty(t)){var o,h=this._types;for(o=(null!=vo[t]?h.getReserved(t):h.h[t]).h;null!=o;){var _=o.item;o=o.next;var u=_;u.collidable&&u.collideRect(u.followCamera?u.x+Z.camera.x:u.x,u.followCamera?u.y+Z.camera.y:u.y,e,n,i,r)&&(a[s++]=u)}}},collideCircleInto:function(t,e,n,i,r){var a=this._types;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t)){var s=r.length;i*=i;var l,o=this._types;for(l=(null!=vo[t]?o.getReserved(t):o.h[t]).h;null!=l;){var h=l.item;l=l.next;var _=h,u=_.followCamera?_.x+Z.camera.x:_.x,c=_.followCamera?_.y+Z.camera.y:_.y;(u-e)*(u-e)+(c-n)*(c-n)<i&&(r[s++]=_)}}},collidePointInto:function(t,e,n,i){var r=this._types;if(null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)){var a,s=i.length,l=this._types;for(a=(null!=vo[t]?l.getReserved(t):l.h[t]).h;null!=a;){var o=a.item;a=a.next;var h=o;h.collidable&&h.collidePoint(h.followCamera?h.x+Z.camera.x:h.x,h.followCamera?h.y+Z.camera.y:h.y,e,n)&&(i[s++]=h)}}},nearestToRect:function(t,e,n,i,r){var a=this._types;if(!(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t)))return null;var s,l,o=179*Math.pow(10,306),h=null,_=this._types;for(l=(null!=vo[t]?_.getReserved(t):_.h[t]).h;null!=l;){var u=l.item;l=l.next;var c=u;(s=rt.squareRects(e,n,i,r,(c.followCamera?c.x+Z.camera.x:c.x)-c.originX,(c.followCamera?c.y+Z.camera.y:c.y)-c.originY,c.width,c.height))<o&&(o=s,h=c)}return h},nearestToEntity:function(t,e,n){null==n&&(n=!1);var i=this._types;if(!(null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)))return null;if(n)return this.nearestToRect(t,(e.followCamera?e.x+Z.camera.x:e.x)-e.originX,(e.followCamera?e.y+Z.camera.y:e.y)-e.originY,e.width,e.height);var r,a,s=179*Math.pow(10,306),l=null,o=(e.followCamera?e.x+Z.camera.x:e.x)-e.originX,h=(e.followCamera?e.y+Z.camera.y:e.y)-e.originY,_=this._types;for(a=(null!=vo[t]?_.getReserved(t):_.h[t]).h;null!=a;){var u=a.item;a=a.next;var c=u;(r=(o-(c.followCamera?c.x+Z.camera.x:c.x))*(o-(c.followCamera?c.x+Z.camera.x:c.x))+(h-(c.followCamera?c.y+Z.camera.y:c.y))*(h-(c.followCamera?c.y+Z.camera.y:c.y)))<s&&(s=r,l=c)}return l},nearestToClass:function(t,e,n,i){null==i&&(i=!1);var r=this._types;if(!(null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)))return null;if(i)return this.nearestToRect(t,(e.followCamera?e.x+Z.camera.x:e.x)-e.originX,(e.followCamera?e.y+Z.camera.y:e.y)-e.originY,e.width,e.height);var a,s,l=179*Math.pow(10,306),o=null,h=(e.followCamera?e.x+Z.camera.x:e.x)-e.originX,_=(e.followCamera?e.y+Z.camera.y:e.y)-e.originY,u=this._types;for(s=(null!=vo[t]?u.getReserved(t):u.h[t]).h;null!=s;){var c=s.item;s=s.next;var d=c;(a=(h-(d.followCamera?d.x+Z.camera.x:d.x))*(h-(d.followCamera?d.x+Z.camera.x:d.x))+(_-(d.followCamera?d.y+Z.camera.y:d.y))*(_-(d.followCamera?d.y+Z.camera.y:d.y)))<l&&X.__instanceof(e,n)&&(l=a,o=d)}return o},nearestToPoint:function(t,e,n,i){null==i&&(i=!1);var r=this._types;if(!(null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)))return null;var a,s=179*Math.pow(10,306),l=null;if(i){var o,h=this._types;for(o=(null!=vo[t]?h.getReserved(t):h.h[t]).h;null!=o;){var _=o.item;o=o.next;var u=_;(a=rt.squarePointRect(e,n,(u.followCamera?u.x+Z.camera.x:u.x)-u.originX,(u.followCamera?u.y+Z.camera.y:u.y)-u.originY,u.width,u.height))<s&&(s=a,l=u)}}else{var c,d=this._types;for(c=(null!=vo[t]?d.getReserved(t):d.h[t]).h;null!=c;){var f=c.item;c=c.next;var g=f;(a=(e-(g.followCamera?g.x+Z.camera.x:g.x))*(e-(g.followCamera?g.x+Z.camera.x:g.x))+(n-(g.followCamera?g.y+Z.camera.y:g.y))*(n-(g.followCamera?g.y+Z.camera.y:g.y)))<s&&(s=a,l=g)}}return l},get_count:function(){return this._update.length},typeCount:function(t){var e=this._types;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this._types;return(null!=vo[t]?n.getReserved(t):n.h[t]).length}return 0},classCount:function(t){var e=this._classCount;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this._classCount;return null!=vo[t]?n.getReserved(t):n.h[t]}return 0},layerCount:function(t){return this._layers.h.hasOwnProperty(t)?this._layers.h[t].length:0},first:null,get_first:function(){return this._update.first()},layers:null,get_layers:function(){return this._layerList.length},entitiesForType:function(t){var e=this._types;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this._types;return null!=vo[t]?n.getReserved(t):n.h[t]}return null},classFirst:function(t){for(var e=this._update.h;null!=e;){var n=e.item;e=e.next;var i=n;if(X.__instanceof(i,t))return i}return null},layerFirst:function(t){return this._layers.h.hasOwnProperty(t)?this._layers.h[t].first():null},layerLast:function(t){return this._layers.h.hasOwnProperty(t)?this._layers.h[t].last():null},farthest:null,get_farthest:function(){return 0==this._layerList.length?null:this._layers.h[this._layerList[this._layerList.length-1]].last()},nearest:null,get_nearest:function(){return 0==this._layerList.length?null:this._layers.h[this._layerList[0]].first()},layerFarthest:null,get_layerFarthest:function(){return 0==this._layerList.length?0:this._layerList[this._layerList.length-1]},layerNearest:null,get_layerNearest:function(){return 0==this._layerList.length?0:this._layerList[0]},uniqueTypes:null,get_uniqueTypes:function(){for(var t=0,e=this._types,n=new fe(e,e.arrayKeys());n.hasNext();){n.next();++t}return t},getType:function(t,e){var n=this._types;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i,r=e.length,a=this._types;for(i=(null!=vo[t]?a.getReserved(t):a.h[t]).h;null!=i;){var s=i.item;i=i.next;var l=s;e[r++]=l}}},getClass:function(t,e){for(var n=e.length,i=this._update.h;null!=i;){var r=i.item;i=i.next;var a=r;X.__instanceof(a,t)&&(e[n++]=a)}},getLayer:function(t,e){for(var n=e.length,i=this._layers.h[t].h;null!=i;){var r=i.item;i=i.next;var a=r;e[n++]=a}},getAll:function(t){for(var e=t.length,n=this._update.h;null!=n;){var i=n.item;n=n.next;var r=i;t[e++]=r}},getInstance:function(t){var e=this._entityNames;return null!=vo[t]?e.getReserved(t):e.h[t]},updateLists:function(t){null==t&&(t=!0);if(this._remove.length>0){for(var e=0,n=this._remove;e<n.length;){var i=n[e];if(++e,null!=i._scene)i._scene==this&&(i.removed(),i._scene=null,this.removeUpdate(i),this.removeRender(i),""!=i._type&&this.removeType(i),""!=i._name&&this._entityNames.remove(i._name),i.autoClear&&i.get_hasTween()&&i.clearTweens());else{var r=this._add.indexOf(i);r>=0&&this._add.splice(r,1)}}this._remove.length=0}if(t&&this._add.length>0){for(var a=0,s=this._add;a<s.length;){var l=s[a];++a,null==l._scene&&(l._scene=this,this.addUpdate(l),this.addRender(l),""!=l._type&&this.addType(l),""!=l._name&&this._entityNames.set(l._name,l),l.added())}this._add.length=0}if(this._recycle.length>0){for(var o=0,h=this._recycle;o<h.length;){var _=h[o];if(++o,null==_._scene&&null==_._recycleNext){var u=_._class,c=this._recycled;_._recycleNext=null!=vo[u]?c.getReserved(u):c.h[u];var d=_._class,f=this._recycled;null!=vo[d]?f.setReserved(d,_):f.h[d]=_}}this._recycle.length=0}},addUpdate:function(t){this._update.add(t);var e=t._class,n=this._classCount;if(0!=(null!=vo[e]?n.getReserved(e):n.h[e])){var i=t._class,r=this._classCount;null!=vo[i]?r.setReserved(i,0):r.h[i]=0}var a=this._classCount,s=t._class,l=t._class,o=this._classCount,h=(null!=vo[l]?o.getReserved(l):o.h[l])+1,_=a;null!=vo[s]?_.setReserved(s,h):_.h[s]=h},removeUpdate:function(t){this._update.remove(t);var e=this._classCount,n=t._class,i=t._class,r=this._classCount,a=(null!=vo[i]?r.getReserved(i):r.h[i])-1,s=e;null!=vo[n]?s.setReserved(n,a):s.h[n]=a},addRender:function(t){var e;this._layers.h.hasOwnProperty(t._layer)?e=this._layers.h[t._layer]:(e=new S,this._layers.h[t._layer]=e,0==this._layerList.length?this._layerList[0]=t._layer:Z.insertSortedKey(this._layerList,t._layer,r(this,this.layerSort))),e.add(t)},removeRender:function(t){var e=this._layers.h[t._layer];e.remove(t),0==e.length&&(I.remove(this._layerList,t._layer),this._layers.remove(t._layer))},addType:function(t){var e,n=t._type,i=this._types;if(null!=vo[n]?i.existsReserved(n):i.h.hasOwnProperty(n)){var r=t._type,a=this._types;e=null!=vo[r]?a.getReserved(r):a.h[r]}else{e=new S;var s=t._type,l=this._types;null!=vo[s]?l.setReserved(s,e):l.h[s]=e}e.push(t)},removeType:function(t){var e=t._type,n=this._types;if(null!=vo[e]?n.existsReserved(e):n.h.hasOwnProperty(e)){var i=t._type,r=this._types,a=null!=vo[i]?r.getReserved(i):r.h[i];a.remove(t),0==a.length&&this._types.remove(t._type)}},registerName:function(t){var e=t._name,n=this._entityNames;null!=vo[e]?n.setReserved(e,t):n.h[e]=t},unregisterName:function(t){this._entityNames.remove(t._name)},_add:null,_remove:null,_recycle:null,_update:null,_layerList:null,_layerDisplay:null,_layers:null,_classCount:null,_types:null,_recycled:null,_entityNames:null,__class__:rt,__properties__:n(U.prototype.__properties__,{get_uniqueTypes:"get_uniqueTypes",get_layerNearest:"get_layerNearest",get_layerFarthest:"get_layerFarthest",get_nearest:"get_nearest",get_farthest:"get_farthest",get_layers:"get_layers",get_first:"get_first",get_count:"get_count",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX"})});var at=function(){this._shakeY=0,this._shakeX=0,this._shakeMagnitude=0,this._shakeTime=0,this.needsResize=!1,this.fullScaleY=1,this.fullScaleX=1,this.scale=1,this.scaleY=1,this.scaleX=1,this.originY=0,this.originX=0,this.y=0,this.x=0,this._sprite=new f,this._bitmap=[],this.init()};a["com.haxepunk.Screen"]=at,at.__name__=["com","haxepunk","Screen"],at.prototype={init:function(){this.set_x(this.set_y(this.set_originX(this.set_originY(0)))),this._angle=this._current=0,this.set_scale(this.set_scaleX(this.set_scaleY(1))),this.updateTransformation(),Z.engine.contains(this._sprite)&&Z.engine.removeChild(this._sprite),Z.renderMode==it.BUFFER&&Z.engine.addChild(this._sprite)},disposeBitmap:function(t){null!=t&&(this._sprite.removeChild(t),t.bitmapData.dispose())},resize:function(){if(this.width=Z.width,this.height=Z.height,Z.renderMode==it.BUFFER){var t=this._bitmap[0];null!=t&&(this._sprite.removeChild(t),t.bitmapData.dispose());var e=this._bitmap[1];null!=e&&(this._sprite.removeChild(e),e.bitmapData.dispose()),this._bitmap[0]=new Aa(Z.createBitmap(this.width,this.height,!0),2),this._bitmap[1]=new Aa(Z.createBitmap(this.width,this.height,!0),2),this._sprite.addChild(this._bitmap[0]).set_visible(!0),this._sprite.addChild(this._bitmap[1]).set_visible(!1),Z.buffer=this._bitmap[0].bitmapData}this._current=0,this.needsResize=!1},swap:function(){Z.renderMode==it.BUFFER&&(this._current=1-this._current,Z.buffer=this._bitmap[this._current].bitmapData)},addFilter:function(t){this._sprite.set_filters(t)},refresh:function(){Z.buffer.fillRect(Z.bounds,-16777216|Z.stage.get_color())},redraw:function(){Z.renderMode==it.BUFFER&&(this._bitmap[this._current].set_visible(!0),this._bitmap[1-this._current].set_visible(!1))},updateTransformation:function(){null==this._matrix&&(this._matrix=new W),this._matrix.b=this._matrix.c=0,this._matrix.a=this.fullScaleX,this._matrix.d=this.fullScaleY,this._matrix.tx=-this.originX*this._matrix.a,this._matrix.ty=-this.originY*this._matrix.d,0!=this._angle&&this._matrix.rotate(this._angle),this._matrix.tx+=this.originX*this.fullScaleX+this.x,this._matrix.ty+=this.originY*this.fullScaleY+this.y,this._sprite.get_transform().set_matrix(this._matrix)},update:function(){if(this._shakeTime>0){var t=P.random(2*this._shakeMagnitude+1)-this._shakeMagnitude,e=P.random(2*this._shakeMagnitude+1)-this._shakeMagnitude,n=this;n.set_x(n.x+(t-this._shakeX));var i=this;i.set_y(i.y+(e-this._shakeY)),this._shakeX=t,this._shakeY=e,this._shakeTime-=Z.elapsed,this._shakeTime<0&&(this._shakeTime=0)}else if(0!=this._shakeX||0!=this._shakeY){var r=this;r.set_x(r.x-this._shakeX);var a=this;a.set_y(a.y-this._shakeY),this._shakeX=this._shakeY=0}},get_color:function(){return Z.stage.get_color()},set_color:function(t){return Z.stage.set_color(t),t},x:null,set_x:function(t){return this.x==t?t:(Z.engine.set_x(this.x=t),this.updateTransformation(),this.x)},y:null,set_y:function(t){return this.y==t?t:(Z.engine.set_y(this.y=t),this.updateTransformation(),this.y)},originX:null,set_originX:function(t){return this.originX==t?t:(this.originX=t,this.updateTransformation(),this.originX)},originY:null,set_originY:function(t){return this.originY==t?t:(this.originY=t,this.updateTransformation(),this.originY)},scaleX:null,set_scaleX:function(t){return this.scaleX==t?t:(this.scaleX=t,this.fullScaleX=this.scaleX*this.scale,this.updateTransformation(),this.needsResize=!0,this.scaleX)},scaleY:null,set_scaleY:function(t){return this.scaleY==t?t:(this.scaleY=t,this.fullScaleY=this.scaleY*this.scale,this.updateTransformation(),this.needsResize=!0,this.scaleY)},scale:null,set_scale:function(t){return this.scale==t?t:(this.scale=t,this.fullScaleX=this.scaleX*this.scale,this.fullScaleY=this.scaleY*this.scale,this.updateTransformation(),this.needsResize=!0,this.scale)},fullScaleX:null,fullScaleY:null,needsResize:null,get_angle:function(){return this._angle*(-180/Math.PI)},set_angle:function(t){return this._angle==t*(Math.PI/-180)?t:(this._angle=t*(Math.PI/-180),this.updateTransformation(),this._angle)},get_smoothing:function(){return Z.renderMode==it.BUFFER?this._bitmap[0].smoothing:Et.smooth},set_smoothing:function(t){return Z.renderMode==it.BUFFER?this._bitmap[0].smoothing=this._bitmap[1].smoothing=t:Et.smooth=t,t},width:null,height:null,mouseX:null,get_mouseX:function(){return 0|this._sprite.get_mouseX()},mouseY:null,get_mouseY:function(){return 0|this._sprite.get_mouseY()},capture:function(){if(Z.renderMode==it.BUFFER){var t,e=this._bitmap[this._current].bitmapData.clone();if(Z.renderMode==it.HARDWARE){var n=new At(e);t=gt.Right(Et.loadImageAsRegion(n))}else t=gt.Left(e);return new xt(t)}throw new Ee("Screen.capture only supported with buffer rendering")},shake:function(t,e){this._shakeTime<e&&(this._shakeTime=e),this._shakeMagnitude=t},shakeStop:function(){this._shakeTime=0},_sprite:null,_bitmap:null,_current:null,_matrix:null,_angle:null,_shakeTime:null,_shakeMagnitude:null,_shakeX:null,_shakeY:null,__class__:at,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_smoothing:"set_smoothing",get_smoothing:"get_smoothing",set_angle:"set_angle",get_angle:"get_angle",set_scale:"set_scale",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_originY:"set_originY",set_originX:"set_originX",set_y:"set_y",set_x:"set_x",set_color:"set_color",get_color:"get_color"}};var st=function(t,e){if(this._position=0,this._pan=0,this._volume=1,this._transform=new hl,this._volume=1,this._pan=0,this._position=0,this._type="",null==t)throw new Ee("Invalid source Sound.");if("string"==typeof t){this._sound=ji.getSound(t);var n=this._sound,i=st._sounds,r=t;null!=vo[r]?i.setReserved(r,n):i.h[r]=n}else{var a=t,s=B.getClassName(null==a?null:X.getClass(a));if(k.endsWith(s,"media.Sound")){var l=t,o=l.url,h=st._sounds;if(this._sound=null!=vo[o]?h.getReserved(o):h.h[o],null==this._sound){this._sound=t;var _=l.url,u=st._sounds,c=t;null!=vo[_]?u.setReserved(_,c):u.h[_]=c}}else{var d=st._sounds;if(this._sound=null!=vo[s]?d.getReserved(s):d.h[s],null==this._sound){this._sound=t;var f=st._sounds,g=t;null!=vo[s]?f.setReserved(s,g):f.h[s]=g}}}this.complete=e};a["com.haxepunk.Sfx"]=st,st.__name__=["com","haxepunk","Sfx"],st.getPan=function(t){var e=0,n=st._typeTransforms;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=st._typeTransforms,r=null!=vo[t]?i.getReserved(t):i.h[t];null!=r&&(e=r.pan)}return e+Z._pan},st.getVolume=function(t){var e=1,n=st._typeTransforms;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=st._typeTransforms,r=null!=vo[t]?i.getReserved(t):i.h[t];null!=r&&(e=r.volume)}return e*Z._volume},st.setPan=function(t,e){var n=st._typeTransforms,i=null!=vo[t]?n.getReserved(t):n.h[t];if(null==i){i=new hl;var r=st._typeTransforms;null!=vo[t]?r.setReserved(t,i):r.h[t]=i}i.pan=Z.clamp(e,-1,1);var a=st._typePlaying;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t))for(var s=0,l=st._typePlaying,o=null!=vo[t]?l.getReserved(t):l.h[t];s<o.length;){var h=o[s];++s,h.set_pan(h.get_pan())}},st.setVolume=function(t,e){var n=st._typeTransforms,i=null!=vo[t]?n.getReserved(t):n.h[t];if(null==i){i=new hl;var r=st._typeTransforms;null!=vo[t]?r.setReserved(t,i):r.h[t]=i}i.volume=e<0?0:e;var a=st._typePlaying;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t))for(var s=0,l=st._typePlaying,o=null!=vo[t]?l.getReserved(t):l.h[t];s<o.length;){var h=o[s];++s,h.set_volume(h.get_volume())}},st.onGlobalUpdated=function(t){for(var e=st._typePlaying.keys();e.hasNext();)for(var n=e.next(),i=0,r=st._typePlaying,a=null!=vo[n]?r.getReserved(n):r.h[n];i<a.length;){var s=a[i];++i,t?s.set_pan(s.get_pan()):s.set_volume(s.get_volume())}},st.prototype={complete:null,play:function(t,e,n){null==n&&(n=!1),null==e&&(e=0),null==t&&(t=1),null!=this._sound&&(null!=this._channel&&this.stop(),this._pan=Z.clamp(e,-1,1),this._volume=t<0?0:t,this._filteredPan=Z.clamp(this._pan+st.getPan(this._type),-1,1),this._filteredVol=Math.max(0,this._volume*st.getVolume(this._type)),this._transform.pan=this._filteredPan,this._transform.volume=this._filteredVol,this._channel=this._sound.play(0,n?-1:0,this._transform),null!=this._channel&&(this.addPlaying(),this._channel.addEventListener("soundComplete",r(this,this.onComplete))),this._looping=n,this._position=0)},loop:function(t,e){null==e&&(e=0),null==t&&(t=1),this.play(t,e,!0)},stop:function(){return null!=this._channel&&(this.removePlaying(),this._position=this._channel.get_position(),this._channel.removeEventListener("soundComplete",r(this,this.onComplete)),this._channel.stop(),this._channel=null,!0)},resume:function(){this._channel=this._sound.play(this._position,this._looping?-1:0,this._transform),null!=this._channel&&(this.addPlaying(),this._channel.addEventListener("soundComplete",r(this,this.onComplete))),this._position=0},onComplete:function(t){this._looping?this.loop(this._volume,this._pan):this.stop(),this._position=0,null!=this.complete&&this.complete()},addPlaying:function(){var t,e=this._type,n=st._typePlaying;if(null!=vo[e]?n.existsReserved(e):n.h.hasOwnProperty(e)){var i=this._type,r=st._typePlaying;t=null!=vo[i]?r.getReserved(i):r.h[i]}else{t=[];var a=this._type,s=st._typePlaying;null!=vo[a]?s.setReserved(a,t):s.h[a]=t}t.push(this)},removePlaying:function(){var t=this._type,e=st._typePlaying;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this._type,i=st._typePlaying;I.remove(null!=vo[n]?i.getReserved(n):i.h[n],this)}},get_volume:function(){return this._volume},set_volume:function(t){if(t<0&&(t=0),null==this._channel)return t;this._volume=t;var e=t*st.getVolume(this._type);return e<0&&(e=0),this._filteredVol==e?t:(this._filteredVol=this._transform.volume=e,this._channel.set_soundTransform(this._transform),this._volume)},get_pan:function(){return this._pan},set_pan:function(t){if(t=Z.clamp(t,-1,1),null==this._channel)return t;var e=Z.clamp(t+st.getPan(this._type),-1,1);return this._filteredPan==e?t:(this._pan=t,this._filteredPan=this._transform.pan=e,this._channel.set_soundTransform(this._transform),this._pan)},get_type:function(){return this._type},set_type:function(t){return this._type==t?t:(null!=this._channel?(this.removePlaying(),this._type=t,this.addPlaying(),this.set_pan(this.get_pan()),this.set_volume(this.get_volume())):this._type=t,t)},playing:null,get_playing:function(){return null!=this._channel},position:null,get_position:function(){return(null!=this._channel?this._channel.get_position():this._position)/1e3},length:null,get_length:function(){return this._sound.get_length()/1e3},_type:null,_volume:null,_pan:null,_filteredVol:null,_filteredPan:null,_sound:null,_channel:null,_transform:null,_position:null,_looping:null,__class__:st,__properties__:{get_length:"get_length",get_position:"get_position",get_playing:"get_playing",set_type:"set_type",get_type:"get_type",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume"}};var lt=a["com.haxepunk.TweenType"]={__ename__:!0,__constructs__:["Persist","Looping","OneShot"]};lt.Persist=["Persist",0],lt.Persist.toString=s,lt.Persist.__enum__=lt,lt.Looping=["Looping",1],lt.Looping.toString=s,lt.Looping.__enum__=lt,lt.OneShot=["OneShot",2],lt.OneShot.toString=s,lt.OneShot.__enum__=lt;var ot=function(t,e,n,i){this._target=t,null==e&&(e=lt.Persist),this._type=e,this._ease=i,this._t=0,this._callback=n,h.call(this),null!=this._callback&&this.addEventListener(Ut.FINISH,this._callback)};a["com.haxepunk.Tween"]=ot,ot.__name__=["com","haxepunk","Tween"],ot.__super__=h,ot.prototype=n(h.prototype,{active:null,update:function(){this._time+=Z.fixed?1:Z.elapsed,this._t=this._time/this._target,null!=this._ease&&this._t>0&&this._t<1&&(this._t=this._ease(this._t)),this._time>=this._target&&(this._t=1,this._finish=!0),this.dispatchEvent(new Ut(Ut.UPDATE))},start:function(){this._time=0,0==this._target?(this.active=!1,this.dispatchEvent(new Ut(Ut.FINISH))):(this.active=!0,this.dispatchEvent(new Ut(Ut.START)))},finish:function(){switch(this._type[1]){case 0:this._time=this._target,this.active=!1;break;case 1:this._time%=this._target,this._t=this._time/this._target,null!=this._ease&&this._t>0&&this._t<1&&(this._t=this._ease(this._t)),this.start();break;case 2:this._time=this._target,this.active=!1,this._parent.removeTween(this)}this._finish=!1,this.dispatchEvent(new Ut(Ut.FINISH)),this._type==lt.OneShot&&null!=this._callback&&this.removeEventListener(Ut.FINISH,this._callback)},cancel:function(){this.active=!1,null!=this._parent&&this._parent.removeTween(this)},get_percent:function(){return this._time/this._target},set_percent:function(t){return this._time=this._target*t,this._time},scale:null,get_scale:function(){return this._t},_type:null,_ease:null,_t:null,_time:null,_target:null,_callback:null,_finish:null,_parent:null,_prev:null,_next:null,__class__:ot,__properties__:{get_scale:"get_scale",set_percent:"set_percent",get_percent:"get_percent"}});var ht=a["com.haxepunk.debug.TraceCapture"]={__ename__:!0,__constructs__:["No","Yes"]};ht.No=["No",0],ht.No.toString=s,ht.No.__enum__=ht,ht.Yes=["Yes",1],ht.Yes.toString=s,ht.Yes.__enum__=ht;var _t=function(){this.debugDraw=!0,this.init(),Jt.define("_ARROWS",[39,37,40,38])};a["com.haxepunk.debug.Console"]=_t,_t.__name__=["com","haxepunk","debug","Console"],_t.prototype={toggleKey:null,init:function(){this._sprite=new f;var t=ji.getFont("font/04B_03__.ttf");null==t&&(t=ji.getFont(Z.defaultFont)),this._format=new Al(t.name,8,16777215),this._back=new Aa,this._fpsRead=new f,this._fpsReadText=new Tl,this._fpsInfo=new f,this._fpsInfoText0=new Tl,this._fpsInfoText1=new Tl,this._memReadText=new Tl,this._layerList=new ft,this._logRead=new f,this._logReadText0=new Tl,this._logReadText1=new Tl,this._logScroll=0,this._logLines=33,this._entRead=new f,this._entReadText=new Tl,this._debRead=new f,this._debReadText0=new Tl,this._debReadText1=new Tl,this._butRead=new f,this._entScreen=new f,this._entSelect=new f,this._entRect=new z,this.LOG=[],this.LAYER_LIST=new ce,this.ENTITY_LIST=[],this.SCREEN_LIST=[],this.SELECT_LIST=[],this.WATCH_LIST=["x","y"]},traceLog:function(t,e){var n=e.className+"("+e.lineNumber+"): "+P.string(t);this.LOG.push(n),this._enabled&&this._sprite.get_visible()&&this.updateLog()},log:function(t){for(var e="",n=0,i=t.length;n<i;){var r=n++;r>0&&(e+=" "),e+=null!=t[r]?P.string(t[r]):"null"}if(e.indexOf("\n")>=0)for(var a=e.split("\n"),s=0;s<a.length;){var l=a[s];++s,this.LOG.push(l)}else this.LOG.push(e);this._enabled&&this._sprite.get_visible()&&this.updateLog()},watch:function(t){if(t.length>1)for(var e=0;e<t.length;){var n=t[e];++e,this.WATCH_LIST.push(n)}else this.WATCH_LIST.push(t[0])},show:function(){this._visible||(Z.stage.addChild(this._sprite),this._visible=!0)},hide:function(){this._visible&&(Z.stage.removeChild(this._sprite),this._visible=!1)},enable:function(t,e){if(null==e&&(e=192),this.toggleKey=e,!this._enabled){try{this._bmpLogo=new Aa(ji.getBitmapData("graphics/debug/console_logo.png")),this._butDebug=new Aa(ji.getBitmapData("graphics/debug/console_debug.png")),this._butOutput=new Aa(ji.getBitmapData("graphics/debug/console_output.png")),this._butPlay=new Aa(ji.getBitmapData("graphics/debug/console_play.png")),this._butPause=new Aa(ji.getBitmapData("graphics/debug/console_pause.png")),this._butStep=new Aa(ji.getBitmapData("graphics/debug/console_step.png"))}catch(t){return void(ae.lastException=t)}this._enabled=!0,this._visible=!0,Z.stage.addChild(this._sprite);var n=this.get_width()>=420;this._sprite.addChild(this._back),this._sprite.addChild(this._entScreen),this._entScreen.addChild(this._entSelect),this._sprite.addChild(this._entRead),this._entRead.addChild(this._entReadText),this._entReadText.set_defaultTextFormat(this.format(16,16777215,"right")),this._entReadText.set_width(100),this._entReadText.set_height(20),this._entRead.set_x(this.get_width()-this._entReadText.get_width()),this._entRead.get_graphics().clear(),this._entRead.get_graphics().beginFill(0,.5),this._entRead.get_graphics().drawRoundRect(0,-20,this._entReadText.get_width()+20,40,40,40),this._sprite.addChild(this._fpsRead),this._fpsRead.addChild(this._fpsReadText),this._fpsReadText.set_defaultTextFormat(this.format(16)),this._fpsReadText.set_width(70),this._fpsReadText.set_height(20),this._fpsReadText.set_x(2),this._fpsReadText.set_y(1),this._fpsRead.get_graphics().clear(),this._fpsRead.get_graphics().beginFill(0,.75),this._fpsRead.get_graphics().drawRoundRect(-20,-20,n?340:180,40,40,40),this._sprite.addChild(this._layerList),n&&this._sprite.addChild(this._fpsInfo),this._fpsInfo.addChild(this._fpsInfoText0),this._fpsInfo.addChild(this._fpsInfoText1),this._fpsInfoText0.set_defaultTextFormat(this.format(8,11184810)),this._fpsInfoText1.set_defaultTextFormat(this.format(8,11184810)),this._fpsInfoText0.set_width(this._fpsInfoText1.set_width(60)),this._fpsInfoText0.set_height(this._fpsInfoText1.set_height(20)),this._fpsInfo.set_x(75),this._fpsInfoText1.set_x(60),this._fpsInfo.set_width(this._fpsInfoText0.get_width()+this._fpsInfoText1.get_width()),this._sprite.addChild(this._logRead),this._logRead.addChild(this._logReadText0),this._logRead.addChild(this._logReadText1),this._logReadText0.set_defaultTextFormat(this.format(16,16777215)),this._logReadText1.set_defaultTextFormat(this.format(n?16:8,16777215)),this._logReadText0.set_selectable(!1),this._logReadText0.set_width(80),this._logReadText0.set_height(20),this._logReadText1.set_width(this.get_width()),this._logReadText0.set_x(2),this._logReadText0.set_y(3),this._logReadText0.set_text("OUTPUT:"),this._logHeight=this.get_height()-60,this._logBar=new z(8,24,16,this._logHeight-8),this._logBarGlobal=this._logBar.clone(),this._logBarGlobal.y+=40,this._logLines=n?this._logHeight/16.5|0:this._logHeight/8.5|0,this._sprite.addChild(this._debRead),this._debRead.addChild(this._debReadText0),this._debRead.addChild(this._debReadText1),this._debReadText0.set_defaultTextFormat(this.format(16,16777215)),this._debReadText1.set_defaultTextFormat(this.format(8,16777215)),this._debReadText0.set_selectable(!1),this._debReadText0.set_width(80),this._debReadText0.set_height(20),this._debReadText1.set_width(160),this._debReadText1.set_height(this.get_height()/4|0),this._debReadText0.set_x(2),this._debReadText0.set_y(3),this._debReadText1.set_x(2),this._debReadText1.set_y(24),this._debReadText0.set_text("DEBUG:"),this._debRead.set_y(this.get_height()-(this._debReadText1.get_y()+this._debReadText1.get_height())),this._sprite.addChild(this._butRead),this._butRead.addChild(this._butDebug),this._butRead.addChild(this._butOutput),this._butRead.addChild(this._butPlay).set_x(20),this._butRead.addChild(this._butPause).set_x(20),this._butRead.addChild(this._butStep).set_x(40),this.updateButtons(),this._butRead.get_graphics().clear(),this._butRead.get_graphics().beginFill(0,.75),this._butRead.get_graphics().drawRoundRect(-20,-20,100,40,40,40),this.set_debug(!0),Z.stage.addEventListener("resize",r(this,this.onResize)),this.onResize(null),this.set_paused(!1),t==ht.Yes&&(oe.trace=r(this,this.traceLog)),this.LOG.push("-- HaxePunk v2.5.6 --"),this._enabled&&this._sprite.get_visible()&&this.updateLog()}},onResize:function(t){null!=this._back.bitmapData&&this._back.bitmapData.dispose();var e=this.get_width(),n=this.get_height();this._back.bitmapData=Z.createBitmap(e,n,!0,-1),Z.matrix.identity();var i=(this._back.bitmapData.width-this._bmpLogo.get_width())/2;Z.matrix.tx=Math.max(i,0);var r=(this._back.bitmapData.height-this._bmpLogo.get_height())/2;Z.matrix.ty=Math.max(r,0),Z.matrix.scale(Math.min(this.get_width()/this._back.bitmapData.width,1),Math.min(this.get_height()/this._back.bitmapData.height,1)),this._back.bitmapData.draw(this._bmpLogo,Z.matrix,null,9),this._back.bitmapData.draw(this._back.bitmapData,null,null,6),this._back.bitmapData.colorTransform(this._back.bitmapData.rect,new J(1,1,1,.5)),this.updateLog()},get_visible:function(){return this._sprite.get_visible()},set_visible:function(t){return this._sprite.set_visible(t),this._enabled&&t&&this.updateLog(),this._sprite.get_visible()},debugDraw:null,set_debugDraw:function(t){return this.debugDraw=t,this.updateEntityLists(!1),this.renderEntities(),t},update:function(){this._enabled&&this._visible&&(this._entRead.set_x(this.get_width()-this._entReadText.get_width()),this._layerList.set_x(this.get_width()-this._layerList.get_width()-20),this._layerList.set_y((this.get_height()-this._layerList.get_height())/2),this._layerList.set_visible(Z.engine.paused&&this._debug),this._butRead.get_visible()&&this.updateButtons(),this._paused?this._debug?(this.updateEntityLists(Z.engine._scene._update.length!=this.ENTITY_LIST.length),Z.engine.paused?(Jt.mousePressed?Jt.get_mouseFlashY()>20&&(Jt.get_mouseFlashX()>this._debReadText1.get_width()||Jt.get_mouseFlashY()<this._debRead.get_y())&&(Jt.check(qt.fromRight(16))?0!=this.SELECT_LIST.length?this.startDragging():this.startPanning():this.startSelection()):(this._selecting&&this.updateSelection(),this._dragging&&this.updateDragging(),this._panning&&this.updatePanning()),Jt.pressed(qt.fromRight(65))&&this.selectAll(),Jt.check(qt.fromRight(16))&&(0!=this.SELECT_LIST.length?Jt.pressed(qt.fromLeft("_ARROWS"))&&this.updateKeyMoving():Jt.check(qt.fromLeft("_ARROWS"))&&this.updateKeyPanning())):(this.renderEntities(),this.updateFPSRead(),this.updateEntityCount()),this.updateDebugRead()):this._scrolling?this.updateScrolling():Jt.mousePressed&&this.startScrolling():(this.updateFPSRead(),this.updateEntityCount()),Jt.pressed(qt.fromRight(this.toggleKey))&&this.set_paused(!this._paused))},get_paused:function(){return this._paused},set_paused:function(t){return!!this._enabled&&(this._paused=t,Z.engine.paused=t,this._back.set_visible(t),this._entScreen.set_visible(t),this._butRead.set_visible(t),t?this._debug?this.set_debug(!0):this.updateLog():(this._debRead.set_visible(!1),this._logRead.set_visible(!0),this.updateLog(),this.ENTITY_LIST.length=0,this.SCREEN_LIST.length=0,this.SELECT_LIST.length=0),this._paused)},get_debug:function(){return this._debug},set_debug:function(t){return!!this._enabled&&(this._debug=t,this._debRead.set_visible(t),this._logRead.set_visible(!t),t?this.updateEntityLists():this.updateLog(),this.renderEntities(),this._debug)},stepFrame:function(){Z.engine.update(),Z.engine.render(),this.updateEntityCount(),this.updateEntityLists(),this.renderEntities()},startDragging:function(){this._dragging=!0,this._entRect.x=Jt.get_mouseX(),this._entRect.y=Jt.get_mouseY()},updateDragging:function(){this.moveSelected(Jt.get_mouseX()-this._entRect.x|0,Jt.get_mouseY()-this._entRect.y|0),this._entRect.x=Jt.get_mouseX(),this._entRect.y=Jt.get_mouseY(),Jt.mouseReleased&&(this._dragging=!1)},moveSelected:function(t,e){for(var n=0,i=this.SELECT_LIST;n<i.length;){var r=i[n];++n;var a=r;a.x=(a.followCamera?a.x+Z.camera.x:a.x)+t;var s=r;s.y=(s.followCamera?s.y+Z.camera.y:s.y)+e}Z.engine.render(),this.renderEntities(),this.updateEntityLists(!0)},startPanning:function(){this._panning=!0,this._entRect.x=Jt.get_mouseX(),this._entRect.y=Jt.get_mouseY()},updatePanning:function(){Jt.mouseReleased&&(this._panning=!1),this.panCamera(this._entRect.x-Jt.get_mouseX()|0,this._entRect.y-Jt.get_mouseY()|0),this._entRect.x=Jt.get_mouseX(),this._entRect.y=Jt.get_mouseY()},panCamera:function(t,e){Z.camera.x+=t,Z.camera.y+=e,Z.engine.render(),this.updateEntityLists(!0),this.renderEntities()},setCamera:function(t,e){Z.camera.x=t,Z.camera.y=e,Z.engine.render(),this.updateEntityLists(!0),this.renderEntities()},startSelection:function(){this._selecting=!0,this._entRect.x=Jt.get_mouseFlashX(),this._entRect.y=Jt.get_mouseFlashY(),this._entRect.width=0,this._entRect.height=0},updateSelection:function(){var t=Jt.get_mouseFlashX();this._entRect.width=t-this._entRect.x;var e=Jt.get_mouseFlashY();this._entRect.height=e-this._entRect.y,Jt.mouseReleased?(this.selectEntities(this._entRect),this.renderEntities(),this._selecting=!1,this._entSelect.get_graphics().clear()):(this._entSelect.get_graphics().clear(),this._entSelect.get_graphics().lineStyle(1,16777215),this._entSelect.get_graphics().drawRect(this._entRect.x,this._entRect.y,this._entRect.width,this._entRect.height))},selectEntities:function(t){t.width<0?t.x-=t.width=-t.width:0==t.width&&(t.width=1),t.height<0?t.y-=t.height=-t.height:0==t.height&&(t.height=1),Z.rect.width=Z.rect.height=6;var e=Z.screen.fullScaleX,n=Z.screen.fullScaleY;Jt.check(qt.fromRight(17))||(this.SELECT_LIST.length=0);for(var i=0,r=this.SCREEN_LIST;i<r.length;){var a=r[i];++i,Z.rect.x=((a.followCamera?a.x+Z.camera.x:a.x)-Z.camera.x)*e-3,Z.rect.y=((a.followCamera?a.y+Z.camera.y:a.y)-Z.camera.y)*n-3,t.intersects(Z.rect)&&(this.SELECT_LIST.indexOf(a)<0?this.SELECT_LIST.push(a):I.remove(this.SELECT_LIST,a))}},selectAll:function(){var t=this.SELECT_LIST.length;if(this.SELECT_LIST.length=0,t!=this.SCREEN_LIST.length)for(var e=0,n=this.SCREEN_LIST;e<n.length;){var i=n[e];++e,this.SELECT_LIST.push(i)}this.renderEntities()},startScrolling:function(){this.LOG.length>this._logLines&&(this._scrolling=this._logBarGlobal.contains(Jt.get_mouseFlashX(),Jt.get_mouseFlashY()))},updateScrolling:function(){this._scrolling=Jt.mouseDown,this._logScroll=Z.scaleClamp(Jt.get_mouseFlashY(),this._logBarGlobal.y,this._logBarGlobal.get_bottom(),0,1),this.updateLog()},updateKeyMoving:function(){var t=Jt.pressed(qt.fromRight(39))?1:0,e=Jt.pressed(qt.fromRight(37))?1:0;Z.point.x=t-e;var n=Jt.pressed(qt.fromRight(40))?1:0,i=Jt.pressed(qt.fromRight(38))?1:0;Z.point.y=n-i,0==Z.point.x&&0==Z.point.y||this.moveSelected(0|Z.point.x,0|Z.point.y)},updateKeyPanning:function(){var t=Jt.check(qt.fromRight(39))?1:0,e=Jt.check(qt.fromRight(37))?1:0;Z.point.x=t-e;var n=Jt.check(qt.fromRight(40))?1:0,i=Jt.check(qt.fromRight(38))?1:0;Z.point.y=n-i,0==Z.point.x&&0==Z.point.y||this.panCamera(0|Z.point.x,0|Z.point.y)},updateEntityLists:function(t){if(null==t&&(t=!0),t){this.ENTITY_LIST.length=0,Z.engine._scene.getAll(this.ENTITY_LIST);for(var e=this.LAYER_LIST.keys();e.hasNext();){var n=e.next();this.LAYER_LIST.h[n]=0}}this.SCREEN_LIST.length=0;for(var i=0,r=this.ENTITY_LIST;i<r.length;){var a=r[i];++i;var s,l=a._layer;if(null!=a._scene&&a.collideRect(a.followCamera?a.x+Z.camera.x:a.x,a.followCamera?a.y+Z.camera.y:a.y,a._scene.camera.x,a._scene.camera.y,Z.width,Z.height)){var o=Z.engine._scene;s=!o._layerDisplay.exists(l)||o._layerDisplay.get(l)}else s=!1;if(s&&this.SCREEN_LIST.push(a),t){var h=this.LAYER_LIST,_=this.LAYER_LIST.h.hasOwnProperty(l)?this.LAYER_LIST.h[l]+1:1;h.h[l]=_}}t&&this._layerList.set(this.LAYER_LIST)},renderEntities:function(){if(this._entScreen.set_visible(this._debug),this._entScreen.set_x(Z.screen.x),this._entScreen.set_y(Z.screen.y),this._debug){var t=this._entScreen.get_graphics(),e=Z.screen.fullScaleX,n=Z.screen.fullScaleY,i=16777215,r=16777215;t.clear();for(var a=0,s=this.SCREEN_LIST;a<s.length;){var l=s[a];++a;var o=null!=l._graphic?l._graphic.scrollX:1,h=null!=l._graphic?l._graphic.scrollY:1;this.SELECT_LIST.indexOf(l)<0?(i=16711680,r=65280):(i=16777215,r=16777215),0!=l.width&&0!=l.height&&(t.lineStyle(1,i),t.drawRect(((l.followCamera?l.x+Z.camera.x:l.x)-l.originX-Z.camera.x*o)*e,((l.followCamera?l.y+Z.camera.y:l.y)-l.originY-Z.camera.y*h)*n,l.width*e,l.height*n),this.debugDraw&&null!=l._mask&&(t.lineStyle(1,255),l._mask.debugDraw(t,e,n))),t.lineStyle(1,r),t.drawCircle(((l.followCamera?l.x+Z.camera.x:l.x)-Z.camera.x*o)*e,((l.followCamera?l.y+Z.camera.y:l.y)-Z.camera.y*h)*n,3)}}},updateLog:function(){if(this._logHeight=this.get_height()-60,this._logBar.height=this._logHeight-8,this._paused){if(this._logRead.set_y(40),this._logRead.get_graphics().clear(),this._logRead.get_graphics().beginFill(0,.75),this._logRead.get_graphics().drawRect(0,0,this._logReadText0.get_width()-20,20),this._logRead.get_graphics().moveTo(this._logReadText0.get_width(),20),this._logRead.get_graphics().lineTo(this._logReadText0.get_width()-20,20),this._logRead.get_graphics().lineTo(this._logReadText0.get_width()-20,0),this._logRead.get_graphics().curveTo(this._logReadText0.get_width(),0,this._logReadText0.get_width(),20),this._logRead.get_graphics().drawRect(0,20,this.get_width(),this._logHeight),this._logRead.get_graphics().beginFill(2105376,1),this._logRead.get_graphics().drawRoundRect(this._logBar.x,this._logBar.y,this._logBar.width,this._logBar.height,16,16),this.LOG.length>this._logLines){this._logRead.get_graphics().beginFill(16777215,1);var t=this._logBar.y+2+(this._logBar.height-16)*this._logScroll|0;this._logRead.get_graphics().drawRoundRect(this._logBar.x+2,t,12,12,12,12)}if(0!=this.LOG.length){for(var e=this.LOG.length>this._logLines?0|Math.round((this.LOG.length-this._logLines)*this._logScroll):0,n=e+Math.min(this._logLines,this.LOG.length)|0,i="";e<n;)i+=this.LOG[e++]+"\n";this._logReadText1.set_text(i)}else this._logReadText1.set_text("");this._logReadText1.set_height(this._logHeight),this._logReadText1.set_x(32),this._logReadText1.set_y(24),this._fpsReadText.set_selectable(!0),this._fpsInfoText0.set_selectable(!0),this._fpsInfoText1.set_selectable(!0),this._memReadText.set_selectable(!0),this._entReadText.set_selectable(!0),this._debReadText1.set_selectable(!0)}else this._logRead.set_y(this.get_height()-40),this._logReadText1.set_height(20),this._logRead.get_graphics().clear(),this._logRead.get_graphics().beginFill(0,.75),this._logRead.get_graphics().drawRect(0,0,this._logReadText0.get_width()-20,20),this._logRead.get_graphics().moveTo(this._logReadText0.get_width(),20),this._logRead.get_graphics().lineTo(this._logReadText0.get_width()-20,20),this._logRead.get_graphics().lineTo(this._logReadText0.get_width()-20,0),this._logRead.get_graphics().curveTo(this._logReadText0.get_width(),0,this._logReadText0.get_width(),20),this._logRead.get_graphics().drawRect(0,20,this.get_width(),20),this._logReadText1.set_text(0!=this.LOG.length?this.LOG[this.LOG.length-1]:""),this._logReadText1.set_x(2),this._logReadText1.set_y(21),this._logReadText1.set_selectable(!1),this._fpsReadText.set_selectable(!1),this._fpsInfoText0.set_selectable(!1),this._fpsInfoText1.set_selectable(!1),this._memReadText.set_selectable(!1),this._entReadText.set_selectable(!1),this._debReadText0.set_selectable(!1),this._debReadText1.set_selectable(!1)},updateFPSRead:function(){this._fpsReadText.set_text("FPS: "+(0|Z.frameRate)),this._fpsInfoText0.set_text("Update: "+P.string(Z._updateTime)+"ms\nRender: "+P.string(Z._renderTime)+"ms"),this._fpsInfoText1.set_text("System: "+P.string(Z._systemTime)+"ms\nGame: "+P.string(Z._gameTime)+"ms")},updateDebugRead:function(){var t=this.get_width()>=420,e=Z.engine._scene,n="Mouse: "+P.string(Z.screen.get_mouseX()+e.camera.x|0)+", ",i=Z.engine._scene,r=n+P.string(Z.screen.get_mouseY()+i.camera.y|0)+"\nCamera: "+P.string(Z.camera.x)+", "+P.string(Z.camera.y);if(0!=this.SELECT_LIST.length)if(this.SELECT_LIST.length>1)r+="\n\nSelected: "+P.string(this.SELECT_LIST.length);else{var a=this.SELECT_LIST[0];r+="\n\n- "+B.getClassName(null==a?null:X.getClass(a))+" -\n";for(var s=0,l=this.WATCH_LIST;s<l.length;){var o=l[s];++s;var h=D.field(a,o);null!=h&&(r+="\n"+o+": "+P.string(h))}}this._debReadText1.set_text(r),this._debReadText1.setTextFormat(this.format(t?16:8)),this._debReadText1.set_width(Math.max(this._debReadText1.get_textWidth()+4,this._debReadText0.get_width())),this._debReadText1.set_height(this._debReadText1.get_y()+this._debReadText1.get_textHeight()+4),this._debRead.set_y(this.get_height()-this._debReadText1.get_height()|0),this._debRead.get_graphics().clear(),this._debRead.get_graphics().beginFill(0,.75),this._debRead.get_graphics().drawRect(0,0,this._debReadText0.get_width()-20,20),this._debRead.get_graphics().moveTo(this._debReadText0.get_width(),20),this._debRead.get_graphics().lineTo(this._debReadText0.get_width()-20,20),this._debRead.get_graphics().lineTo(this._debReadText0.get_width()-20,0),this._debRead.get_graphics().curveTo(this._debReadText0.get_width(),0,this._debReadText0.get_width(),20),this._debRead.get_graphics().drawRoundRect(-20,20,this._debReadText1.get_width()+40,this.get_height()-this._debRead.get_y(),40,40)},updateEntityCount:function(){this._entReadText.set_text(P.string(Z.engine._scene._update.length)+" Entities")},updateButtons:function(){this._butRead.set_x(this.get_width()>=420?this._fpsInfo.get_x()+this._fpsInfoText0.get_width()+this._fpsInfoText1.get_width()+((this._entRead.get_x()-(this._fpsInfo.get_x()+this._fpsInfoText0.get_width()+this._fpsInfoText1.get_width()))/2|0)-30:180),this._butDebug.set_visible(this._paused&&!this._debug),this._butOutput.set_visible(this._paused&&this._debug),this._butPlay.set_visible(Z.engine.paused),this._butPause.set_visible(!Z.engine.paused),this._butStep.set_visible(this._paused),this._butDebug.bitmapData.rect.contains(this._butDebug.get_mouseX(),this._butDebug.get_mouseY())?(this._butDebug.set_alpha(this._butOutput.set_alpha(1)),Jt.mousePressed&&this.set_debug(!this._debug)):this._butDebug.set_alpha(this._butOutput.set_alpha(.5)),this._butPlay.bitmapData.rect.contains(this._butPlay.get_mouseX(),this._butPlay.get_mouseY())?(this._butPlay.set_alpha(this._butPause.set_alpha(1)),Jt.mousePressed&&(Z.engine.paused=!Z.engine.paused,this.renderEntities())):this._butPlay.set_alpha(this._butPause.set_alpha(.5)),this._butStep.bitmapData.rect.contains(this._butStep.get_mouseX(),this._butStep.get_mouseY())?(this._butStep.set_alpha(1),Jt.mousePressed&&this.stepFrame()):this._butStep.set_alpha(.5)},format:function(t,e,n){switch(null==n&&(n="left"),null==e&&(e=16777215),null==t&&(t=16),this._format.size=t,this._format.color=e,n){case"center":this._format.align=0;break;case"justify":this._format.align=2;break;case"left":this._format.align=3;break;case"right":this._format.align=4}return this._format},get_width:function(){return Z.windowWidth},get_height:function(){return Z.windowHeight},_enabled:null,_visible:null,_paused:null,_debug:null,_scrolling:null,_selecting:null,_dragging:null,_panning:null,_sprite:null,_format:null,_back:null,_fpsRead:null,_fpsReadText:null,_fpsInfo:null,_fpsInfoText0:null,_fpsInfoText1:null,_memReadText:null,_layerList:null,_logRead:null,_logReadText0:null,_logReadText1:null,_logHeight:null,_logBar:null,_logBarGlobal:null,_logScroll:null,_entRead:null,_entReadText:null,_debRead:null,_debReadText0:null,_debReadText1:null,_butRead:null,_butDebug:null,_butOutput:null,_butPlay:null,_butPause:null,_butStep:null,_bmpLogo:null,_entScreen:null,_entSelect:null,_entRect:null,_logLines:null,LOG:null,LAYER_LIST:null,ENTITY_LIST:null,SCREEN_LIST:null,SELECT_LIST:null,WATCH_LIST:null,__class__:_t,__properties__:{get_height:"get_height",get_width:"get_width",set_debug:"set_debug",get_debug:"get_debug",set_paused:"set_paused",get_paused:"get_paused",set_debugDraw:"set_debugDraw",set_visible:"set_visible",get_visible:"get_visible"}};var ut=function(t){this.display=!0,f.call(this),this.active=new Aa(ji.getBitmapData("graphics/debug/console_visible.png")),this.inactive=new Aa(ji.getBitmapData("graphics/debug/console_hidden.png")),this.label=new Tl,this.label.set_defaultTextFormat(t),this.label.set_selectable(!1),this.label.set_width(150),this.label.set_height(14),this.label.set_x(24),this.label.set_y(2),this.set_x(6),this.addChild(this.active),this.addChild(this.label),this.addEventListener("click",r(this,this.onClick),!0)};a["com.haxepunk.debug.VisibleLabel"]=ut,ut.__name__=["com","haxepunk","debug","VisibleLabel"],ut.__super__=f,ut.prototype=n(f.prototype,{display:null,set_display:function(t){return t!=this.display&&(this.display=t,t?(this.removeChild(this.inactive),this.addChild(this.active)):(this.removeChild(this.active),this.addChild(this.inactive))),t},onClick:function(t){this.set_display(!this.display)},active:null,inactive:null,label:null,__class__:ut,__properties__:n(f.prototype.__properties__,{set_display:"set_display"})});var ct=function(t){ut.call(this,t),this.label.set_text("Masks")};a["com.haxepunk.debug.MaskLabel"]=ct,ct.__name__=["com","haxepunk","debug","MaskLabel"],ct.__super__=ut,ct.prototype=n(ut.prototype,{onClick:function(t){ut.prototype.onClick.call(this,t),null==Z._console&&(Z._console=new _t),Z._console.set_debugDraw(this.display),null==Z._console&&(Z._console=new _t),Z._console.update()},__class__:ct});var dt=function(t,e){ut.call(this,e),this.layer=t,this.set_count(0)};a["com.haxepunk.debug.LayerLabel"]=dt,dt.__name__=["com","haxepunk","debug","LayerLabel"],dt.__super__=ut,dt.prototype=n(ut.prototype,{layer:null,set_count:function(t){return this.label.set_text("Layer "+this.layer+" ["+t+"]"),t},onClick:function(t){ut.prototype.onClick.call(this,t),Z.engine._scene._layerDisplay.set(this.layer,this.display),Z.engine.render(),null==Z._console&&(Z._console=new _t);var e=Z._console;null==Z._console&&(Z._console=new _t),e.set_debugDraw(Z._console.debugDraw)},__class__:dt,__properties__:n(ut.prototype.__properties__,{set_count:"set_count"})});var ft=function(t,e){null==e&&(e=400),null==t&&(t=250),f.call(this);var n=new f;n.get_graphics().beginFill(0),n.get_graphics().drawRect(0,0,t,e),n.get_graphics().endFill(),this.addChild(n),this.set_mask(n),this.get_graphics().beginFill(0,.15),this.get_graphics().drawRect(0,0,t,e),this.get_graphics().endFill();var i=ji.getFont("font/04B_03__.ttf");null==i&&(i=ji.getFont(Z.defaultFont)),this._textFormat=new Al(i.name,16,16777215),this._labels=new ce};a["com.haxepunk.debug.LayerList"]=ft,ft.__name__=["com","haxepunk","debug","LayerList"],ft.__super__=f,ft.prototype=n(f.prototype,{layerSort:function(t,e){return t-e},set:function(t){for(var e=this._labels.keys();e.hasNext();){var n=e.next();this.removeChild(this._labels.h[n]),this._labels.remove(n)}for(var i=[],a=t.keys();a.hasNext();){var s=a.next();t.h[s]>0&&i.push(s)}i.sort(r(this,this.layerSort));for(var l=0,o=Z.engine._scene,h=0;h<i.length;){var _=i[h];++h;var u;this._labels.h.hasOwnProperty(_)?u=this._labels.h[_]:(u=new dt(_,this._textFormat),this._labels.h[_]=u),u.set_count(t.h[_]),u.set_display(!o._layerDisplay.exists(_)||o._layerDisplay.get(_)),u.set_y(20*l+++5),this.addChild(u)}null==this._maskLabel&&(this._maskLabel=new ct(this._textFormat),this.addChild(this._maskLabel)),this._maskLabel.set_y(20*l+++5)},_labels:null,_maskLabel:null,_textFormat:null,__class__:ft});var gt=a["com.haxepunk.ds.Either"]={__ename__:!0,__constructs__:["Left","Right"]};gt.Left=function(t){var e=["Left",0,t];return e.__enum__=gt,e.toString=s,e},gt.Right=function(t){var e=["Right",1,t];return e.__enum__=gt,e.toString=s,e};var pt=function(t,e,n,i,r){null==i&&(i=!0),null==n&&(n=0),this.name=t,this.frames=e,this.frameRate=0==n?Z.assignedFrameRate:n,this.loop=i,this.frameCount=e.length,this.set_parent(r)};a["com.haxepunk.graphics.Animation"]=pt,pt.__name__=["com","haxepunk","graphics","Animation"],pt.prototype={play:function(t,e){null==e&&(e=!1),null==t&&(t=!1),null==this.name?this._parent.playAnimation(this,t,e):this._parent.play(this.name,t,e)},parent:null,set_parent:function(t){return this._parent=t,this._parent},name:null,frames:null,frameRate:null,frameCount:null,loop:null,_parent:null,__class__:pt,__properties__:{set_parent:"set_parent"}};var mt=function(t,e){if(this._maxHeight=4e3,this._maxWidth=4e3,this._redrawBuffers=!1,et.call(this),this._color=16777215,this._red=this._green=this._blue=1,this._alpha=1,this._graphics=Z.sprite.get_graphics(),this._matrix=new W,this._rect=new z,this._colorTransform=new J,this._buffers=[],this._midBuffers=[],this.angle=0,this.scale=this.scaleX=this.scaleY=1,this._width=t,this._height=e,Z.renderMode==it.BUFFER){this._refWidth=Math.ceil(t/this._maxWidth),this._refHeight=Math.ceil(e/this._maxHeight),this._ref=Z.createBitmap(this._refWidth,this._refHeight);var n,i,r=0,a=0,s=0,l=this._width%this._maxWidth,o=this._height%this._maxHeight;for(0==l&&(l=this._maxWidth),0==o&&(o=this._maxHeight);a<this._refHeight;){for(i=a<this._refHeight-1?this._maxHeight:o;r<this._refWidth;)n=r<this._refWidth-1?this._maxWidth:l,this._ref.setPixel(r,a,s),this._buffers[s]=Z.createBitmap(n,i,!0),++s,++r;r=0,++a}}};a["com.haxepunk.graphics.Canvas"]=mt,mt.__name__=["com","haxepunk","graphics","Canvas"],mt.__super__=et,mt.prototype=n(et.prototype,{blend:null,angle:null,scale:null,scaleX:null,scaleY:null,render:function(t,e,n){var i=this.scale*this.scaleX,r=this.scale*this.scaleY;this._point.x=e.x+this.x-n.x*this.scrollX,this._point.y=e.y+this.y-n.y*this.scrollY,this._rect.x=this._rect.y=0,this._rect.width=this._maxWidth*i,this._rect.height=this._maxHeight*r;var a,s=0,l=0,o=this._point.x;for(t.lock();l<this._refHeight;){for(;s<this._refWidth;){if(a=this._buffers[this._ref.getPixel(s,l)],0==this.angle&&null==this.blend)if(1==i&&1==r&&null==this._tint)this._rect.width=a.width,this._rect.height=a.height,t.copyPixels(a,this._rect,this._point,null,null,!0);else{var h=0|this._ref.getPixel(s,l),_=a.width*i|0,u=a.height*r|0,c=h>=this._midBuffers.length||this._midBuffers[h].width!=_||this._midBuffers[h].height!=u;(this._redrawBuffers||c)&&(c?(h<this._midBuffers.length&&this._midBuffers[h].dispose(),this._midBuffers[h]=Z.createBitmap(_,u,!0)):this._midBuffers[h].fillRect(this._midBuffers[h].rect,0),this._matrix.b=this._matrix.c=0,this._matrix.a=i,this._matrix.d=r,this._matrix.tx=this._matrix.ty=0,0!=this.angle&&this._matrix.rotate(this.angle*(Math.PI/-180)),this._midBuffers[h].draw(a,this._matrix,this._tint,this.blend)),t.copyPixels(this._midBuffers[h],this._rect,this._point,null,null,!0)}else this._matrix.b=this._matrix.c=0,this._matrix.a=i,this._matrix.d=r,this._matrix.tx=this._matrix.ty=0,0!=this.angle&&this._matrix.rotate(this.angle*(Math.PI/-180)),this._matrix.tx+=this._point.x,this._matrix.ty+=this._point.y,t.draw(a,this._matrix,this._tint,this.blend);this._point.x+=this._maxWidth*i,++s}this._point.x=o,this._point.y+=this._maxHeight*r,s=0,++l}t.unlock(),this._redrawBuffers=!1},draw:function(t,e,n,i){for(var r=0,a=0,s=0,l=this._buffers;s<l.length;){var o=l[s];++s,this._point.x=t-r,this._point.y=e-a,o.copyPixels(n,null!=i?i:n.rect,this._point,null,null,!0),(r+=this._maxWidth)>=this._width&&(r=0,a+=this._maxHeight)}this._redrawBuffers=!0},fill:function(t,e,n){null==n&&(n=1),null==e&&(e=0);var i=0,r=0;this._rect.width=t.width,this._rect.height=t.height,n>=1?e|=-16777216:e=n<=0?0:(255*n|0)<<24|16777215&e;for(var a=0,s=this._buffers;a<s.length;){var l=s[a];++a,this._rect.x=t.x-i,this._rect.y=t.y-r,l.fillRect(this._rect,e),(i+=this._maxWidth)>=this._width&&(i=0,r+=this._maxHeight)}},drawRect:function(t,e,n){null==n&&(n=1),null==e&&(e=0);var i=0,r=0;if(n>=1){this._rect.width=t.width,this._rect.height=t.height;for(var a=0,s=this._buffers;a<s.length;){var l=s[a];++a,this._rect.x=t.x-i,this._rect.y=t.y-r,l.fillRect(this._rect,-16777216|e),(i+=this._maxWidth)>=this._width&&(i=0,r+=this._maxHeight)}}else{for(var o=0,h=this._buffers;o<h.length;){var _=h[o];++o,this._graphics.clear(),this._graphics.beginFill(e,n),this._graphics.drawRect(t.x-i,t.y-r,t.width,t.height),_.draw(Z.sprite),(i+=this._maxWidth)>=this._width&&(i=0,r+=this._maxHeight)}this._graphics.endFill()}},fillTexture:function(t,e){for(var n=0,i=0,r=0,a=this._buffers;r<a.length;){var s=a[r];++r,this._graphics.clear(),this._graphics.beginBitmapFill(e),this._graphics.drawRect(t.x-n,t.y-i,t.width,t.height),s.draw(Z.sprite),(n+=this._maxWidth)>=this._width&&(n=0,i+=this._maxHeight)}this._graphics.endFill()},drawGraphic:function(t,e,n){for(var i=0,r=0,a=0,s=this._buffers;a<s.length;){var l=s[a];++a,this._point.x=t-i,this._point.y=e-r,n.render(l,this._point,Z.zero),(i+=this._maxWidth)>=this._width&&(i=0,r+=this._maxHeight)}},get_color:function(){return this._color},set_color:function(t){return t%=16777215,this._color==t?this._color:(this._color=t,this._red=(this.get_color()>>16&255)/255,this._green=(this.get_color()>>8&255)/255,this._blue=(255&this.get_color())/255,1==this._alpha&&16777215==this._color?(this._tint=null,this._color):(this._tint=this._colorTransform,this._tint.redMultiplier=this._red,this._tint.greenMultiplier=this._green,this._tint.blueMultiplier=this._blue,this._tint.alphaMultiplier=this._alpha,this._redrawBuffers=!0,this._color))},get_alpha:function(){return this._alpha},set_alpha:function(t){return t<0&&(t=0),t>1&&(t=1),this._alpha==t?this._alpha:(this._alpha=t,1==this._alpha&&16777215==this._color?(this._tint=null,this._alpha):(this._tint=this._colorTransform,this._tint.redMultiplier=this._red,this._tint.greenMultiplier=this._green,this._tint.blueMultiplier=this._blue,this._tint.alphaMultiplier=this._alpha,this._redrawBuffers=!0,this._alpha))},shift:function(t,e){null==e&&(e=0),null==t&&(t=0),this.drawGraphic(t,e,this)},width:null,get_width:function(){return this._width},height:null,get_height:function(){return this._height},_buffers:null,_midBuffers:null,_redrawBuffers:null,_width:null,_height:null,_maxWidth:null,_maxHeight:null,_color:null,_alpha:null,_tint:null,_colorTransform:null,_matrix:null,_red:null,_green:null,_blue:null,_ref:null,_refWidth:null,_refHeight:null,_rect:null,_graphics:null,__class__:mt,__properties__:n(et.prototype.__properties__,{get_height:"get_height",get_width:"get_width",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color"})});var vt=function(t){if(this._graphics=[],this._temp=[],this._camera=new V,this._count=0,et.call(this),null!=t)for(var e=0;e<t.length;){var n=t[e];++e,this.add(n)}};a["com.haxepunk.graphics.Graphiclist"]=vt,vt.__name__=["com","haxepunk","graphics","Graphiclist"],vt.__super__=et,vt.prototype=n(et.prototype,{update:function(){for(var t=0,e=this._graphics;t<e.length;){var n=e[t];++t,n.active&&n.update()}},renderList:function(t,e,n){e.x+=this.x,e.y+=this.y,n.x*=this.scrollX,n.y*=this.scrollY;for(var i=0,r=this._graphics;i<r.length;){var a=r[i];++i,a._visible&&(a.relative?(this._point.x=e.x,this._point.y=e.y):this._point.x=this._point.y=0,this._camera.x=n.x,this._camera.y=n.y,t(a))}},render:function(t,e,n){var i=this;e.x+=this.x,e.y+=this.y,n.x*=this.scrollX,n.y*=this.scrollY;for(var r=0,a=this._graphics;r<a.length;){var s=a[r];++r,s._visible&&(s.relative?(this._point.x=e.x,this._point.y=e.y):this._point.x=this._point.y=0,this._camera.x=n.x,this._camera.y=n.y,s.render(t,i._point,i._camera))}},renderAtlas:function(t,e,n){var i=this;e.x+=this.x,e.y+=this.y,n.x*=this.scrollX,n.y*=this.scrollY;for(var r=0,a=this._graphics;r<a.length;){var s=a[r];++r,s._visible&&(s.relative?(this._point.x=e.x,this._point.y=e.y):this._point.x=this._point.y=0,this._camera.x=n.x,this._camera.y=n.y,s.renderAtlas(t,i._point,i._camera))}},destroy:function(){for(var t=0,e=this._graphics;t<e.length;){var n=e[t];++t,n.destroy()}},add:function(t){if(null==t)return t;if(0==this._count)this.blit=t.blit;else if(this.blit!=t.blit)throw new Ee("Can't add graphic objects with different render methods.");return this._graphics[this._count++]=t,this.active||(this.active=t.active),t},remove:function(t){if(this._graphics.indexOf(t)<0)return t;this._temp.length=0;for(var e=0,n=this._graphics;e<n.length;){var i=n[e];++e,i==t?this._count--:this._temp[this._temp.length]=i}var r=this._graphics;return this._graphics=this._temp,this._temp=r,this.updateCheck(),t},removeAt:function(t){null==t&&(t=0),0!=this._graphics.length&&(t%=this._graphics.length,this.remove(this._graphics[t%this._graphics.length]),this.updateCheck())},removeAll:function(){this._graphics.length=0,this._temp.length=0,this._count=0,this.active=!1},children:null,get_children:function(){return this._graphics},count:null,get_count:function(){return this._count},updateCheck:function(){this.active=!1;for(var t=0,e=this._graphics;t<e.length;){var n=e[t];if(++t,n.active)return void(this.active=!0)}},_graphics:null,_temp:null,_count:null,_camera:null,__class__:vt,__properties__:n(et.prototype.__properties__,{get_count:"get_count",get_children:"get_children"})});var xt=function(t,e){if(this._tintMode=0,this._tintFactor=1,et.call(this),this.angle=0,this._scale=this.scaleX=this.scaleY=1,this.originX=this.originY=0,this._alpha=1,this._flipped=!1,this._color=16777215,this._red=this._green=this._blue=1,this._matrix=Z.matrix,null!=t){var n=t;switch(n[1]){case 0:var i=n[2];this.blit=!0,this._source=i,this._sourceRect=i.rect;break;case 1:var r=n[2];this.blit=!1,this._region=r,this._sourceRect=new z(0,0,this._region._rect.width,this._region._rect.height)}}null!=e&&(0==e.width&&(e.width=this._sourceRect.width),0==e.height&&(e.height=this._sourceRect.height),this.blit||(this._region=this._region.clip(e)),this._sourceRect=e),this.blit&&(this._bitmap=new Aa,this._colorTransform=new J,this.createBuffer(),this.updateBuffer()),this.smooth=2!=Z.stage.quality};a["com.haxepunk.graphics.Image"]=xt,xt.__name__=["com","haxepunk","graphics","Image"],xt.createRect=function(t,e,n,i){if(null==i&&(i=1),null==n&&(n=16777215),0==t||0==e)throw new Ee("Illegal rect, sizes cannot be 0.");var r,a=Z.createBitmap(t,e,!0,-1);if(Z.renderMode==it.HARDWARE){var s=new At(a),l=gt.Right(Et.loadImageAsRegion(s));r=new xt(l)}else{var o;if(Z.renderMode==it.HARDWARE){var h=new At(a);o=gt.Right(Et.loadImageAsRegion(h))}else o=gt.Left(a);r=new xt(o)}return r.set_color(n),r.set_alpha(i),r},xt.createCircle=function(t,e,n){if(null==n&&(n=1),null==e&&(e=16777215),0==t)throw new Ee("Illegal circle, radius cannot be 0.");Z.sprite.get_graphics().clear(),Z.sprite.get_graphics().beginFill(16777215),Z.sprite.get_graphics().drawCircle(t,t,t);var i=Z.createBitmap(2*t,2*t,!0,0);i.draw(Z.sprite);var r;if(Z.renderMode==it.HARDWARE){var a=new At(i),s=gt.Right(Et.loadImageAsRegion(a));r=new xt(s)}else{var l;if(Z.renderMode==it.HARDWARE){var o=new At(i);l=gt.Right(Et.loadImageAsRegion(o))}else l=gt.Left(i);r=new xt(l)}return r.set_color(e),r.set_alpha(n),r},xt.createPolygon=function(t,e,n,i,r){null==r&&(r=1),null==i&&(i=!0),null==n&&(n=1),null==e&&(e=16777215);var a,s,l,o,h=Z.sprite.get_graphics(),_=t._points,u=t._angle;t.set_angle(0),a=l=179*Math.pow(10,306),s=o=-179*Math.pow(10,306);for(var c=0;c<_.length;){var d=_[c];++c,d.x<a&&(a=d.x),d.x>s&&(s=d.x),d.y<l&&(l=d.y),d.y>o&&(o=d.y)}var f=Math.ceil(s-a),g=Math.ceil(o-l);e>16777215&&(e&=16777215),h.clear(),i?h.beginFill(16777215):h.lineStyle(r,16777215,1,!1,2,null,1),h.moveTo(_[_.length-1].x,_[_.length-1].y);for(var p=0;p<_.length;){var m=_[p];++p,h.lineTo(m.x,m.y)}h.endFill(),Z.matrix.identity(),Z.matrix.translate(-a,-l);var v=Z.createBitmap(f,g,!0,0);v.draw(Z.sprite,Z.matrix);var x;if(Z.renderMode==it.HARDWARE){var y=new At(v),w=gt.Right(Et.loadImageAsRegion(y));x=new xt(w)}else{var b;if(Z.renderMode==it.HARDWARE){var T=new At(v);b=gt.Right(Et.loadImageAsRegion(T))}else b=gt.Left(v);x=new xt(b)}return x.x=t.get_x()+t.origin.x,x.y=t.get_y()+t.origin.y,x.originX=x.x-t.minX,x.originY=x.y-t.minY,x.angle=u,t.set_angle(u),x.set_color(e),x.set_alpha(n),x},xt.__super__=et,xt.prototype=n(et.prototype,{angle:null,get_scale:function(){return this._scale},set_scale:function(t){return this._scale=t},scaleX:null,scaleY:null,originX:null,originY:null,blend:null,init:function(){this.angle=0,this._scale=this.scaleX=this.scaleY=1,this.originX=this.originY=0,this._alpha=1,this._flipped=!1,this._color=16777215,this._red=this._green=this._blue=1,this._matrix=Z.matrix},createBuffer:function(){this._buffer=Z.createBitmap(0|this._sourceRect.width,0|this._sourceRect.height,!0),this._bufferRect=this._buffer.rect,this._bitmap.bitmapData=this._buffer},render:function(t,e,n){var i=this._scale*this.scaleX,r=this._scale*this.scaleY;this._point.x=e.x+this.x-this.originX-n.x*this.scrollX,this._point.y=e.y+this.y-this.originY-n.y*this.scrollY,null!=this._buffer&&(0==this.angle&&1==i&&1==r&&null==this.blend?t.copyPixels(this._buffer,this._bufferRect,this._point,null,null,!0):(this._matrix.b=this._matrix.c=0,this._matrix.a=i,this._matrix.d=r,this._matrix.tx=-this.originX*i,this._matrix.ty=-this.originY*r,0!=this.angle&&this._matrix.rotate(this.angle*(Math.PI/-180)),this._matrix.tx+=this.originX+this._point.x,this._matrix.ty+=this.originY+this._point.y,t.draw(this._bitmap,this._matrix,null,this.blend,null,this._bitmap.smoothing)))},renderAtlas:function(t,e,n){var i=this._scale*this.scaleX,r=this._scale*this.scaleY,a=Z.screen.fullScaleX,s=Z.screen.fullScaleY;if(this._point.x=e.x+this.x-this.originX-n.x*this.scrollX,this._point.y=e.y+this.y-this.originY-n.y*this.scrollY,0==this.angle){1==i&&1==r||(this._point.x=e.x+this.x-this.originX*i-n.x*this.scrollX,this._point.y=e.y+this.y-this.originY*r-n.y*this.scrollY),this._flipped&&(this._point.x+=this._sourceRect.width*i),this._point.x*=a,this._point.y*=s;var l=this._region,o=this._point.x,h=this._point.y,_=i*a*(this._flipped?-1:1),u=r*s,c=this.angle,d=this._red,f=this._green,g=this._blue,p=this._alpha,m=this.smooth;null==m&&(m=Et.smooth),l.rotated&&(c+=90);var v=l._parent,x=l._rect,y=m;if(At.active!=v){if(null!=At.active){var w=At.active;0!=w._dataIndex&&(w._tilesheet.drawTiles(At._scene.sprite.get_graphics(),w._data,!1,w._renderFlags,w._dataIndex),w._dataIndex=0),0!=w._smoothDataIndex&&(w._tilesheet.drawTiles(At._scene.sprite.get_graphics(),w._smoothData,!0,w._renderFlags,w._smoothDataIndex),w._smoothDataIndex=0)}At.active=v}null==y&&(y=Et.smooth);var b=y?v._smoothData:v._data,T=y?v._smoothDataIndex:v._dataIndex;if(b[T++]=o,b[T++]=h,b[T++]=x.x,b[T++]=x.y,b[T++]=x.width,b[T++]=x.height,0==c)b[T++]=_,b[T++]=0,b[T++]=0,b[T++]=u;else{var E=Math.cos(-c*(Math.PI/-180)),R=Math.sin(-c*(Math.PI/-180));b[T++]=E*_,b[T++]=-R*u,b[T++]=R*_,b[T++]=E*u}v._flagRGB&&(b[T++]=d,b[T++]=f,b[T++]=g),v._flagAlpha&&(b[T++]=p),y?v._smoothDataIndex=T:v._dataIndex=T}else{this._flipped&&(i*=-1);var A=this.angle*(Math.PI/-180),I=Math.cos(A),S=Math.sin(A),C=i*I*a,M=i*S*s,D=-r*S*a,P=r*I*s,L=(-this.originX*i*I+this.originY*r*S+this.originX+this._point.x)*a,k=(-this.originX*i*S-this.originY*r*I+this.originY+this._point.y)*s,B=this._region,O=this._red,F=this._green,N=this._blue,U=this._alpha,G=this.smooth;if(null==G&&(G=Et.smooth),B.rotated){var X=new W(C,M,D,P,L,k);X.rotate(Math.PI/-180*90);var Y=B._parent,H=B._rect,V=X.tx,z=X.ty,j=X.a,K=X.b,q=X.c,J=X.d,Q=G;if(At.active!=Y){if(null!=At.active){var $=At.active;0!=$._dataIndex&&($._tilesheet.drawTiles(At._scene.sprite.get_graphics(),$._data,!1,$._renderFlags,$._dataIndex),$._dataIndex=0),0!=$._smoothDataIndex&&($._tilesheet.drawTiles(At._scene.sprite.get_graphics(),$._smoothData,!0,$._renderFlags,$._smoothDataIndex),$._smoothDataIndex=0)}At.active=Y}null==Q&&(Q=Et.smooth);var tt=Q?Y._smoothData:Y._data,et=Q?Y._smoothDataIndex:Y._dataIndex;tt[et++]=V,tt[et++]=z,tt[et++]=H.x,tt[et++]=H.y,tt[et++]=H.width,tt[et++]=H.height,tt[et++]=j,tt[et++]=K,tt[et++]=q,tt[et++]=J,Y._flagRGB&&(tt[et++]=O,tt[et++]=F,tt[et++]=N),Y._flagAlpha&&(tt[et++]=U),Q?Y._smoothDataIndex=et:Y._dataIndex=et}else{var nt=B._parent,it=B._rect,rt=G;if(At.active!=nt){if(null!=At.active){var at=At.active;0!=at._dataIndex&&(at._tilesheet.drawTiles(At._scene.sprite.get_graphics(),at._data,!1,at._renderFlags,at._dataIndex),at._dataIndex=0),0!=at._smoothDataIndex&&(at._tilesheet.drawTiles(At._scene.sprite.get_graphics(),at._smoothData,!0,at._renderFlags,at._smoothDataIndex),at._smoothDataIndex=0)}At.active=nt}null==rt&&(rt=Et.smooth);var st=rt?nt._smoothData:nt._data,lt=rt?nt._smoothDataIndex:nt._dataIndex;st[lt++]=L,st[lt++]=k,st[lt++]=it.x,st[lt++]=it.y,st[lt++]=it.width,st[lt++]=it.height,st[lt++]=C,st[lt++]=M,st[lt++]=D,st[lt++]=P,nt._flagRGB&&(st[lt++]=O,st[lt++]=F,st[lt++]=N),nt._flagAlpha&&(st[lt++]=U),rt?nt._smoothDataIndex=lt:nt._dataIndex=lt}}},updateBuffer:function(t){null==t&&(t=!1),null!=this._source&&(t&&this._buffer.fillRect(this._bufferRect,0),this._buffer.copyPixels(this._source,this._sourceRect,Z.zero),null!=this._tint&&this._buffer.colorTransform(this._bufferRect,this._tint))},updateColorTransform:function(){if(1==this._alpha&&(0==this._tintFactor||0==this._tintMode&&16777215==this._color))return this._tint=null,void this.updateBuffer();this._tint=this._colorTransform,this._tint.redMultiplier=this._tintMode*(1-this._tintFactor)+(1-this._tintMode)*(this._tintFactor*((this._color>>16&255)/255-1)+1),this._tint.greenMultiplier=this._tintMode*(1-this._tintFactor)+(1-this._tintMode)*(this._tintFactor*((this._color>>8&255)/255-1)+1),this._tint.blueMultiplier=this._tintMode*(1-this._tintFactor)+(1-this._tintMode)*(this._tintFactor*((255&this._color)/255-1)+1),this._tint.redOffset=(this._color>>16&255)*this._tintFactor*this._tintMode,this._tint.greenOffset=(this._color>>8&255)*this._tintFactor*this._tintMode,this._tint.blueOffset=(255&this._color)*this._tintFactor*this._tintMode,this._tint.alphaMultiplier=this._alpha,this.updateBuffer()},clear:function(){null!=this._buffer&&this._buffer.fillRect(this._bufferRect,0)},get_alpha:function(){return this._alpha},set_alpha:function(t){return t=t<0?0:t>1?1:t,this._alpha==t?t:(this._alpha=t,this.blit&&this.updateColorTransform(),this._alpha)},get_color:function(){return this._color},set_color:function(t){return t&=16777215,this._color==t?t:(this._color=t,this._red=(this._color>>16&255)/255,this._green=(this._color>>8&255)/255,this._blue=(255&this._color)/255,this.blit&&this.updateColorTransform(),this._color)},get_tinting:function(){return this._tintFactor},set_tinting:function(t){return this._tintFactor!=t&&this.blit?(this._tintFactor=t,this.updateColorTransform(),this._tintFactor):t},get_tintMode:function(){return this._tintMode},set_tintMode:function(t){return this._tintMode!=t&&this.blit?(this._tintMode=t,this.updateColorTransform(),this._tintMode):t},get_flipped:function(){return this._flipped},set_flipped:function(t){if(this._flipped==t)return t;if(this._flipped=t,this.blit){var e=this._source;t&&null==this._flip?null!=xt._flips.h.__keys__[e.__id__]?this._source=xt._flips.h[e.__id__]:(this._source=Z.createBitmap(this._source.width,this._source.height,!0),xt._flips.set(e,this._source),Z.matrix.identity(),Z.matrix.a=-1,Z.matrix.tx=this._source.width,this._source.draw(e,Z.matrix)):this._source=this._flip,this._flip=e,this.updateBuffer()}return this._flipped},centerOrigin:function(){this.originX=this.get_width()/2|0,this.originY=this.get_height()/2|0},centerOO:function(){this.x+=this.originX,this.y+=this.originY,this.centerOrigin(),this.x-=this.originX,this.y-=this.originY},smooth:null,get_width:function(){return 0|(this.blit?this._bufferRect.width:this._region.rotated?this._region._rect.height:this._region._rect.width)},get_height:function(){return 0|(this.blit?this._bufferRect.height:this._region.rotated?this._region._rect.width:this._region._rect.height)},get_scaledWidth:function(){return this.get_width()*this.scaleX*this._scale},set_scaledWidth:function(t){return this.scaleX=t/this._scale/this.get_width()},get_scaledHeight:function(){return this.get_height()*this.scaleY*this._scale},set_scaledHeight:function(t){return this.scaleY=t/this._scale/this.get_height()},clipRect:null,get_clipRect:function(){return this._sourceRect},_source:null,_sourceRect:null,_buffer:null,_bufferRect:null,_bitmap:null,_region:null,_alpha:null,_color:null,_tintFactor:null,_tintMode:null,_tint:null,_colorTransform:null,_matrix:null,_red:null,_green:null,_blue:null,_flipped:null,_flip:null,_scale:null,__class__:xt,__properties__:n(et.prototype.__properties__,{get_clipRect:"get_clipRect",set_scaledHeight:"set_scaledHeight",get_scaledHeight:"get_scaledHeight",set_scaledWidth:"set_scaledWidth",get_scaledWidth:"get_scaledWidth",get_height:"get_height",get_width:"get_width",set_flipped:"set_flipped",get_flipped:"get_flipped",set_tintMode:"set_tintMode",get_tintMode:"get_tintMode",set_tinting:"set_tinting",get_tinting:"get_tinting",set_color:"set_color",get_color:"get_color",set_alpha:"set_alpha",get_alpha:"get_alpha",set_scale:"set_scale",get_scale:"get_scale"})});var yt=function(t,e,n,i){null==n&&(n=0),null==e&&(e=0),this.complete=!0,this.rate=1,this._anims=new ge,this._timer=this._frame=0,this._rect=new z(0,0,e,n);var r=t;switch(r[1]){case 0:var a,s=r[2];if(Z.renderMode==it.HARDWARE){var l=new At(s);a=gt.Right(Et.loadImageAsRegion(l))}else a=gt.Left(s);xt.call(this,a,this._rect);break;case 1:var o=r[2];if(this._atlas=o,e>this._atlas.get_width()||n>this._atlas.get_height())throw new Ee("Frame width and height can't be bigger than the source image dimension.");this._atlas.prepare(0==e?0|this._atlas.get_width():e,0==n?0|this._atlas.get_height():n);var h=gt.Right(o.getRegion(this._frame));xt.call(this,h,this._rect)}if(this.blit?(this._width=this._source.width,this._height=this._source.height):(this._width=0|this._atlas.get_width(),this._height=0|this._atlas.get_height()),0==e&&(this._rect.width=this._width),0==n&&(this._rect.height=this._height),this._width%this._rect.width!=0||this._height%this._rect.height!=0)throw new Ee("Source image width and height should be multiples of the frame width and height.");this._columns=Math.ceil(this._width/this._rect.width),this._rows=Math.ceil(this._height/this._rect.height),this._frameCount=this._columns*this._rows,this.callbackFunc=i,this.updateBuffer(),this.active=!0};a["com.haxepunk.graphics.Spritemap"]=yt,yt.__name__=["com","haxepunk","graphics","Spritemap"],yt.__super__=xt,yt.prototype=n(xt.prototype,{complete:null,callbackFunc:null,rate:null,updateBuffer:function(t){null==t&&(t=!1),this.blit?(this._width>0&&this._height>0&&(this._rect.x=this._rect.width*(this._frame%this._columns),this._rect.y=this._rect.height*(this._frame/this._columns|0),this._flipped&&(this._rect.x=this._width-this._rect.width-this._rect.x)),xt.prototype.updateBuffer.call(this,t)):this._region=this._atlas.getRegion(this._frame)},update:function(){if(null!=this._anim&&!this.complete&&(this._timer+=(Z.fixed?this._anim.frameRate/Z.assignedFrameRate:this._anim.frameRate*Z.elapsed)*this.rate,this._timer>=1)){for(;this._timer>=1;)if(this._timer--,this._index+=this.reverse?-1:1,this.reverse&&-1==this._index||!this.reverse&&this._index==this._anim.frameCount){if(!this._anim.loop){this._index=this.reverse?0:this._anim.frameCount-1,this.complete=!0,null!=this.callbackFunc&&this.callbackFunc();break}this._index=this.reverse?this._anim.frameCount-1:0,null!=this.callbackFunc&&this.callbackFunc()}null!=this._anim&&(this._frame=0|this._anim.frames[this._index]),this.updateBuffer()}},add:function(t,e,n,i){null==i&&(i=!0),null==n&&(n=0);var r=this._anims;if(null!=(null!=vo[t]?r.getReserved(t):r.h[t]))throw new Ee("Cannot have multiple animations with the same name");for(var a=0,s=e.length;a<s;){var l=a++;e[l]%=this._frameCount,e[l]<0&&(e[l]+=this._frameCount)}var o=new pt(t,e,n,i),h=this._anims;return null!=vo[t]?h.setReserved(t,o):h.h[t]=o,o.set_parent(this),o},play:function(t,e,n){if(null==n&&(n=!1),null==e&&(e=!1),null==t&&(t=""),!e&&null!=this._anim&&this._anim.name==t)return this._anim;var i=this._anims;if(!(null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)))return this.stop(e),null;var r=this._anims;return this._anim=null!=vo[t]?r.getReserved(t):r.h[t],this.reverse=n,this.restart(),this._anim},playFrames:function(t,e,n,i,r){return null==r&&(r=!1),null==i&&(i=!1),null==n&&(n=!0),null==e&&(e=0),null==t||0==t.length?(this.stop(i),null):0==i&&null!=this._anim&&this._anim.frames==t?this._anim:this.playAnimation(new pt(null,t,e,n),i,r)},playAnimation:function(t,e,n){if(null==n&&(n=!1),null==e&&(e=!1),null==t)throw new Ee("No animation supplied");return 0==e&&this._anim==t?t:(this._anim=t,this.reverse=n,this.restart(),t)},restart:function(){this._timer=this._index=this.reverse?this._anim.frames.length-1:0,this._frame=this._anim.frames[this._index],this.complete=!1,this.updateBuffer()},stop:function(t){null==t&&(t=!1),t&&(this._frame=this._index=this.reverse?this._anim.frames.length-1:0),this._anim=null,this.complete=!0,this.updateBuffer()},getFrame:function(t,e){return null==e&&(e=0),null==t&&(t=0),e%this._rows*this._columns+t%this._columns},setFrame:function(t,e){null==e&&(e=0),null==t&&(t=0),this._anim=null;var n=e%this._rows*this._columns+t%this._columns;this._frame!=n&&(this._frame=n,this.updateBuffer())},randFrame:function(){Z._seed=16807*Z._seed%2147483647|0,this.set_frame(Z._seed/2147483647*this._frameCount|0)},setAnimFrame:function(t,e){var n=this._anims,i=(null!=vo[t]?n.getReserved(t):n.h[t]).frames;(e%=i.length)<0&&(e+=i.length),this.set_frame(i[e])},get_frame:function(){return this._frame},set_frame:function(t){return this._anim=null,(t%=this._frameCount)<0&&(t=this._frameCount+t),this._frame==t?this._frame:(this._frame=t,this.updateBuffer(),this._frame)},get_index:function(){return null!=this._anim?this._index:0},set_index:function(t){return null==this._anim?0:(t%=this._anim.frameCount,this._index==t?this._index:(this._index=t,this._frame=this._anim.frames[this._index],this.updateBuffer(),this._index))},reverse:null,frameCount:null,get_frameCount:function(){return this._frameCount},columns:null,get_columns:function(){return this._columns},rows:null,get_rows:function(){return this._rows},currentAnim:null,get_currentAnim:function(){return null!=this._anim?this._anim.name:""},_rect:null,_width:null,_height:null,_columns:null,_rows:null,_frameCount:null,_anims:null,_anim:null,_index:null,_frame:null,_timer:null,_atlas:null,__class__:yt,__properties__:n(xt.prototype.__properties__,{get_currentAnim:"get_currentAnim",get_rows:"get_rows",get_columns:"get_columns",get_frameCount:"get_frameCount",set_index:"set_index",get_index:"get_index",set_frame:"set_frame",get_frame:"get_frame"})});var wt={};a["com.haxepunk.graphics._Text.StyleType_Impl_"]=wt,wt.__name__=["com","haxepunk","graphics","_Text","StyleType_Impl_"],wt._new=function(t){return t},wt.toTextformat=function(t){return t},wt.fromTextFormat=function(t){return wt._new(t)},wt.fromTextOptions=function(t){for(var e=new Al,n=B.getInstanceFields(Al),i=0,r=D.fields(t);i<r.length;){var a=r[i];if(++i,!(n.indexOf(a)>-1))throw new Ee('"'+a+'" is not a TextFormat property');e[a]=D.field(t,a)}return wt._new(e)},wt.fromDynamic=function(t){for(var e=new Al,n=B.getInstanceFields(Al),i=0,r=D.fields(t);i<r.length;){var a=r[i];if(++i,!(n.indexOf(a)>-1))throw new Ee('"'+a+'" is not a TextFormat property');e[a]=D.field(t,a)}return wt._new(e)};var bt=function(t,e,n,i,r,a){null==r&&(r=0),null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),this.resizable=!0,null==a&&(a={}),null==t&&(t=""),Object.prototype.hasOwnProperty.call(a,"font")||(a.font=Z.defaultFont),Object.prototype.hasOwnProperty.call(a,"size")||(a.size=16),Object.prototype.hasOwnProperty.call(a,"align")||(a.align=3),Object.prototype.hasOwnProperty.call(a,"color")||(a.color=16777215),Object.prototype.hasOwnProperty.call(a,"resizable")||(a.resizable=!0),Object.prototype.hasOwnProperty.call(a,"wordWrap")||(a.wordWrap=!1),Object.prototype.hasOwnProperty.call(a,"leading")||(a.leading=0);var s=ji.getFont(a.font);this._format=new Al(s.name,a.size,16777215),this._format.align=a.align,this._format.leading=a.leading,this._field=new Tl,this._field.set_wordWrap(a.wordWrap),this._field.set_defaultTextFormat(this._format),this._field.set_text(this._text=t),this._field.set_selectable(!1),this.resizable=a.resizable,this._styles=new ge,this._width=0==i?this._field.get_textWidth()+4|0:i,this._height=0==r?this._field.get_textHeight()+4|0:r;var l=Z.createBitmap(this._width,this._height,!0);if(Z.renderMode==it.HARDWARE){this._source=l,this._sourceRect=l.rect;var o=new At(this._source);this._region=Et.loadImageAsRegion(o),this.blit=!0,xt.call(this)}else{var h;if(Z.renderMode==it.HARDWARE){var _=new At(l);h=gt.Right(Et.loadImageAsRegion(_))}else h=gt.Left(l);xt.call(this,h)}this.blit=Z.renderMode==it.BUFFER,this.updateTextBuffer(),this.set_size(a.size),this.set_color(a.color),this.x=e,this.y=n};a["com.haxepunk.graphics.Text"]=bt,bt.__name__=["com","haxepunk","graphics","Text"],bt.__super__=xt,bt.prototype=n(xt.prototype,{resizable:null,textWidth:null,textHeight:null,addStyle:function(t,e){var n=this._styles,i=wt.toTextformat(e);null!=vo[t]?n.setReserved(t,i):n.h[t]=i,null!=this._richText&&this.updateTextBuffer()},updateColorTransform:function(){null!=this._richText?(1==this._alpha?this._tint=null:(this._tint=this._colorTransform,this._tint.redMultiplier=1,this._tint.greenMultiplier=1,this._tint.blueMultiplier=1,this._tint.redOffset=0,this._tint.greenOffset=0,this._tint.blueOffset=0,this._tint.alphaMultiplier=this._alpha),this._format.color!=this._color?this.updateTextBuffer():this.updateBuffer()):xt.prototype.updateColorTransform.call(this)},matchStyles:function(){for(this._text=this._richText,this._field.set_text(this._text.replace(bt.tag_re.r,"$2")),this._field.setTextFormat(this._format);bt.tag_re.match(this._text);){var t=bt.tag_re.matched(1),e=bt.tag_re.matched(2),n=bt.tag_re.matchedPos();this._text=I.substr(this._text,0,n.pos)+e+I.substr(this._text,n.pos+n.len,null);var i=this._styles;if(null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var r=this._styles;this._field.setTextFormat(null!=vo[t]?r.getReserved(t):r.h[t],n.pos,n.pos+e.length)}}},updateTextBuffer:function(){if(null==this._richText?(this._format.color=16777215,this._field.setTextFormat(this._format)):(this._format.color=this._color,this.matchStyles()),this._field.set_width(this._width),this._field.set_width(this.textWidth=Math.ceil(this._field.get_textWidth()+4)),this._field.set_height(this.textHeight=Math.ceil(this._field.get_textHeight()+4)),this.resizable&&(this.textWidth>this._width||this.textHeight>this._height)&&(this._width<this.textWidth&&(this._width=this.textWidth),this._height<this.textHeight&&(this._height=this.textHeight)),this._width>this._source.width||this._height>this._source.height){if(this._source=Z.createBitmap(0|Math.max(this._width,this._source.width),0|Math.max(this._height,this._source.height),!0),this._sourceRect=this._source.rect,this.createBuffer(),!this.blit){null!=this._region&&this._region.destroy();var t=new At(this._source);this._region=Et.loadImageAsRegion(t)}}else this._source.fillRect(this._sourceRect,0);this._field.set_width(this._width),this._field.set_height(this._height),this._source.draw(this._field),xt.prototype.updateBuffer.call(this)},destroy:function(){null!=this._region&&this._region.destroy()},get_text:function(){return this._text},set_text:function(t){return this._text==t&&null==this._richText?t:(this._field.set_text(this._text=t),null==this._richText?this.updateTextBuffer():this.updateColorTransform(),t)},get_richText:function(){return null==this._richText?this._text:this._richText},set_richText:function(t){if(this._richText==t)return t;var e=null==this._richText;return this._richText=t,""==this._richText&&this._field.set_text(this._text=""),e&&null!=this._richText?(this._format.color=16777215,this._red=this._green=this._blue=1,this.updateColorTransform()):this.updateTextBuffer(),t},getTextProperty:function(t){var e=D.getProperty(this,t);return null==e&&(e=D.getProperty(this._field,t)),null==e&&(e=D.getProperty(this._format,t)),e},setTextProperty:function(t,e){var n=!1;try{return D.setProperty(this,t,e),!0}catch(i){ae.lastException=i;try{D.setProperty(this._field,t,e),n=!0}catch(i){ae.lastException=i;try{D.setProperty(this._format,t,e),n=!0}catch(t){ae.lastException=t}}}return!!n&&(this.updateTextBuffer(),!0)},font:null,set_font:function(t){return this.font==t?t:(t=ji.getFont(t).name,this._format.font=this.font=t,this.updateTextBuffer(),t)},size:null,set_size:function(t){return this.size==t?t:(this._format.size=this.size=t,this.updateTextBuffer(),t)},align:null,set_align:function(t){return this.align==t?t:(this._format.align=t,this.updateTextBuffer(),t)},leading:null,set_leading:function(t){return this.leading==t?t:(this._format.leading=this.leading=t,this.updateTextBuffer(),t)},wordWrap:null,set_wordWrap:function(t){return this.wordWrap==t?t:(this._field.set_wordWrap(this.wordWrap=t),this.updateTextBuffer(),t)},get_width:function(){return 0|this._width},get_height:function(){return 0|this._height},_width:null,_height:null,_text:null,_richText:null,_field:null,_format:null,_styles:null,__class__:bt,__properties__:n(xt.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_leading:"set_leading",set_align:"set_align",set_size:"set_size",set_font:"set_font",set_richText:"set_richText",get_richText:"get_richText",set_text:"set_text",get_text:"get_text"})});var Tt=function(t,e,n,i,r,a,s,l){if(null==l&&(l=!0),null==s&&(s=0),null==a&&(a=0),this._rect=Z.rect,this._width=e-e%i,this._height=n-n%r,this._columns=this._width/i|0,this._rows=this._height/r|0,this._opaqueTiles=l,this.tileSpacingWidth=a,this.tileSpacingHeight=s,0==this._columns||0==this._rows)throw new Ee("Cannot create a bitmapdata of width/height = 0");this._maxWidth-=this._maxWidth%i,this._maxHeight-=this._maxHeight%r,mt.call(this,this._width,this._height),this._tile=new z(0,0,i,r),this._map=[];for(var o=0,h=this._rows;o<h;){var _=o++;this._map[_]=[];for(var u=0,c=this._columns;u<c;){var d=u++;this._map[_][d]=-1}}var f=t;switch(f[1]){case 0:var g=f[2];this.blit=!0,this._set=g;break;case 1:var p=f[2];this.blit=!1,this._atlas=p,p.prepare(i,r,a,s)}if(null==this._set&&null==this._atlas)throw new Ee("Invalid tileset graphic provided.");this.blit?(this._setColumns=this._set.width/i|0,this._setRows=this._set.height/r|0):(this._setColumns=this._atlas.get_width()/i|0,this._setRows=this._atlas.get_height()/r|0),this._setCount=this._setColumns*this._setRows,this.smooth=2!=Z.stage.quality};a["com.haxepunk.graphics.Tilemap"]=Tt,Tt.__name__=["com","haxepunk","graphics","Tilemap"],Tt.__super__=mt,Tt.prototype=n(mt.prototype,{usePositions:null,setTile:function(t,e,n){null==n&&(n=0),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),n%=this._setCount,t%=this._columns,e%=this._rows,this._map[e][t]=n,this.blit&&((0==this._opaqueTiles||n<0)&&(this._tile.x=t*this._tile.width,this._tile.y=e*this._tile.height,this.fill(this._tile,0,0)),n>=0&&(this._tile.x=n%this._setColumns*(this._tile.width+this.tileSpacingWidth),this._tile.y=(n/this._setColumns|0)*(this._tile.height+this.tileSpacingHeight),this.draw(t*this._tile.width,e*this._tile.height,this._set,this._tile)))},clearTile:function(t,e){this.setTile(t,e,-1)},getTile:function(t,e){return this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this._map[e%this._rows][t%this._columns]},setRect:function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=1),null==n&&(n=1),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0,n=n/this._tile.width|0,i=i/this._tile.height|0);var a=t%=this._columns,s=t+n,l=(e%=this._rows)+i,o=this.usePositions;for(this.usePositions=!1;e<l;){for(;t<s;)this.setTile(t,e,r),++t;t=a,++e}this.usePositions=o},clearRect:function(t,e,n,i){null==i&&(i=1),null==n&&(n=1),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0,n=n/this._tile.width|0,i=i/this._tile.height|0);var r=t%=this._columns,a=t+n,s=(e%=this._rows)+i,l=this.usePositions;for(this.usePositions=!1;e<s;){for(;t<a;)this.clearTile(t,e),++t;t=r,++e}this.usePositions=l},loadFrom2DArray:function(t){for(var e=0,n=t.length;e<n;)for(var i=e++,r=0,a=t[i].length;r<a;){var s=r++;this.setTile(s,i,t[i][s])}},loadFromString:function(t,e,n){null==n&&(n="\n"),null==e&&(e=",");for(var i,r,a=t.split(n),s=0,l=a.length;s<l;){var o=s++;if(""!=a[o])for(var h=0,_=r=(i=a[o].split(e)).length;h<_;){var u=h++;""!=i[u]&&this.setTile(u,o,P.parseInt(i[u]))}}},saveToString:function(t,e){null==e&&(e="\n"),null==t&&(t=",");for(var n="",i=0,r=this._rows;i<r;){for(var a=i++,s=0,l=this._columns;s<l;){var o=s++;n+=P.string(this.getTile(o,a)),o!=this._columns-1&&(n+=t)}a!=this._rows-1&&(n+=e)}return n},getIndex:function(t,e){return e%this._setRows*this._setColumns+t%this._setColumns},getX:function(t){return t%this._setColumns},getY:function(t){return t/this._setColumns|0},shiftTiles:function(t,e,n){if(null==n&&(n=!1),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),0!=t){for(var i=0,r=this._rows;i<r;){var a=i++,s=this._map[a];if(t>0)for(var l=0,o=t;l<o;){l++;var h=s.pop();n&&s.unshift(h)}else for(var _=0,u=0|Math.abs(t);_<u;){_++;var c=s.shift();n&&s.push(c)}}this._columns=this._map[0|this.y].length}if(0!=e){if(e>0)for(var d=0,f=e;d<f;){d++;var g=this._map.pop();n&&this._map.unshift(g)}else for(var p=0,m=0|Math.abs(e);p<m;){p++;var v=this._map.shift();n&&this._map.push(v)}this._rows=this._map.length}},updateRect:function(t,e){var n=0|t.x,i=0|t.y,r=n+t.width|0,a=i+t.height|0,s=this.usePositions;if(this.usePositions=!1,e)for(;i<a;){for(;n<r;)this.clearTile(n++,i);n=0|t.x,++i}else for(;i<a;){for(;n<r;)this.updateTile(n++,i);n=0|t.x,++i}this.usePositions=s},renderAtlas:function(t,e,n){this._point.x=e.x+this.x-n.x*this.scrollX,this._point.y=e.y+this.y-n.y*this.scrollY;var i=Z.screen.fullScaleX,r=Z.screen.fullScaleY,a=0|this._tile.width,s=0|this._tile.height,l=this.scale*this.scaleX,o=this.scale*this.scaleY,h=Math.floor(-this._point.x/(a*l)),_=Math.floor(-this._point.y/(s*o)),u=h+1+Math.ceil(Z.width/(a*l)),c=_+1+Math.ceil(Z.height/(s*o));if(!(h>this._columns||_>this._rows||u<0||c<0)){h<0&&(h=0),u>this._columns&&(u=this._columns),_<0&&(_=0),c>this._rows&&(c=this._rows);for(var d,f=(this._point.x+h*a*l)*i,g=(this._point.y+_*s*o)*r,p=a*l*i,m=s*o*r,v=0,x=_,y=c;x<y;){var w=x++;d=f,o=(Math.floor(g+m)-Math.floor(g))/(0|this._tile.height);for(var b=h,T=u;b<T;){var E=b++;if((v=this._map[w%this._rows][E%this._columns])>=0){l=(Math.floor(d+p)-Math.floor(d))/(0|this._tile.width),this._tile.x=v%this._setColumns*(this._tile.width+this.tileSpacingWidth),this._tile.y=(v/this._setColumns|0)*(this._tile.height+this.tileSpacingHeight);var R=this._atlas,A=this._tile,I=Math.floor(d),S=Math.floor(g),C=this._red,M=this._green,D=this._blue,P=this.get_alpha(),L=R._data,k=this.smooth;if(At.active!=L){if(null!=At.active){var B=At.active;0!=B._dataIndex&&(B._tilesheet.drawTiles(At._scene.sprite.get_graphics(),B._data,!1,B._renderFlags,B._dataIndex),B._dataIndex=0),0!=B._smoothDataIndex&&(B._tilesheet.drawTiles(At._scene.sprite.get_graphics(),B._smoothData,!0,B._renderFlags,B._smoothDataIndex),B._smoothDataIndex=0)}At.active=L}null==k&&(k=Et.smooth);var O=k?L._smoothData:L._data,F=k?L._smoothDataIndex:L._dataIndex;O[F++]=I,O[F++]=S,O[F++]=A.x,O[F++]=A.y,O[F++]=A.width,O[F++]=A.height,O[F++]=l,O[F++]=0,O[F++]=0,O[F++]=o,L._flagRGB&&(O[F++]=C,O[F++]=M,O[F++]=D),L._flagAlpha&&(O[F++]=P),k?L._smoothDataIndex=F:L._dataIndex=F}d+=p}g+=m}}},createGrid:function(t,e){null==e&&(e=new Dt(this.get_width(),this.get_height(),0|this._tile.width,0|this._tile.height));for(var n=0,i=this._rows;n<i;)for(var r=n++,a=0,s=this._columns;a<s;){var l=a++;-1!=t.indexOf(this.getTile(l,r))&&e.setTile(l,r,!0)}return e},updateTileRect:function(t){this._tile.x=t%this._setColumns*(this._tile.width+this.tileSpacingWidth),this._tile.y=(t/this._setColumns|0)*(this._tile.height+this.tileSpacingHeight)},updateTile:function(t,e){this.setTile(t,e,this._map[e%this._rows][t%this._columns])},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},tileSpacingWidth:null,tileSpacingHeight:null,get_tileCount:function(){return this._setCount},columns:null,get_columns:function(){return this._columns},rows:null,get_rows:function(){return this._rows},opaqueTiles:null,get_opaqueTiles:function(){return this._opaqueTiles},smooth:null,_map:null,_columns:null,_rows:null,_opaqueTiles:null,_set:null,_atlas:null,_setColumns:null,_setRows:null,_setCount:null,_tile:null,__class__:Tt,__properties__:n(mt.prototype.__properties__,{get_opaqueTiles:"get_opaqueTiles",get_rows:"get_rows",get_columns:"get_columns",get_tileCount:"get_tileCount",get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var Et=function(t){this._data=t};a["com.haxepunk.graphics.atlas.Atlas"]=Et,Et.__name__=["com","haxepunk","graphics","atlas","Atlas"],Et.loadImageAsRegion=function(t){var e=t;return new It(e,new z(0,0,e.width,e.height).clone())},Et.prototype={get_width:function(){return this._data.width},get_height:function(){return this._data.height},destroy:function(){this._data.destroy()},prepareTile:function(t,e,n,i,r,a,s,l,o,h,_,u){var c=this._data,d=u;if(At.active!=c){if(null!=At.active){var f=At.active;0!=f._dataIndex&&(f._tilesheet.drawTiles(At._scene.sprite.get_graphics(),f._data,!1,f._renderFlags,f._dataIndex),f._dataIndex=0),0!=f._smoothDataIndex&&(f._tilesheet.drawTiles(At._scene.sprite.get_graphics(),f._smoothData,!0,f._renderFlags,f._smoothDataIndex),f._smoothDataIndex=0)}At.active=c}null==d&&(d=Et.smooth);var g=d?c._smoothData:c._data,p=d?c._smoothDataIndex:c._dataIndex;if(g[p++]=e,g[p++]=n,g[p++]=t.x,g[p++]=t.y,g[p++]=t.width,g[p++]=t.height,0==s)g[p++]=r,g[p++]=0,g[p++]=0,g[p++]=a;else{var m=Math.cos(-s*(Math.PI/-180)),v=Math.sin(-s*(Math.PI/-180));g[p++]=m*r,g[p++]=-v*a,g[p++]=v*r,g[p++]=m*a}c._flagRGB&&(g[p++]=l,g[p++]=o,g[p++]=h),c._flagAlpha&&(g[p++]=_),d?c._smoothDataIndex=p:c._dataIndex=p},_data:null,__class__:Et,__properties__:{get_height:"get_height",get_width:"get_width"}};var Rt={};a["com.haxepunk.graphics.atlas._AtlasData.AtlasDataType_Impl_"]=Rt,Rt.__name__=["com","haxepunk","graphics","atlas","_AtlasData","AtlasDataType_Impl_"],Rt._new=function(t){return t},Rt.toAtlasData=function(t){return t},Rt.fromString=function(t){var e=null;if(At._dataPool.exists(t))e=At._dataPool.get(t);else{var n=Z.getBitmap(t);null!=n&&(e=new At(n,t))}return e},Rt.fromBitmapData=function(t){return new At(t)},Rt.fromAtlasData=function(t){return t};var At=function(t,e,n){if(this._layerIndex=0,this._data=[],this._smoothData=[],this._dataIndex=this._smoothDataIndex=0,this._tilesheet=new cs(t),this._name=e,null!=this._name){var i=this._name,r=At._dataPool;if(null!=vo[i]?r.existsReserved(i):r.h.hasOwnProperty(i))throw new Ee('Cannot cache duplicate AtlasData with the name "'+this._name+'"');var a=this._name,s=At._dataPool;null!=vo[a]?s.setReserved(a,this):s.h[a]=this}this._renderFlags=60,this._flagAlpha=!0,this._flagRGB=!0,this.width=t.width,this.height=t.height};a["com.haxepunk.graphics.atlas.AtlasData"]=At,At.__name__=["com","haxepunk","graphics","atlas","AtlasData"],At.__properties__={set_active:"set_active"},At.getAtlasDataByName=function(t,e){null==e&&(e=!1);var n=null,i=At._dataPool;if(null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var r=At._dataPool;n=null!=vo[t]?r.getReserved(t):r.h[t]}else if(e){var a=Z.getBitmap(t);null!=a&&(n=new At(a,t))}return n},At.startScene=function(t){At._scene=t,At._scene.sprite.get_graphics().clear()},At.active=null,At.set_active=function(t){if(At.active!=t){if(null!=At.active){var e=At.active;0!=e._dataIndex&&(e._tilesheet.drawTiles(At._scene.sprite.get_graphics(),e._data,!1,e._renderFlags,e._dataIndex),e._dataIndex=0),0!=e._smoothDataIndex&&(e._tilesheet.drawTiles(At._scene.sprite.get_graphics(),e._smoothData,!0,e._renderFlags,e._smoothDataIndex),e._smoothDataIndex=0)}At.active=t}return t},At.destroyAll=function(){for(var t=At._dataPool,e=new fe(t,t.arrayKeys());e.hasNext();)e.next().destroy()},At._scene=null,At.prototype={width:null,height:null,toString:function(){return null==this._name?"AtlasData":this._name},reload:function(t){return null!=this._name&&Z.overwriteBitmapCache(this._name,t)},destroy:function(){null!=this._name&&(Z.removeBitmap(this._name),At._dataPool.remove(this._name))},createRegion:function(t,e){return new It(this,t.clone())},flush:function(){0!=this._dataIndex&&(this._tilesheet.drawTiles(At._scene.sprite.get_graphics(),this._data,!1,this._renderFlags,this._dataIndex),this._dataIndex=0),0!=this._smoothDataIndex&&(this._tilesheet.drawTiles(At._scene.sprite.get_graphics(),this._smoothData,!0,this._renderFlags,this._smoothDataIndex),this._smoothDataIndex=0)},prepareTileMatrix:function(t,e,n,i,r,a,s,l,o,h,_,u,c){if(At.active!=this){if(null!=At.active){var d=At.active;0!=d._dataIndex&&(d._tilesheet.drawTiles(At._scene.sprite.get_graphics(),d._data,!1,d._renderFlags,d._dataIndex),d._dataIndex=0),0!=d._smoothDataIndex&&(d._tilesheet.drawTiles(At._scene.sprite.get_graphics(),d._smoothData,!0,d._renderFlags,d._smoothDataIndex),d._smoothDataIndex=0)}At.active=this}null==c&&(c=Et.smooth);var f=c?this._smoothData:this._data,g=c?this._smoothDataIndex:this._dataIndex;f[g++]=n,f[g++]=i,f[g++]=t.x,f[g++]=t.y,f[g++]=t.width,f[g++]=t.height,f[g++]=r,f[g++]=a,f[g++]=s,f[g++]=l,this._flagRGB&&(f[g++]=o,f[g++]=h,f[g++]=_),this._flagAlpha&&(f[g++]=u),c?this._smoothDataIndex=g:this._dataIndex=g},prepareTile:function(t,e,n,i,r,a,s,l,o,h,_,u){if(At.active!=this){if(null!=At.active){var c=At.active;0!=c._dataIndex&&(c._tilesheet.drawTiles(At._scene.sprite.get_graphics(),c._data,!1,c._renderFlags,c._dataIndex),c._dataIndex=0),0!=c._smoothDataIndex&&(c._tilesheet.drawTiles(At._scene.sprite.get_graphics(),c._smoothData,!0,c._renderFlags,c._smoothDataIndex),c._smoothDataIndex=0)}At.active=this}null==u&&(u=Et.smooth);var d=u?this._smoothData:this._data,f=u?this._smoothDataIndex:this._dataIndex;if(d[f++]=e,d[f++]=n,d[f++]=t.x,d[f++]=t.y,d[f++]=t.width,d[f++]=t.height,0==s)d[f++]=r,d[f++]=0,d[f++]=0,d[f++]=a;else{var g=Math.cos(-s*(Math.PI/-180)),p=Math.sin(-s*(Math.PI/-180));d[f++]=g*r,d[f++]=-p*a,d[f++]=p*r,d[f++]=g*a}this._flagRGB&&(d[f++]=l,d[f++]=o,d[f++]=h),this._flagAlpha&&(d[f++]=_),u?this._smoothDataIndex=f:this._dataIndex=f},get_alpha:function(){return 0!=(8&this._renderFlags)},set_alpha:function(t){return t?this._renderFlags|=8:this._renderFlags&=-9,this._flagAlpha=t,t},get_rgb:function(){return 0!=(4&this._renderFlags)},set_rgb:function(t){return t?this._renderFlags|=4:this._renderFlags&=-5,this._flagRGB=t,t},get_blend:function(){return 0!=(0&this._renderFlags)?0:0!=(65536&this._renderFlags)?65536:0!=(131072&this._renderFlags)?131072:0!=(262144&this._renderFlags)?262144:0},set_blend:function(t){return this._renderFlags&=-458753,65536==t||131072==t||262144==t||0==t?(this._renderFlags|=t,t):0},_name:null,_layerIndex:null,_renderFlags:null,_flagRGB:null,_flagAlpha:null,_tilesheet:null,_data:null,_dataIndex:null,_smoothData:null,_smoothDataIndex:null,__class__:At,__properties__:{set_blend:"set_blend",get_blend:"get_blend",set_rgb:"set_rgb",get_rgb:"get_rgb",set_alpha:"set_alpha",get_alpha:"get_alpha"}};var It=function(t,e){this._parent=t,this._rect=e,this.rotated=!1};a["com.haxepunk.graphics.atlas.AtlasRegion"]=It,It.__name__=["com","haxepunk","graphics","atlas","AtlasRegion"],It.prototype={rotated:null,clip:function(t,e){var n=new z(t.x,t.y,t.width,t.height);return n.x+n.width>this._rect.width&&(n.width=this._rect.width-n.x),n.y+n.height>this._rect.height&&(n.height=this._rect.height-n.y),n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.x+=this._rect.x,n.y+=this._rect.y,new It(this._parent,n.clone())},draw:function(t,e,n,i,r,a,s,l,o,h,_){null==h&&(h=1),null==o&&(o=1),null==l&&(l=1),null==s&&(s=1),null==a&&(a=0),null==r&&(r=1),null==i&&(i=1),null==_&&(_=Et.smooth),this.rotated&&(a+=90);var u=this._parent,c=this._rect,d=_;if(At.active!=u){if(null!=At.active){var f=At.active;0!=f._dataIndex&&(f._tilesheet.drawTiles(At._scene.sprite.get_graphics(),f._data,!1,f._renderFlags,f._dataIndex),f._dataIndex=0),0!=f._smoothDataIndex&&(f._tilesheet.drawTiles(At._scene.sprite.get_graphics(),f._smoothData,!0,f._renderFlags,f._smoothDataIndex),f._smoothDataIndex=0)}At.active=u}null==d&&(d=Et.smooth);var g=d?u._smoothData:u._data,p=d?u._smoothDataIndex:u._dataIndex;if(g[p++]=t,g[p++]=e,g[p++]=c.x,g[p++]=c.y,g[p++]=c.width,g[p++]=c.height,0==a)g[p++]=i,g[p++]=0,g[p++]=0,g[p++]=r;else{var m=Math.cos(-a*(Math.PI/-180)),v=Math.sin(-a*(Math.PI/-180));g[p++]=m*i,g[p++]=-v*r,g[p++]=v*i,g[p++]=m*r}u._flagRGB&&(g[p++]=s,g[p++]=l,g[p++]=o),u._flagAlpha&&(g[p++]=h),d?u._smoothDataIndex=p:u._dataIndex=p},drawMatrix:function(t,e,n,i,r,a,s,l,o,h,_,u){if(null==_&&(_=1),null==h&&(h=1),null==o&&(o=1),null==l&&(l=1),null==u&&(u=Et.smooth),this.rotated){var c=new W(n,i,r,a,t,e);c.rotate(Math.PI/-180*90);var d=this._parent,f=this._rect,g=c.tx,p=c.ty,m=c.a,v=c.b,x=c.c,y=c.d,w=u;if(At.active!=d){if(null!=At.active){var b=At.active;0!=b._dataIndex&&(b._tilesheet.drawTiles(At._scene.sprite.get_graphics(),b._data,!1,b._renderFlags,b._dataIndex),b._dataIndex=0),0!=b._smoothDataIndex&&(b._tilesheet.drawTiles(At._scene.sprite.get_graphics(),b._smoothData,!0,b._renderFlags,b._smoothDataIndex),b._smoothDataIndex=0)}At.active=d}null==w&&(w=Et.smooth);var T=w?d._smoothData:d._data,E=w?d._smoothDataIndex:d._dataIndex;T[E++]=g,T[E++]=p,T[E++]=f.x,T[E++]=f.y,T[E++]=f.width,T[E++]=f.height,T[E++]=m,T[E++]=v,T[E++]=x,T[E++]=y,d._flagRGB&&(T[E++]=l,T[E++]=o,T[E++]=h),d._flagAlpha&&(T[E++]=_),w?d._smoothDataIndex=E:d._dataIndex=E}else{var R=this._parent,A=this._rect,I=u;if(At.active!=R){if(null!=At.active){var S=At.active;0!=S._dataIndex&&(S._tilesheet.drawTiles(At._scene.sprite.get_graphics(),S._data,!1,S._renderFlags,S._dataIndex),S._dataIndex=0),0!=S._smoothDataIndex&&(S._tilesheet.drawTiles(At._scene.sprite.get_graphics(),S._smoothData,!0,S._renderFlags,S._smoothDataIndex),S._smoothDataIndex=0)}At.active=R}null==I&&(I=Et.smooth);var C=I?R._smoothData:R._data,M=I?R._smoothDataIndex:R._dataIndex;C[M++]=t,C[M++]=e,C[M++]=A.x,C[M++]=A.y,C[M++]=A.width,C[M++]=A.height,C[M++]=n,C[M++]=i,C[M++]=r,C[M++]=a,R._flagRGB&&(C[M++]=l,C[M++]=o,C[M++]=h),R._flagAlpha&&(C[M++]=_),I?R._smoothDataIndex=M:R._dataIndex=M}},destroy:function(){null!=this._parent&&(this._parent.destroy(),this._parent=null)},toString:function(){return"[AtlasRegion "+P.string(this._rect)+"]"},get_width:function(){return this._rect.width},get_height:function(){return this._rect.height},_rect:null,_parent:null,__class__:It,__properties__:{get_height:"get_height",get_width:"get_width"}};var St=function(t){this._regions=new ge,Et.call(this,t)};a["com.haxepunk.graphics.atlas.TextureAtlas"]=St,St.__name__=["com","haxepunk","graphics","atlas","TextureAtlas"],St.loadTexturePacker=function(t){var e=F.parse(ji.getText(t)).firstElement(),n=e.get("imagePath"),i=null;if(At._dataPool.exists(n))i=At._dataPool.get(n);else{var r=Z.getBitmap(n);null!=r&&(i=new At(r,n))}for(var a=new St(i),s=e.elements();s.hasNext();){var l=s.next(),o=l.get("x");Z.rect.x=P.parseInt(o);var h=l.get("y");if(Z.rect.y=P.parseInt(h),l.exists("w")){var _=l.get("w");Z.rect.width=P.parseInt(_)}else if(l.exists("width")){var u=l.get("width");Z.rect.width=P.parseInt(u)}if(l.exists("h")){var c=l.get("h");Z.rect.height=P.parseInt(c)}else if(l.exists("height")){var d=l.get("height");Z.rect.height=P.parseInt(d)}var f;if(l.exists("n"))f=l.get("n");else{if(!l.exists("name"))throw new Ee("Unable to find the region's name.");f=l.get("name")}var g=a.defineRegion(f,Z.rect);l.exists("r")&&"y"==l.get("r")&&(g.rotated=!0)}return a},St.__super__=Et,St.prototype=n(Et.prototype,{getRegion:function(t){var e=this._regions;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this._regions;return null!=vo[t]?n.getReserved(t):n.h[t]}throw new Ee('Region has not been defined yet "'+t+'".')},defineRegion:function(t,e,n){var i=new It(this._data,e.clone()),r=this._regions;return null!=vo[t]?r.setReserved(t,i):r.h[t]=i,i},_regions:null,__class__:St});var Ct=function(t){Et.call(this,t),this._regions=[]};a["com.haxepunk.graphics.atlas.TileAtlas"]=Ct,Ct.__name__=["com","haxepunk","graphics","atlas","TileAtlas"],Ct.__super__=Et,Ct.prototype=n(Et.prototype,{getRegion:function(t){if(t>=this._regions.length)throw new Ee("Atlas doesn't have a region number \""+t+'"');return this._regions[t]},prepare:function(t,e,n,i){if(null==i&&(i=0),null==n&&(n=0),!(this._regions.length>0)){var r=Math.floor(this._data.width/t),a=Math.floor(this._data.height/e);Z.rect.width=t,Z.rect.height=e,Z.point.x=Z.point.y=0;for(var s=0,l=a;s<l;){var o=s++;Z.rect.y=o*(e+i);for(var h=0,_=r;h<_;){var u=h++;Z.rect.x=u*(t+n);Z.point;this._regions.push(new It(this._data,Z.rect.clone()))}}}},_regions:null,__class__:Ct});var Mt=function(t,e,n){null==n&&(n=0),null==e&&(e=0),null==t&&(t=1),Y.call(this),this.set_radius(t),this._x=e+t,this._y=n+t;var i=this._check,a=B.getClassName(G),s=i,l=r(this,this.collideMask);null!=vo[a]?s.setReserved(a,l):s.h[a]=l;var o=this._check,h=B.getClassName(Mt),_=o,u=r(this,this.collideCircle);null!=vo[h]?_.setReserved(h,u):_.h[h]=u;var c=this._check,d=B.getClassName(Y),f=c,g=r(this,this.collideHitbox);null!=vo[d]?f.setReserved(d,g):f.h[d]=g;var p=this._check,m=B.getClassName(Dt),v=p,x=r(this,this.collideGrid);null!=vo[m]?v.setReserved(m,x):v.h[m]=x;var y=this._check,w=B.getClassName(Ot),b=y,T=r(this,this.collideSlopedGrid);null!=vo[w]?b.setReserved(w,T):b.h[w]=T};a["com.haxepunk.masks.Circle"]=Mt,Mt.__name__=["com","haxepunk","masks","Circle"],Mt.__super__=Y,Mt.prototype=n(Y.prototype,{collideMask:function(t){var e=this._parent,n=t._parent,i=Math.abs((e.followCamera?e.x+Z.camera.x:e.x)+this._x-(n.followCamera?n.x+Z.camera.x:n.x)-.5*t._parent.width),r=this._parent,a=t._parent,s=Math.abs((r.followCamera?r.y+Z.camera.y:r.y)+this._y-(a.followCamera?a.y+Z.camera.y:a.y)-.5*t._parent.height);return!(i>.5*t._parent.width+this._radius||s>.5*t._parent.height+this._radius)&&(i<=.5*t._parent.width||s<=.5*t._parent.height||(i-.5*t._parent.width)*(i-.5*t._parent.width)+(s-.5*t._parent.height)*(s-.5*t._parent.height)<=this._squaredRadius)},collideCircle:function(t){var e=this._parent,n=t._parent,i=(e.followCamera?e.x+Z.camera.x:e.x)+this._x-((n.followCamera?n.x+Z.camera.x:n.x)+t._x),r=this._parent,a=t._parent,s=(r.followCamera?r.y+Z.camera.y:r.y)+this._y-((a.followCamera?a.y+Z.camera.y:a.y)+t._y);return i*i+s*s<Math.pow(this._radius+t._radius,2)},collideGridTile:function(t,e,n,i,r,a){var s=!1,l=Math.abs(r-t);if(l<=n+this._radius){var o=Math.abs(a-e);if(o<=i+this._radius)if(l<=n||o<=i)s=!0;else{var h=l-n,_=o-i;h*h+_*_<=this._squaredRadius&&(s=!0)}}return s},collideGrid:function(t){var e=this._parent,n=this._x+(e.followCamera?e.x+Z.camera.x:e.x),i=this._parent,r=this._y+(i.followCamera?i.y+Z.camera.y:i.y),a=t.get_x(),s=t._parent,l=a+(s.followCamera?s.x+Z.camera.x:s.x),o=t.get_y(),h=t._parent,_=o+(h.followCamera?h.y+Z.camera.y:h.y),u=n-l,c=r-_,d=Math.floor((u-this._radius)/(0|t._tile.width)),f=Math.floor((c-this._radius)/(0|t._tile.height)),g=Math.ceil((u+this._radius)/(0|t._tile.width)),p=Math.ceil((c+this._radius)/(0|t._tile.height));d<0&&(d=0),f<0&&(f=0),g>t.columns&&(g=t.columns),p>t.rows&&(p=t.rows);for(var m,v=.5*(0|t._tile.width),x=.5*(0|t._tile.height),y=_+f*(0|t._tile.height),w=f,b=p;w<b;){var T=w++;m=l+d*(0|t._tile.width);for(var E=d,R=g;E<R;){var A=E++;if(t.getTile(A,T)){var I=!1,S=Math.abs(n-(m+v));if(S<=v+this._radius){var C=Math.abs(r-(y+x));if(C<=x+this._radius)if(S<=v||C<=x)I=!0;else{var M=S-v,D=C-x;M*M+D*D<=this._squaredRadius&&(I=!0)}}if(I)return!0}m+=0|t._tile.width}y+=0|t._tile.height}return!1},collideSlopedGrid:function(t){var e=this._parent,n=this._x+(e.followCamera?e.x+Z.camera.x:e.x),i=this._parent,r=this._y+(i.followCamera?i.y+Z.camera.y:i.y),a=t.get_x(),s=t._parent,l=a+(s.followCamera?s.x+Z.camera.x:s.x),o=t.get_y(),h=t._parent,_=o+(h.followCamera?h.y+Z.camera.y:h.y),u=n-l,c=r-_,d=Math.floor((u-this._radius)/(0|t._tile.width)),f=Math.floor((c-this._radius)/(0|t._tile.height)),g=Math.ceil((u+this._radius)/(0|t._tile.width)),p=Math.ceil((c+this._radius)/(0|t._tile.height));d<0&&(d=0),f<0&&(f=0),g>t.columns&&(g=t.columns),p>t.rows&&(p=t.rows);for(var m,v=.5*(0|t._tile.width),x=.5*(0|t._tile.height),y=_+f*(0|t._tile.height),w=f,b=p;w<b;){var T=w++;m=l+d*(0|t._tile.width);for(var E=d,R=g;E<R;){var A,I=E++,S=T;if(I>=0&&I<t.columns&&S>=0&&S<t.rows?(t.usePositions&&(I=I/t._tile.width|0,S=S/t._tile.height|0),A=t.data[S][I]):A=Ot._emptyTile,A.type==Bt.Solid){var C=!1,M=Math.abs(n-(m+v));if(M<=v+this._radius){var D=Math.abs(r-(y+x));if(D<=x+this._radius)if(M<=v||D<=x)C=!0;else{var P=M-v,L=D-x;P*P+L*L<=this._squaredRadius&&(C=!0)}}if(C)return!0}else if(A.type==Bt.AboveSlope||A.type==Bt.BelowSlope){var k=y;k+=A.yOffset;var B=A.slope*t._tile.width,O=(m+B/A.slope-m)*(r-k)>(k+B-k)*(n-m);if(A.type==Bt.AboveSlope&&!O||A.type==Bt.BelowSlope&&O)return!0;var F=m,N=y+A.yOffset,U=A.slope*(0|t._tile.width),G=F+U/A.slope-F,X=N+U-N,Y=F-n,H=N-r,V=G*G+X*X,W=2*(Y*G+H*X),z=W*W-4*V*(Y*Y+H*H-this._radius*this._radius);if(z>=0){var j=(-W-(z=Math.sqrt(z)))/(2*V),K=(-W+z)/(2*V);if(j>=0&&j<=1||K>=0&&K<=1||j<0&&K>1)return!0}}m+=0|t._tile.width}y+=0|t._tile.height}return!1},collideHitbox:function(t){var e=.5*t._width,n=.5*t._height,i=this._parent,r=this._x+(i.followCamera?i.x+Z.camera.x:i.x),a=this._parent,s=this._y+(a.followCamera?a.y+Z.camera.y:a.y),l=t._x,o=t._y;if(null!=(t._parent!=Q._EMPTY?t._parent:null)){var h=t._parent!=Q._EMPTY?t._parent:null;l+=h.followCamera?h.x+Z.camera.x:h.x;var _=t._parent!=Q._EMPTY?t._parent:null;o+=_.followCamera?_.y+Z.camera.y:_.y}var u=Math.abs(r-l-e),c=Math.abs(s-o-n);return!(u>e+this._radius||c>n+this._radius)&&(u<=e||c<=n||(u-e)*(u-e)+(c-n)*(c-n)<=this._squaredRadius)},project:function(t,e){e.min=-this._radius,e.max=this._radius},debugDraw:function(t,e,n){var i=this._parent,r=this._parent;t.drawCircle(((i.followCamera?i.x+Z.camera.x:i.x)+this._x-Z.camera.x)*e,((r.followCamera?r.y+Z.camera.y:r.y)+this._y-Z.camera.y)*n,this._radius*e)},get_x:function(){return this._x-this._radius},get_y:function(){return this._y-this._radius},get_radius:function(){return this._radius},set_radius:function(t){return this._radius==t?t:(this._radius=t,this._squaredRadius=t*t,this.set_height(this.set_width(this._radius+this._radius)),null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&this.update(),this._radius)},update:function(){null!=(this._parent!=Q._EMPTY?this._parent:null)&&(this._parent.originX=-this._x+this._radius,this._parent.originY=-this._y+this._radius,this._parent.height=this._parent.width=this._radius+this._radius,null!=this.list&&this.list.update())},_radius:null,_squaredRadius:null,__class__:Mt,__properties__:n(Y.prototype.__properties__,{set_radius:"set_radius",get_radius:"get_radius"})});var Dt=function(t,e,n,i,a,s){if(null==s&&(s=0),null==a&&(a=0),Y.call(this),0==t||0==e||0==n||0==i)throw new Ee("Illegal Grid, sizes cannot be 0.");this._rect=Z.rect,this._point=Z.point,this._point2=Z.point2,this.columns=t/n|0,this.rows=e/i|0,this._tile=new z(0,0,n,i),this._x=a,this._y=s,this._width=t,this._height=e,this.usePositions=!1;var l=this._check,o=B.getClassName(G),h=l,_=r(this,this.collideMask);null!=vo[o]?h.setReserved(o,_):h.h[o]=_;var u=this._check,c=B.getClassName(Y),d=u,f=r(this,this.collideHitbox);null!=vo[c]?d.setReserved(c,f):d.h[c]=f;var g=this._check,p=B.getClassName(Pt),m=g,v=r(this,this.collidePixelmask);null!=vo[p]?m.setReserved(p,v):m.h[p]=v;var x=this._check,y=B.getClassName(Dt),w=x,b=r(this,this.collideGrid);null!=vo[y]?w.setReserved(y,b):w.h[y]=b,this.data=[];for(var T=0,E=this.rows;T<E;){T++;this.data.push([])}};a["com.haxepunk.masks.Grid"]=Dt,Dt.__name__=["com","haxepunk","masks","Grid"],Dt.__super__=Y,Dt.prototype=n(Y.prototype,{usePositions:null,setTile:function(t,e,n){null==n&&(n=!0),null==e&&(e=0),null==t&&(t=0),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this.setTileXY(t,e,n)},setTileXY:function(t,e,n){null==n&&(n=!0),null==e&&(e=0),null==t&&(t=0),t<0||t>this.columns-1||e<0||e>this.rows-1||(this.data[e][t]=n)},clearTile:function(t,e){null==e&&(e=0),null==t&&(t=0),this.setTile(t,e,!1)},checkTile:function(t,e){return!(t<0||t>this.columns-1||e<0||e>this.rows-1)},getTile:function(t,e){return null==e&&(e=0),null==t&&(t=0),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this.getTileXY(t,e)},getTileXY:function(t,e){return null==e&&(e=0),null==t&&(t=0),!(t<0||t>this.columns-1||e<0||e>this.rows-1)&&this.data[e][t]},setRect:function(t,e,n,i,r){null==r&&(r=!0),null==i&&(i=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0,n=n/this._tile.width|0,i=i/this._tile.height|0);for(var a=e,s=e+i;a<s;)for(var l=a++,o=t,h=t+n;o<h;){var _=o++;this.setTileXY(_,l,r)}},clearRect:function(t,e,n,i){null==i&&(i=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),this.setRect(t,e,n,i,!1)},loadFromString:function(t,e,n){null==n&&(n="\n"),null==e&&(e=",");for(var i,r,a=t.split(n),s=0,l=a.length;s<l;){var o=s++;if(""!=a[o])for(var h=0,_=r=(i=a[o].split(e)).length;h<_;){var u=h++;""!=i[u]&&this.setTile(u,o,P.parseInt(i[u])>0)}}},loadFrom2DArray:function(t){for(var e=0,n=t.length;e<n;)for(var i=e++,r=0,a=t[0].length;r<a;){var s=r++;this.setTile(s,i,t[i][s]>0)}},saveToString:function(t,e,n,i){null==i&&(i="false"),null==n&&(n="true"),null==e&&(e="\n"),null==t&&(t=",");for(var r="",a=0,s=this.rows;a<s;){for(var l=a++,o=0,h=this.columns;o<h;){var _=o++;r+=P.string(this.getTileXY(_,l)?n:i),_!=this.columns-1&&(r+=t)}l!=this.rows-1&&(r+=e)}return r},clone:function(){for(var t=new Dt(this._width,this._height,0|this._tile.width,0|this._tile.height,this._x,this._y),e=0,n=this.rows;e<n;)for(var i=e++,r=0,a=this.columns;r<a;){var s=r++;t.setTile(s,i,this.getTile(s,i))}return t},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},columns:null,rows:null,data:null,collideMask:function(t){var e,n,i,r,a=t._parent,s=this._parent;this._rect.x=(a.followCamera?a.x+Z.camera.x:a.x)-t._parent.originX-(s.followCamera?s.x+Z.camera.x:s.x)+this._parent.originX;var l=t._parent,o=this._parent;this._rect.y=(l.followCamera?l.y+Z.camera.y:l.y)-t._parent.originY-(o.followCamera?o.y+Z.camera.y:o.y)+this._parent.originY,i=1+((this._rect.x+t._parent.width-1)/this._tile.width|0),r=1+((this._rect.y+t._parent.height-1)/this._tile.height|0),e=this._rect.x/this._tile.width|0;for(var h=n=this._rect.y/this._tile.height|0,_=r;h<_;)for(var u=h++,c=e,d=i;c<d;){var f=c++;if(this.getTile(f,u))return!0}return!1},collideHitbox:function(t){var e,n,i,r,a=t._parent,s=this._parent;this._rect.x=(a.followCamera?a.x+Z.camera.x:a.x)-t._x-(s.followCamera?s.x+Z.camera.x:s.x)+this._x;var l=t._parent,o=this._parent;this._rect.y=(l.followCamera?l.y+Z.camera.y:l.y)-t._y-(o.followCamera?o.y+Z.camera.y:o.y)+this._y,i=1+((this._rect.x+t._width-1)/this._tile.width|0),r=1+((this._rect.y+t._height-1)/this._tile.height|0),e=this._rect.x/this._tile.width|0;for(var h=n=this._rect.y/this._tile.height|0,_=r;h<_;)for(var u=h++,c=e,d=i;c<d;){var f=c++;if(this.getTile(f,u))return!0}return!1},collidePixelmask:function(t){return oe.trace("Pixelmasks will not work in targets other than flash due to hittest not being implemented in OpenFL.",{fileName:"Grid.hx",lineNumber:399,className:"com.haxepunk.masks.Grid",methodName:"collidePixelmask"}),!1},collideGrid:function(t){var e=this._parent,n=(e.followCamera?e.x+Z.camera.x:e.x)+this._x,i=n+this._width,r=t._parent,a=(r.followCamera?r.x+Z.camera.x:r.x)+t._x,s=a+t._width;if(i<a||n>s)return!1;var l=this._parent,o=(l.followCamera?l.y+Z.camera.y:l.y)+this._y,h=o+this._height,_=t._parent,u=(_.followCamera?_.y+Z.camera.y:_.y)+t._y,c=u+t._height;if(h<u||o>c)return!1;var d,f,g=n>a?n:a,p=o>u?o:u,m=i<s?i:s,v=h<c?h:c;if(this._tile.width<t._tile.width){d=this._tile.width;var x=this._parent;g=((g-=(x.followCamera?x.x+Z.camera.x:x.x)+this._x)/d|0)*d;var y=this._parent;g+=(y.followCamera?y.x+Z.camera.x:y.x)+this._x}else{d=t._tile.width;var w=t._parent;g=((g-=(w.followCamera?w.x+Z.camera.x:w.x)+t._x)/d|0)*d;var b=t._parent;g+=(b.followCamera?b.x+Z.camera.x:b.x)+t._x}if(this._tile.height<t._tile.height){f=this._tile.height;var T=this._parent;p=((p-=(T.followCamera?T.y+Z.camera.y:T.y)+this._y)/f|0)*f;var E=this._parent;p+=(E.followCamera?E.y+Z.camera.y:E.y)+this._y}else{f=t._tile.height;var R=t._parent;p=((p-=(R.followCamera?R.y+Z.camera.y:R.y)+t._y)/f|0)*f;var A=t._parent;p+=(A.followCamera?A.y+Z.camera.y:A.y)+t._y}for(var I=p,S=0;I<v;){var C=this._parent,M=(I-(C.followCamera?C.y+Z.camera.y:C.y)-this._y)/this._tile.height|0,D=t._parent,P=(I-(D.followCamera?D.y+Z.camera.y:D.y)-t._y)/t._tile.height|0,L=this._parent,k=(I-(L.followCamera?L.y+Z.camera.y:L.y)-this._y+(f-1))/this._tile.height|0,B=t._parent,O=(I-(B.followCamera?B.y+Z.camera.y:B.y)-t._y+(f-1))/t._tile.height|0;for(S=g;S<m;){var F=this._parent,N=(S-(F.followCamera?F.x+Z.camera.x:F.x)-this._x)/this._tile.width|0,U=t._parent,G=(S-(U.followCamera?U.x+Z.camera.x:U.x)-t._x)/t._tile.width|0,X=this._parent,Y=(S-(X.followCamera?X.x+Z.camera.x:X.x)-this._x+(d-1))/this._tile.width|0,H=t._parent,V=(S-(H.followCamera?H.x+Z.camera.x:H.x)-t._x+(d-1))/t._tile.width|0;if(this.getTile(N,M)&&t.getTile(G,P)||this.getTile(Y,M)&&t.getTile(V,P)||this.getTile(N,k)&&t.getTile(G,O)||this.getTile(Y,k)&&t.getTile(V,O))return!0;S+=d}I+=f}return!1},debugDraw:function(t,e,n){var i,r,a=(0|this._tile.width)*e,s=(0|this._tile.height)*n,l=this._parent,o=this._x+(l.followCamera?l.x+Z.camera.x:l.x)-Z.camera.x,h=this._parent,_=this._y+(h.followCamera?h.y+Z.camera.y:h.y)-Z.camera.y,u=Math.floor(-o/(0|this._tile.width)),c=Math.floor(-_/(0|this._tile.height)),d=u+1+Math.ceil(Z.width/(0|this._tile.width)),f=c+1+Math.ceil(Z.height/(0|this._tile.height));if(!(u>this.columns||c>this.rows||d<0||f<0)){u<0&&(u=0),d>this.columns&&(d=this.columns),c<0&&(c=0),f>this.rows&&(f=this.rows),o=(o+u*(0|this._tile.width))*e;var g;r=_=(_+c*(0|this._tile.height))*n;for(var p=c,m=f;p<m;){var v=p++;i=o,g=this.data[v];for(var x=u,y=d;x<y;){var w=x++;g[w]&&(t.lineStyle(1,16777215,.3),t.drawRect(i,r,a,s),w<this.columns-1&&!g[w+1]&&(t.lineStyle(1,255),t.moveTo(i+a,r),t.lineTo(i+a,r+s)),w>0&&!g[w-1]&&(t.lineStyle(1,255),t.moveTo(i,r),t.lineTo(i,r+s)),v<this.rows-1&&!this.data[v+1][w]&&(t.lineStyle(1,255),t.moveTo(i,r+s),t.lineTo(i+a,r+s)),v>0&&!this.data[v-1][w]&&(t.lineStyle(1,255),t.moveTo(i,r),t.lineTo(i+a,r))),i+=a}r+=s}}},squareProjection:function(t,e){t.x<t.y?(e.x=t.x,e.y=t.y):(e.y=t.x,e.x=t.y)},_tile:null,_rect:null,_point:null,_point2:null,__class__:Dt,__properties__:n(Y.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var Pt=function(t,e,n){if(null==n&&(n=0),null==e&&(e=0),Y.call(this),X.__instanceof(t,Ia)?this._data=t:this._data=Z.getBitmap(t),null==this._data)throw new Ee("Invalid Pixelmask source image.");this.threshold=1,this._rect=Z.rect,this._point=Z.point,this._point2=Z.point2,this._width=this.get_data().width,this._height=this.get_data().height,this._x=e,this._y=n;var i=this._check,a=B.getClassName(G),s=i,l=r(this,this.collideMask);null!=vo[a]?s.setReserved(a,l):s.h[a]=l;var o=this._check,h=B.getClassName(Pt),_=o,u=r(this,this.collidePixelmask);null!=vo[h]?_.setReserved(h,u):_.h[h]=u;var c=this._check,d=B.getClassName(Y),f=c,g=r(this,this.collideHitbox);null!=vo[d]?f.setReserved(d,g):f.h[d]=g};a["com.haxepunk.masks.Pixelmask"]=Pt,Pt.__name__=["com","haxepunk","masks","Pixelmask"],Pt.__super__=Y,Pt.prototype=n(Y.prototype,{threshold:null,collideMask:function(t){var e=this._parent;this._point.x=(e.followCamera?e.x+Z.camera.x:e.x)+this._x;var n=this._parent;this._point.y=(n.followCamera?n.y+Z.camera.y:n.y)+this._y;var i=t._parent;this._rect.x=(i.followCamera?i.x+Z.camera.x:i.x)-t._parent.originX;var r=t._parent;return this._rect.y=(r.followCamera?r.y+Z.camera.y:r.y)-t._parent.originY,this._rect.width=t._parent.width,this._rect.height=t._parent.height,!1},collideHitbox:function(t){var e=this._parent;this._point.x=(e.followCamera?e.x+Z.camera.x:e.x)+this._x;var n=this._parent;this._point.y=(n.followCamera?n.y+Z.camera.y:n.y)+this._y;var i=t._parent;this._rect.x=(i.followCamera?i.x+Z.camera.x:i.x)+t._x;var r=t._parent;return this._rect.y=(r.followCamera?r.y+Z.camera.y:r.y)+t._y,this._rect.width=t._width,this._rect.height=t._height,!1},collidePixelmask:function(t){var e=t._parent,n=this._parent;this._point.x=(e.followCamera?e.x+Z.camera.x:e.x)+t._x-((n.followCamera?n.x+Z.camera.x:n.x)+this._x);var i=t._parent,r=this._parent;this._point.y=(i.followCamera?i.y+Z.camera.y:i.y)+t._y-((r.followCamera?r.y+Z.camera.y:r.y)+this._y);var a=new z(0,0,this._data.width,this._data.height),s=new z(this._point.x,this._point.y,t._data.width,t._data.height),l=a.intersection(s);if(l.isEmpty())return!1;for(var o=Math.floor(l.x),h=Math.floor(l.x+l.width+1);o<h;)for(var _=o++,u=Math.floor(l.y),c=Math.floor(l.y+l.height+1);u<c;){var d=u++,f=this._data.getPixel32(_,d)>>24&255,g=t._data.getPixel32(Math.floor(_-this._point.x),Math.floor(d-this._point.y))>>24&255;if(f>0&&g>0)return!0}return!1},get_data:function(){return this._data},set_data:function(t){return this._data=t,this._width=t.width,this._height=t.height,this.update(),this._data},_data:null,_rect:null,_point:null,_point2:null,__class__:Pt,__properties__:n(Y.prototype.__properties__,{set_data:"set_data",get_data:"get_data"})});var Lt=function(){this.max=this.min=0};a["com.haxepunk.math.Projection"]=Lt,Lt.__name__=["com","haxepunk","math","Projection"],Lt.prototype={max:null,min:null,overlaps:function(t){return!(this.min>t.max||this.max<t.min)},getOverlap:function(t){return this.max>t.max?this.max-t.min:t.max-this.min},toString:function(){return"[ "+this.min+", "+this.max+" ]"},__class__:Lt};var kt=function(t,e){if(this.maxY=0,this.maxX=0,this.minY=0,this.minX=0,Y.call(this),t.length<3)throw new Ee("The polygon needs at least 3 sides.");this._points=t,this._fakeEntity=new Q,this._fakeTileHitbox=new Y;var n=this._check,i=B.getClassName(G),a=n,s=r(this,this.collideMask);null!=vo[i]?a.setReserved(i,s):a.h[i]=s;var l=this._check,o=B.getClassName(Y),h=l,_=r(this,this.collideHitbox);null!=vo[o]?h.setReserved(o,_):h.h[o]=_;var u=this._check,c=B.getClassName(Dt),d=u,f=r(this,this.collideGrid);null!=vo[c]?d.setReserved(c,f):d.h[c]=f;var g=this._check,p=B.getClassName(Mt),m=g,v=r(this,this.collideCircle);null!=vo[p]?m.setReserved(p,v):m.h[p]=v;var x=this._check,y=B.getClassName(kt),w=x,b=r(this,this.collidePolygon);null!=vo[y]?w.setReserved(y,b):w.h[y]=b,this.origin=null!=e?e:new V,this._angle=0,this.updateAxes()};a["com.haxepunk.masks.Polygon"]=kt,kt.__name__=["com","haxepunk","masks","Polygon"],kt.createPolygon=function(t,e,n){if(null==n&&(n=0),null==e&&(e=100),null==t&&(t=3),t<3)throw new Ee("The polygon needs at least 3 sides.");for(var i=2*Math.PI/t,r=[],a=0,s=t;a<s;){var l=a++,o=Math.PI+l*i,h=new V(0,0);h.x=Math.cos(o)*e+e,h.y=Math.sin(o)*e+e,r.push(h)}var _=new kt(r);return _.origin.x=e,_.origin.y=e,_.set_angle(n),_},kt.createFromArray=function(t){for(var e=[],n=0;n<t.length;){var i=new V(t[n++],t[n++]);e.push(i)}return new kt(e)},kt.__super__=Y,kt.prototype=n(Y.prototype,{origin:null,minX:null,minY:null,maxX:null,maxY:null,collideMask:function(t){var e,n=this._parent,i=t._parent,r=(n.followCamera?n.x+Z.camera.x:n.x)+this._x-(i.followCamera?i.x+Z.camera.x:i.x),a=this._parent,s=t._parent,l=(a.followCamera?a.y+Z.camera.y:a.y)+this._y-(s.followCamera?s.y+Z.camera.y:s.y);this.project(kt.vertical,kt.firstProj),t.project(kt.vertical,kt.secondProj),kt.firstProj.min+=l,kt.firstProj.max+=l;var o=kt.firstProj,h=kt.secondProj;if(o.min>h.max||o.max<h.min)return!1;this.project(kt.horizontal,kt.firstProj),t.project(kt.horizontal,kt.secondProj),kt.firstProj.min+=r,kt.firstProj.max+=r;var _=kt.firstProj,u=kt.secondProj;if(_.min>u.max||_.max<u.min)return!1;for(var c=0,d=this._axes;c<d.length;){var f=d[c];++c,this.project(f,kt.firstProj),t.project(f,kt.secondProj),e=r*f.x+l*f.y,kt.firstProj.min+=e,kt.firstProj.max+=e;var g=kt.firstProj,p=kt.secondProj;if(g.min>p.max||g.max<p.min)return!1}return!0},collideHitbox:function(t){var e,n=this._parent,i=t._parent,r=(n.followCamera?n.x+Z.camera.x:n.x)+this._x-(i.followCamera?i.x+Z.camera.x:i.x),a=this._parent,s=t._parent,l=(a.followCamera?a.y+Z.camera.y:a.y)+this._y-(s.followCamera?s.y+Z.camera.y:s.y);this.project(kt.vertical,kt.firstProj),t.project(kt.vertical,kt.secondProj),kt.firstProj.min+=l,kt.firstProj.max+=l;var o=kt.firstProj,h=kt.secondProj;if(o.min>h.max||o.max<h.min)return!1;this.project(kt.horizontal,kt.firstProj),t.project(kt.horizontal,kt.secondProj),kt.firstProj.min+=r,kt.firstProj.max+=r;var _=kt.firstProj,u=kt.secondProj;if(_.min>u.max||_.max<u.min)return!1;for(var c=0,d=this._axes;c<d.length;){var f=d[c];++c,this.project(f,kt.firstProj),t.project(f,kt.secondProj),e=r*f.x+l*f.y,kt.firstProj.min+=e,kt.firstProj.max+=e;var g=kt.firstProj,p=kt.secondProj;if(g.min>p.max||g.max<p.min)return!1}return!0},collideGrid:function(t){var e=0|t._tile.width,n=0|t._tile.height;this._fakeEntity.width=e,this._fakeEntity.height=n;var i=this._parent;this._fakeEntity.x=i.followCamera?i.x+Z.camera.x:i.x;var r=this._parent;this._fakeEntity.y=r.followCamera?r.y+Z.camera.y:r.y,this._fakeEntity.originX=t._parent.originX+t._x,this._fakeEntity.originY=t._parent.originY+t._y,this._fakeTileHitbox._width=e,this._fakeTileHitbox._height=n,this._fakeTileHitbox.set_parent(this._fakeEntity);for(var a=0,s=t.rows;a<s;)for(var l=a++,o=0,h=t.columns;o<h;){var _=o++,u=t._parent;this._fakeEntity.x=(u.followCamera?u.x+Z.camera.x:u.x)+t._x+_*e;var c=t._parent;if(this._fakeEntity.y=(c.followCamera?c.y+Z.camera.y:c.y)+t._y+l*n,t.getTile(_,l)&&this.collideHitbox(this._fakeTileHitbox))return!0}return!1},collideCircle:function(t){var e,n,i,r,a=0,s=this._points.length,l=this._parent,o=(l.followCamera?l.x+Z.camera.x:l.x)+this._x,h=this._parent,_=(h.followCamera?h.y+Z.camera.y:h.y)+this._y;for(i=0,r=s-1;i<s;){e=this._points[i],n=this._points[r];var u,c=t._parent,d=(n.x-e.x)*(t._y+(c.followCamera?c.y+Z.camera.y:c.y)-e.y-_)/(n.y-e.y)+e.x+o,f=t._parent,g=t._parent;if(e.y+_>t._y+(f.followCamera?f.y+Z.camera.y:f.y)!=n.y+_>t._y+(g.followCamera?g.y+Z.camera.y:g.y)){var p=t._parent;u=t._x+(p.followCamera?p.x+Z.camera.x:p.x)<d}else u=!1;u&&++a,r=i,++i}if((1&a)>0)return!0;var m,v,x=t._radius*t._radius,y=t._parent,w=t._x+(y.followCamera?y.x+Z.camera.x:y.x),b=t._parent,T=t._y+(b.followCamera?b.y+Z.camera.y:b.y);for(i=0,r=s-1;i<s;){e=this._points[i],n=this._points[r];var E=(e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y),R=((w-e.x-o)*(n.x-e.x)+(T-e.y-_)*(n.y-e.y))/E;if(R<0?(m=e.x,v=e.y):R>1?(m=n.x,v=n.y):(m=e.x+R*(n.x-e.x),v=e.y+R*(n.y-e.y)),m+=o,v+=_,(w-m)*(w-m)+(T-v)*(T-v)<=x)return!0;r=i,++i}return!1},collidePolygon:function(t){for(var e,n=this._parent,i=t._parent,r=(n.followCamera?n.x+Z.camera.x:n.x)+this._x-(i.followCamera?i.x+Z.camera.x:i.x)-t._x,a=this._parent,s=t._parent,l=(a.followCamera?a.y+Z.camera.y:a.y)+this._y-(s.followCamera?s.y+Z.camera.y:s.y)-t._y,o=0,h=this._axes;o<h.length;){var _=h[o];++o,this.project(_,kt.firstProj),t.project(_,kt.secondProj),e=r*_.x+l*_.y,kt.firstProj.min+=e,kt.firstProj.max+=e;var u=kt.firstProj,c=kt.secondProj;if(u.min>c.max||u.max<c.min)return!1}for(var d=0,f=t._axes;d<f.length;){var g=f[d];++d,this.project(g,kt.firstProj),t.project(g,kt.secondProj),e=r*g.x+l*g.y,kt.firstProj.min+=e,kt.firstProj.max+=e;var p=kt.firstProj,m=kt.secondProj;if(p.min>m.max||p.max<m.min)return!1}return!0},project:function(t,e){for(var n=this._points[0],i=t.x*n.x+t.y*n.y,r=i,a=1,s=this._points.length;a<s;){var l=a++;n=this._points[l];var o=t.x*n.x+t.y*n.y;o<i?i=o:o>r&&(r=o)}e.min=i,e.max=r},debugDraw:function(t,e,n){var i=this._parent,r=(i.followCamera?i.x+Z.camera.x:i.x)+this._x-Z.camera.x,a=this._parent,s=(a.followCamera?a.y+Z.camera.y:a.y)+this._y-Z.camera.y;t.beginFill(255,.3),t.moveTo((this._points[this._points.length-1].x+r)*e,(this._points[this._points.length-1].y+s)*n);for(var l=0,o=this._points.length;l<o;){var h=l++;t.lineTo((this._points[h].x+r)*e,(this._points[h].y+s)*n)}t.endFill(),t.drawCircle((r+this.origin.x)*e,(s+this.origin.y)*n,2)},get_angle:function(){return this._angle},set_angle:function(t){return t!=this._angle&&(this.rotate(t-this._angle),null==this.list&&null==(this._parent!=Q._EMPTY?this._parent:null)||this.update()),t},get_points:function(){return this._points},set_points:function(t){return this._points!=t&&(this._points=t,null==this.list&&null==(this._parent!=Q._EMPTY?this._parent:null)||this.updateAxes()),t},update:function(){this.project(kt.horizontal,kt.firstProj);var t=Math.round(kt.firstProj.min);this._width=Math.round(kt.firstProj.max-kt.firstProj.min),this.project(kt.vertical,kt.secondProj);var e=Math.round(kt.secondProj.min);this._height=Math.round(kt.secondProj.max-kt.secondProj.min),this.minX=this._x+t,this.minY=this._y+e,this.maxX=Math.round(this.minX+this._width),this.maxY=Math.round(this.minY+this._height),null!=this.list?this.list.update():null!=(this._parent!=Q._EMPTY?this._parent:null)&&(this._parent.originX=-this._x-t,this._parent.originY=-this._y-e,this._parent.width=this._width,this._parent.height=this._height)},rotate:function(t){this._angle+=t,t*=Math.PI/-180;for(var e,n=0,i=this._points.length;n<i;){var r=n++,a=(e=this._points[r]).x-this.origin.x,s=e.y-this.origin.y,l=Math.atan2(s,a),o=Math.sqrt(a*a+s*s);e.x=Math.cos(l+t)*o+this.origin.x,e.y=Math.sin(l+t)*o+this.origin.y}for(var h=0,_=this._axes;h<_.length;){var u=_[h];++h;var c=Math.atan2(u.y,u.x);u.x=Math.cos(c+t),u.y=Math.sin(c+t)}},generateAxes:function(){this._axes=[];var t,e,n,i,r=this._points.length;for(n=0,i=r-1;n<r;)(e=new V(0,0)).x=this._points[n].x-this._points[i].x,e.y=this._points[n].y-this._points[i].y,t=e.y,e.y=-e.x,e.x=t,Ft.normalize(e,1),this._axes.push(e),i=n,++n},removeDuplicateAxes:function(){for(var t=this._axes.length-1,e=t-1;t>0;)(Math.abs(this._axes[t].x-this._axes[e].x)<kt.EPSILON&&Math.abs(this._axes[t].y-this._axes[e].y)<kt.EPSILON||Math.abs(this._axes[e].x+this._axes[t].x)<kt.EPSILON&&Math.abs(this._axes[t].y+this._axes[e].y)<kt.EPSILON)&&(this._axes.splice(t,1),--t),--e<0&&(e=--t-1)},updateAxes:function(){this.generateAxes(),this.removeDuplicateAxes(),this.update()},_angle:null,_points:null,_axes:null,_fakeEntity:null,_fakeTileHitbox:null,__class__:kt,__properties__:n(Y.prototype.__properties__,{set_points:"set_points",get_points:"get_points",set_angle:"set_angle",get_angle:"get_angle"})});var Bt=a["com.haxepunk.masks.TileType"]={__ename__:!0,__constructs__:["Empty","Solid","AboveSlope","BelowSlope","TopLeft","TopRight","BottomLeft","BottomRight"]};Bt.Empty=["Empty",0],Bt.Empty.toString=s,Bt.Empty.__enum__=Bt,Bt.Solid=["Solid",1],Bt.Solid.toString=s,Bt.Solid.__enum__=Bt,Bt.AboveSlope=["AboveSlope",2],Bt.AboveSlope.toString=s,Bt.AboveSlope.__enum__=Bt,Bt.BelowSlope=["BelowSlope",3],Bt.BelowSlope.toString=s,Bt.BelowSlope.__enum__=Bt,Bt.TopLeft=["TopLeft",4],Bt.TopLeft.toString=s,Bt.TopLeft.__enum__=Bt,Bt.TopRight=["TopRight",5],Bt.TopRight.toString=s,Bt.TopRight.__enum__=Bt,Bt.BottomLeft=["BottomLeft",6],Bt.BottomLeft.toString=s,Bt.BottomLeft.__enum__=Bt,Bt.BottomRight=["BottomRight",7],Bt.BottomRight.toString=s,Bt.BottomRight.__enum__=Bt;var Ot=function(t,e,n,i,a,s){if(null==s&&(s=0),null==a&&(a=0),Y.call(this),0==t||0==e||0==n||0==i)throw new Ee("Illegal Grid, sizes cannot be 0.");this._rect=Z.rect,this._point=Z.point,this._point2=Z.point2,this.columns=t/n|0,this.rows=e/i|0,this._tile=new z(0,0,n,i),this._x=a,this._y=s,this._width=t,this._height=e,this.usePositions=!1;var l=this._check,o=B.getClassName(G),h=l,_=r(this,this.collideMask);null!=vo[o]?h.setReserved(o,_):h.h[o]=_;var u=this._check,c=B.getClassName(Y),d=u,f=r(this,this.collideHitbox);null!=vo[c]?d.setReserved(c,f):d.h[c]=f,this.data=[];for(var g=0,p=this.rows;g<p;){g++;this.data.push([])}};a["com.haxepunk.masks.SlopedGrid"]=Ot,Ot.__name__=["com","haxepunk","masks","SlopedGrid"],Ot.__super__=Y,Ot.prototype=n(Y.prototype,{usePositions:null,collidePoint:function(t,e){var n,i=this._parent,r=this._x+(i.followCamera?i.x+Z.camera.x:i.x),a=this._parent,s=this._y+(a.followCamera?a.y+Z.camera.y:a.y),l=(t-r)/this._tile.width|0,o=(e-s)/this._tile.height|0,h=r+l*this._tile.width,_=s+o*this._tile.height,u=l,c=o;if(u>=0&&u<this.columns&&c>=0&&c<this.rows?(this.usePositions&&(u=u/this._tile.width|0,c=c/this._tile.height|0),n=this.data[c][u]):n=Ot._emptyTile,null!=n){if(n.type==Bt.Solid)return!0;if(n.type==Bt.AboveSlope||n.type==Bt.BelowSlope){var d=_;d+=n.yOffset;var f=n.slope*this._tile.width,g=(h+f/n.slope-h)*(e-d)>(d+f-d)*(t-h);if(n.type==Bt.AboveSlope&&!g||n.type==Bt.BelowSlope&&g)return!0}}return!1},collidePointInSlope:function(t,e,n,i,r){e+=r.yOffset;var a=r.slope*this._tile.width,s=(t+a/r.slope-t)*(i-e)>(e+a-e)*(n-t);return r.type==Bt.AboveSlope&&!s||r.type==Bt.BelowSlope&&s},setTile:function(t,e,n,i,r){if(null==r&&(r=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),t>=0&&t<this.columns&&e>=0&&e<this.rows)if(null==n&&(n=Bt.Solid),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),null==n)this.data[e][t]={type:n,slope:i,yOffset:r*this._tile.height};else switch(n[1]){case 4:this.data[e][t]={type:Bt.AboveSlope,slope:-1,yOffset:this._tile.height};break;case 5:this.data[e][t]={type:Bt.AboveSlope,slope:1,yOffset:0};break;case 6:this.data[e][t]={type:Bt.BelowSlope,slope:1,yOffset:0};break;case 7:this.data[e][t]={type:Bt.BelowSlope,slope:-1,yOffset:this._tile.height};break;default:this.data[e][t]={type:n,slope:i,yOffset:r*this._tile.height}}},clearTile:function(t,e){null==e&&(e=0),null==t&&(t=0),this.setTile(t,e,Bt.Empty)},checkTile:function(t,e){return t>=0&&t<this.columns&&e>=0&&e<this.rows},getTile:function(t,e){return null==e&&(e=0),null==t&&(t=0),t>=0&&t<this.columns&&e>=0&&e<this.rows?(this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this.data[e][t]):Ot._emptyTile},setRect:function(t,e,n,i,r,a,s){null==s&&(s=0),null==a&&(a=0),null==i&&(i=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),null==r&&(r=Bt.Solid),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0,n=n/this._tile.width|0,i=i/this._tile.height|0);for(var l=e,o=e+i;l<o;)for(var h=l++,_=t,u=t+n;_<u;){var c=_++;this.setTile(c,h,r,a,s)}},clearRect:function(t,e,n,i){null==i&&(i=1),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),this.setRect(t,e,n,i,Bt.Empty)},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},columns:null,rows:null,data:null,collideBox:function(t,e,n,i,r,a){this._rect.x=t-r,this._rect.y=e-a;for(var s=this._rect.x/this._tile.width|0,l=this._rect.y/this._tile.height|0,o=1+((this._rect.x+n-1)/this._tile.width|0),h=1+((this._rect.y+i-1)/this._tile.height|0),_=a+l*this._tile.height,u=l,c=h;u<c;){for(var d=u++,f=r+s*this._tile.width,g=s,p=o;g<p;){var m,v=g++,x=d;if(v>=0&&v<this.columns&&x>=0&&x<this.rows?(this.usePositions&&(v=v/this._tile.width|0,x=x/this._tile.height|0),m=this.data[x][v]):m=Ot._emptyTile,null!=m){switch(m.type[1]){case 1:return!0;case 2:var y=t,w=e;m.slope>0&&(y+=n),y=Z.clamp(y,f,f+(0|this._tile.width)),w=Z.clamp(w,_,_+(0|this._tile.height));var b=_;b+=m.yOffset;var T=m.slope*this._tile.width,E=(f+T/m.slope-f)*(w-b)>(b+T-b)*(y-f);if(m.type==Bt.AboveSlope&&!E||m.type==Bt.BelowSlope&&E)return!0;break;case 3:var R=t,A=e+i;m.slope<0&&(R+=n),R=Z.clamp(R,f,f+(0|this._tile.width)),A=Z.clamp(A,_,_+(0|this._tile.height));var I=_;I+=m.yOffset;var S=m.slope*this._tile.width,C=(f+S/m.slope-f)*(A-I)>(I+S-I)*(R-f);if(m.type==Bt.AboveSlope&&!C||m.type==Bt.BelowSlope&&C)return!0}f+=this._tile.width}}_+=this._tile.height}return!1},collideMask:function(t){var e=this._parent,n=(this._x,e.followCamera?(e.x,Z.camera.x):e.x,this._parent),i=(this._y,n.followCamera?(n.y,Z.camera.y):n.y,t._parent),r=t._parent,a=this._parent,s=this._parent;return this.collideBox((i.followCamera?i.x+Z.camera.x:i.x)-t._parent.originX,(r.followCamera?r.y+Z.camera.y:r.y)-t._parent.originY,t._parent.width,t._parent.height,(a.followCamera?a.x+Z.camera.x:a.x)+this._parent.originX,(s.followCamera?s.y+Z.camera.y:s.y)+this._parent.originY)},collideHitbox:function(t){var e=this._parent,n=this._x+(e.followCamera?e.x+Z.camera.x:e.x),i=this._parent,r=this._y+(i.followCamera?i.y+Z.camera.y:i.y),a=t._parent,s=t._x+(a.followCamera?a.x+Z.camera.x:a.x),l=t._parent,o=t._y+(l.followCamera?l.y+Z.camera.y:l.y);return this.collideBox(s,o,t._width,t._height,n,r)},debugDraw:function(t,e,n){var i,r,a=(0|this._tile.width)*e,s=(0|this._tile.height)*n,l=this._parent,o=this._x+(l.followCamera?l.x+Z.camera.x:l.x)-Z.camera.x,h=this._parent,_=this._y+(h.followCamera?h.y+Z.camera.y:h.y)-Z.camera.y,u=Math.floor(-o/(0|this._tile.width)),c=Math.floor(-_/(0|this._tile.height)),d=u+1+Math.ceil(Z.width/(0|this._tile.width)),f=c+1+Math.ceil(Z.height/(0|this._tile.height));if(!(u>this.columns||c>this.rows||d<0||f<0)){u<0&&(u=0),d>this.columns&&(d=this.columns),c<0&&(c=0),f>this.rows&&(f=this.rows),o=(o+u*(0|this._tile.width))*e;var g;r=_=(_+c*(0|this._tile.height))*n;for(var p=c,m=f;p<m;){var v=p++;i=o,g=this.data[v];for(var x=u,y=d;x<y;){var w=x++,b=g[w];if(null!=b&&null!=b.type)if(b.type==Bt.Solid)t.lineStyle(1,16777215,.3),t.drawRect(i,r,a,s),w<this.columns-1&&g[w+1].type==Bt.Empty&&(t.lineStyle(1,255),t.moveTo(i+a,r),t.lineTo(i+a,r+s)),w>0&&g[w-1].type==Bt.Empty&&(t.lineStyle(1,255),t.moveTo(i,r),t.lineTo(i,r+s)),v<this.rows-1&&this.data[v+1][w].type==Bt.Empty&&(t.lineStyle(1,255),t.moveTo(i,r+s),t.lineTo(i+a,r+s)),v>0&&this.data[v-1][w].type==Bt.Empty&&(t.lineStyle(1,255),t.moveTo(i,r),t.lineTo(i+a,r));else if(b.type==Bt.BelowSlope||b.type==Bt.AboveSlope){var T=b.yOffset*n,E=i,R=a,A=r+T,I=b.slope*R;if(T<0){var S=-T/b.slope;R=a-S,E=i+S,A=r,(v<=0||this.data[v-1][w].type==Bt.Solid)&&(t.moveTo(i,A),t.lineTo(E,A))}else if(T>(0|this._tile.height)){var C=-(T-(0|this._tile.width))/b.slope;R=a-C,E=i+C,A=r+s,(v>=this.rows-1||this.data[v+1][w].type==Bt.Solid)&&(t.moveTo(i,A),t.lineTo(E,A))}else if(T+I<0){var M=-T/b.slope;R=M,(v<=0||this.data[v-1][w].type==Bt.Solid)&&(t.moveTo(i+M,r),t.lineTo(i+a,r))}else if(T+I>(0|this._tile.height)){var D=-(T-(0|this._tile.width))/b.slope;R=D,(v>=this.rows-1||this.data[v+1][w].type==Bt.Solid)&&(t.moveTo(i+D,r+s),t.lineTo(i+a,r+s))}I=b.slope*R,t.lineStyle(1,255),t.moveTo(E,A),t.lineTo(E+R,A+I)}i+=a}r+=s}}},_tile:null,_rect:null,_point:null,_point2:null,__class__:Ot,__properties__:n(Y.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var Ft={};a["com.haxepunk.math._Vector.Vector_Impl_"]=Ft,Ft.__name__=["com","haxepunk","math","_Vector","Vector_Impl_"],Ft.__properties__={get_unit:"get_unit",get_angle:"get_angle",get_length:"get_length",get_squareLength:"get_squareLength",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},Ft._new=function(t,e){return null==e&&(e=0),null==t&&(t=0),new V(t,e)},Ft.toPoint=function(t){return t},Ft.fromPoint=function(t){return new V(t.x,t.y)},Ft.get_x=function(t){return t.x},Ft.set_x=function(t,e){return t.x=e},Ft.get_y=function(t){return t.y},Ft.set_y=function(t,e){return t.y=e},Ft.dot=function(t,e){return t.x*e.x+t.y*e.y},Ft.cross=function(t,e){return t.x*e.x-t.y*e.y},Ft.invert=function(t){t.x=-t.x,t.y=-t.y},Ft.rotate=function(t,e){var n=Math.sin(e),i=Math.cos(e);return new V(t.x*i-t.y*n,t.x*n+t.y*i)},Ft.normalize=function(t,e){null==e&&(e=1);var n=Math.sqrt(t.x*t.x+t.y*t.y);0==n?t.x=t.y=0:(t.x=t.x/n*e,t.y=t.y/n*e)},Ft.get_squareLength=function(t){return t.x*t.x+t.y*t.y},Ft.get_length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Ft.get_angle=function(t){return Math.atan2(t.y,t.x)},Ft.get_unit=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return new V(t.x/e,t.y/e)},Ft.add=function(t,e){return new V(t.x+e.x,t.y+e.y)},Ft.sub=function(t,e){return new V(t.x-e.x,t.y-e.y)},Ft.scalar_mult=function(t,e){return new V(t.x*e,t.y*e)},Ft.scalar_divide=function(t,e){return new V(t.x/e,t.y/e)};var Nt=function(t,e,n){null==n&&(n=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=n,this.eventPhase=2};a["openfl.events.Event"]=Nt,Nt.__name__=["openfl","events","Event"],Nt.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,clone:function(){var t=new Nt(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},formatToString:function(t,e,n,i,a,s){var l=[];return null!=e&&l.push(e),null!=n&&l.push(n),null!=i&&l.push(i),null!=a&&l.push(a),null!=s&&l.push(s),r(this,this.__formatToString).apply(this,[t,l])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){for(var n="["+t,i=null,r=0;r<e.length;){var a=e[r];++r,n+="string"==typeof(i=D.field(this,a))?" "+a+'="'+P.string(i)+'"':" "+a+"="+P.string(i)}return n+="]"},__class__:Nt};var Ut=function(t,e,n){Nt.call(this,t,e,n)};a["com.haxepunk.tweens.TweenEvent"]=Ut,Ut.__name__=["com","haxepunk","tweens","TweenEvent"],Ut.__super__=Nt,Ut.prototype=n(Nt.prototype,{__class__:Ut});var Gt=function(t,e,n){ot.call(this,t,n,e,null)};a["com.haxepunk.tweens.misc.Alarm"]=Gt,Gt.__name__=["com","haxepunk","tweens","misc","Alarm"],Gt.__super__=ot,Gt.prototype=n(ot.prototype,{reset:function(t){this._target=t,this.start()},get_elapsed:function(){return this._time},get_duration:function(){return this._target},get_remaining:function(){return this._target-this._time},__class__:Gt,__properties__:n(ot.prototype.__properties__,{get_remaining:"get_remaining",get_duration:"get_duration",get_elapsed:"get_elapsed"})});var Xt=function(t,e){this._vars=[],this._start=[],this._range=[],ot.call(this,0,e,t)};a["com.haxepunk.tweens.misc.MultiVarTween"]=Xt,Xt.__name__=["com","haxepunk","tweens","misc","MultiVarTween"],Xt.__super__=ot,Xt.prototype=n(ot.prototype,{tween:function(t,e,n,i){this._object=t,this._vars.length=0,this._start.length=0,this._range.length=0,this._target=n,this._ease=i;var r=null;if(!D.isObject(e))throw new Ee("Unsupported MultiVar properties container - use Object containing key/value pairs.");r=D.fields(e);for(var a=0;a<r.length;){var s=r[a];++a;var l=D.getProperty(t,s);if(isNaN(l))throw new Ee('The property "'+s+'" is not numeric.');this._vars.push(s),this._start.push(l),this._range.push(D.field(e,s)-l)}this.start()},update:function(){ot.prototype.update.call(this);for(var t=this._vars.length;t-- >0;)D.setProperty(this._object,this._vars[t],this._start[t]+this._range[t]*this._t)},_object:null,_vars:null,_start:null,_range:null,__class__:Xt});var Yt=function(){};a["com.haxepunk.utils.Draw"]=Yt,Yt.__name__=["com","haxepunk","utils","Draw"],Yt.blend=null,Yt.init=function(){if(Z.renderMode==it.HARDWARE){var t=new f;Z.stage.addChild(t),Yt._graphics=t.get_graphics()}else Yt._graphics=Z.sprite.get_graphics();Yt._rect=Z.rect},Yt.setTarget=function(t,e,n){Yt._target=t,Yt._camera=null!=e?e:Z.zero,Yt.blend=n},Yt.resetTarget=function(){Yt._target=Z.buffer,Yt._camera=Z.camera,Yt.blend=null,Yt._graphics.clear()},Yt.drawToScreen=function(){null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)},Yt.line=function(t,e,n,i,r){if(null==r&&(r=16777215),Z.renderMode==it.BUFFER){r=-16777216|16777215&r;var a,s,l=Yt._target,o=Math.abs(n-t),h=Math.abs(i-e);if(t-=0|Yt._camera.x,e-=0|Yt._camera.y,n-=0|Yt._camera.x,i-=0|Yt._camera.y,0==o){if(0==h)return void l.setPixel32(t,e,r);for(s=i>e?1:-1;e!=i;)l.setPixel32(t,e,r),e+=s;return void l.setPixel32(n,i,r)}if(0==h){for(a=n>t?1:-1;t!=n;)l.setPixel32(t,e,r),t+=a;return void l.setPixel32(n,i,r)}a=n>t?1:-1,s=i>e?1:-1;var _,u=0;if(o>h){for(_=h/o,u=.5;t!=n;)l.setPixel32(t,e,r),t+=a,(u+=_)>=1&&(e+=s,--u);l.setPixel32(n,i,r)}else{for(_=o/h,u=.5;e!=i;)l.setPixel32(t,e,r),e+=s,(u+=_)>=1&&(t+=a,--u);l.setPixel32(n,i,r)}}else Yt.linePlus(t,e,n,i,r)},Yt.linePlus=function(t,e,n,i,r,a,s){null==s&&(s=1),null==a&&(a=1),null==r&&(r=-16777216),Z.renderMode==it.BUFFER?(Yt._graphics.clear(),Yt._graphics.lineStyle(s,r,a,!1,1),Yt._graphics.moveTo(t-Yt._camera.x,e-Yt._camera.y),Yt._graphics.lineTo(n-Yt._camera.x,i-Yt._camera.y),null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)):(Yt._graphics.lineStyle(s,r,a,!1,1),Yt._graphics.moveTo(t-Yt._camera.x,e-Yt._camera.y),Yt._graphics.lineTo(n-Yt._camera.x,i-Yt._camera.y),Yt._graphics.lineStyle(0))},Yt.rect=function(t,e,n,i,r,a){if(null==a&&(a=1),null==r&&(r=16777215),Z.renderMode==it.BUFFER){if(a>=1&&null==Yt.blend)return r=-16777216|16777215&r,Yt._rect.x=t-Yt._camera.x,Yt._rect.y=e-Yt._camera.y,Yt._rect.width=n,Yt._rect.height=i,void Yt._target.fillRect(Yt._rect,r);Yt._graphics.clear(),Yt._graphics.beginFill(r,a),Yt._graphics.drawRect(t-Yt._camera.x,e-Yt._camera.y,n,i),null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)}else Yt._graphics.beginFill(r,a),Yt._graphics.drawRect(t-Yt._camera.x,e-Yt._camera.y,n,i),Yt._graphics.endFill()},Yt.rectPlus=function(t,e,n,i,r,a,s,l){null==l&&(l=1),null==s&&(s=!0),null==a&&(a=1),null==r&&(r=16777215),r&=16777215,Z.renderMode==it.BUFFER&&Yt._graphics.clear(),s?Yt._graphics.beginFill(r,a):Yt._graphics.lineStyle(l,r,a),Yt._graphics.drawRect(t-Yt._camera.x,e-Yt._camera.y,n,i),Yt._graphics.endFill(),Z.renderMode==it.BUFFER?null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend):Yt._graphics.lineStyle(0)},Yt.circle=function(t,e,n,i){if(null==i&&(i=16777215),Z.renderMode==it.BUFFER){i=-16777216|16777215&i,t-=0|Yt._camera.x,e-=0|Yt._camera.y;var r=1-n,a=1,s=-2*n,l=0,o=n;for(Yt._target.setPixel32(t,e+n,i),Yt._target.setPixel32(t,e-n,i),Yt._target.setPixel32(t+n,e,i),Yt._target.setPixel32(t-n,e,i);l<o;)r>=0&&(--o,r+=s+=2),++l,r+=a+=2,Yt._target.setPixel32(t+l,e+o,i),Yt._target.setPixel32(t-l,e+o,i),Yt._target.setPixel32(t+l,e-o,i),Yt._target.setPixel32(t-l,e-o,i),Yt._target.setPixel32(t+o,e+l,i),Yt._target.setPixel32(t-o,e+l,i),Yt._target.setPixel32(t+o,e-l,i),Yt._target.setPixel32(t-o,e-l,i)}else Yt.circlePlus(t,e,n,i,1,!1)},Yt.circlePlus=function(t,e,n,i,r,a,s){null==s&&(s=1),null==a&&(a=!0),null==r&&(r=1),null==i&&(i=16777215),Z.renderMode==it.BUFFER?(Yt._graphics.clear(),a?(Yt._graphics.beginFill(16777215&i,r),Yt._graphics.drawCircle(t-Yt._camera.x,e-Yt._camera.y,n),Yt._graphics.endFill()):(Yt._graphics.lineStyle(s,16777215&i,r),Yt._graphics.drawCircle(t-Yt._camera.x,e-Yt._camera.y,n)),null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)):a?(Yt._graphics.beginFill(16777215&i,r),Yt._graphics.drawCircle(t-Yt._camera.x,e-Yt._camera.y,n),Yt._graphics.endFill()):(Yt._graphics.lineStyle(s,16777215&i,r),Yt._graphics.drawCircle(t-Yt._camera.x,e-Yt._camera.y,n),Yt._graphics.lineStyle(0))},Yt.hitbox=function(t,e,n,i){if(null==i&&(i=1),null==n&&(n=16777215),null==e&&(e=!0),Z.renderMode==it.BUFFER){if(e){n=-16777216|16777215&n;var r=(t.followCamera?t.x+Z.camera.x:t.x)-t.originX-Yt._camera.x|0,a=(t.followCamera?t.y+Z.camera.y:t.y)-t.originY-Yt._camera.y|0;return Yt._rect.x=r,Yt._rect.y=a,Yt._rect.width=t.width,Yt._rect.height=1,Yt._target.fillRect(Yt._rect,n),Yt._rect.y+=t.height-1,Yt._target.fillRect(Yt._rect,n),Yt._rect.y=a,Yt._rect.width=1,Yt._rect.height=t.height,Yt._target.fillRect(Yt._rect,n),Yt._rect.x+=t.width-1,void Yt._target.fillRect(Yt._rect,n)}if(i>=1&&null==Yt.blend)return n=-16777216|16777215&n,Yt._rect.x=(t.followCamera?t.x+Z.camera.x:t.x)-t.originX-Yt._camera.x,Yt._rect.y=(t.followCamera?t.y+Z.camera.y:t.y)-t.originY-Yt._camera.y,Yt._rect.width=t.width,Yt._rect.height=t.height,void Yt._target.fillRect(Yt._rect,n);Yt._graphics.clear(),Yt._graphics.beginFill(n,i),Yt._graphics.drawRect((t.followCamera?t.x+Z.camera.x:t.x)-t.originX-Yt._camera.x,(t.followCamera?t.y+Z.camera.y:t.y)-t.originY-Yt._camera.y,t.width,t.height),null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)}else Yt._graphics.beginFill(n,i),Yt._graphics.drawRect((t.followCamera?t.x+Z.camera.x:t.x)-t.originX-Yt._camera.x,(t.followCamera?t.y+Z.camera.y:t.y)-t.originY-Yt._camera.y,t.width,t.height),Yt._graphics.endFill()},Yt.curve=function(t,e,n,i,r,a,s,l,o){null==o&&(o=1),null==l&&(l=0),null==s&&(s=1),Z.renderMode==it.BUFFER?(Yt._graphics.clear(),Yt._graphics.lineStyle(s,l,o),Yt._graphics.moveTo(t-Yt._camera.x,e-Yt._camera.y),Yt._graphics.curveTo(n-Yt._camera.x,i-Yt._camera.y,r-Yt._camera.x,a-Yt._camera.y),null==Yt.blend?Yt._target.draw(Z.sprite):Yt._target.draw(Z.sprite,null,null,Yt.blend)):(Yt._graphics.lineStyle(s,l,o),Yt._graphics.moveTo(t-Yt._camera.x,e-Yt._camera.y),Yt._graphics.curveTo(n-Yt._camera.x,i-Yt._camera.y,r-Yt._camera.x,a-Yt._camera.y),Yt._graphics.lineStyle(0))},Yt.graphic=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),t._visible&&(t.relative?(Z.point.x=e,Z.point.y=n):Z.point.x=Z.point.y=0,Z.point2.x=Z.camera.x,Z.point2.y=Z.camera.y,Z.renderMode==it.BUFFER?t.render(Yt._target,Z.point,Z.point2):t.renderAtlas(i,Z.point,Z.point2))},Yt.entity=function(t,e,n,i){null==i&&(i=!1),null==n&&(n=0),null==e&&(e=0),t.visible&&null!=t._graphic&&(i?Yt.graphic(t._graphic,e+(t.followCamera?t.x+Z.camera.x:t.x)|0,n+(t.followCamera?t.y+Z.camera.y:t.y)|0):Yt.graphic(t._graphic,e,n))},Yt.text=function(t,e,n,i){null==n&&(n=0),null==e&&(e=0),new bt(t,e,n,0,0,i).render(Yt._target,Z.zero,Yt._camera)},Yt._target=null,Yt._camera=null,Yt._graphics=null,Yt._rect=null;var Ht=function(){};a["com.haxepunk.utils.Ease"]=Ht,Ht.__name__=["com","haxepunk","utils","Ease"],Ht.__properties__={get_EL:"get_EL",get_PI2:"get_PI2",get_PI:"get_PI"},Ht.quadIn=function(t){return t*t},Ht.quadOut=function(t){return-t*(t-2)},Ht.quadInOut=function(t){return t<=.5?t*t*2:1- --t*t*2},Ht.cubeIn=function(t){return t*t*t},Ht.cubeOut=function(t){return 1+--t*t*t},Ht.cubeInOut=function(t){return t<=.5?t*t*t*4:1+--t*t*t*4},Ht.quartIn=function(t){return t*t*t*t},Ht.quartOut=function(t){return 1- --t*t*t*t},Ht.quartInOut=function(t){return t<=.5?t*t*t*t*8:(1-(t=2*t-2)*t*t*t)/2+.5},Ht.quintIn=function(t){return t*t*t*t*t},Ht.quintOut=function(t){return--t*t*t*t*t+1},Ht.quintInOut=function(t){return(t*=2)<1?t*t*t*t*t/2:((t-=2)*t*t*t*t+2)/2},Ht.sineIn=function(t){return 1-Math.cos(Ht.get_PI2()*t)},Ht.sineOut=function(t){return Math.sin(Ht.get_PI2()*t)},Ht.sineInOut=function(t){return-Math.cos(Ht.get_PI()*t)/2+.5},Ht.bounceIn=function(t){return(t=1-t)<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75):t<.9090909090909091?1-(7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375):1-(7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375)},Ht.bounceOut=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75:t<.9090909090909091?7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375:7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375},Ht.bounceInOut=function(t){return t<.5?(t=1-2*t)<.36363636363636365?(1-7.5625*t*t)/2:t<.7272727272727273?(1-(7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75))/2:t<.9090909090909091?(1-(7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375))/2:(1-(7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375))/2:(t=2*t-1)<.36363636363636365?7.5625*t*t/2+.5:t<.7272727272727273?(7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75)/2+.5:t<.9090909090909091?(7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375)/2+.5:(7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375)/2+.5},Ht.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},Ht.circOut=function(t){return Math.sqrt(1-(t-1)*(t-1))},Ht.circInOut=function(t){return t<=.5?(Math.sqrt(1-t*t*4)-1)/-2:(Math.sqrt(1-(2*t-2)*(2*t-2))+1)/2},Ht.expoIn=function(t){return Math.pow(2,10*(t-1))},Ht.expoOut=function(t){return 1-Math.pow(2,-10*t)},Ht.expoInOut=function(t){return t<.5?Math.pow(2,10*(2*t-1))/2:(2-Math.pow(2,-10*(2*t-1)))/2},Ht.backIn=function(t){return t*t*(2.70158*t-1.70158)},Ht.backOut=function(t){return 1- --t*t*(-2.70158*t-1.70158)},Ht.backInOut=function(t){return(t*=2)<1?t*t*(2.70158*t-1.70158)/2:(--t,(1- --t*t*(-2.70158*t-1.70158))/2+.5)},Ht.get_PI=function(){return Math.PI},Ht.get_PI2=function(){return Math.PI/2},Ht.get_EL=function(){return 2*Ht.get_PI()/.45};var Vt=function(){this.released=!1,this.pressed=!1,this.active=!1,this.time=0,this.magnitude=0,this.y2=0,this.x2=0,this.y=0,this.x=0,this.reset()};a["com.haxepunk.utils.GestureType"]=Vt,Vt.__name__=["com","haxepunk","utils","GestureType"],Vt.prototype={x:null,y:null,x2:null,y2:null,magnitude:null,time:null,active:null,pressed:null,released:null,reset:function(){this.x=this.y=this.x2=this.y2=this.time=0,this.active=this.pressed=this.released=!1},start:function(t,e){null==e&&(e=0),null==t&&(t=0),this.active=this.pressed=!0,this.x=t,this.y=e,this.x2=this.y2=this.magnitude=0,this.time=0},get_distance:function(){var t=this.x,e=this.y,n=this.x2,i=this.y2;return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},get_velocity:function(){return 0==this.time?0:this.get_distance()/this.time},get_angle:function(){return 0},release:function(){this.released=!0},update:function(){this.pressed?this.pressed=!1:this.released?this.reset():this.active&&(this.time+=Z.elapsed)},__class__:Vt,__properties__:{get_angle:"get_angle",get_velocity:"get_velocity",get_distance:"get_distance"}};var Wt=a["com.haxepunk.utils.GestureMode"]={__ename__:!0,__constructs__:["READY","SINGLE_TOUCH","SINGLE_MOVE","MULTI_TOUCH","MULTI_MOVE","FINISHED"]};Wt.READY=["READY",0],Wt.READY.toString=s,Wt.READY.__enum__=Wt,Wt.SINGLE_TOUCH=["SINGLE_TOUCH",1],Wt.SINGLE_TOUCH.toString=s,Wt.SINGLE_TOUCH.__enum__=Wt,Wt.SINGLE_MOVE=["SINGLE_MOVE",2],Wt.SINGLE_MOVE.toString=s,Wt.SINGLE_MOVE.__enum__=Wt,Wt.MULTI_TOUCH=["MULTI_TOUCH",3],Wt.MULTI_TOUCH.toString=s,Wt.MULTI_TOUCH.__enum__=Wt,Wt.MULTI_MOVE=["MULTI_MOVE",4],Wt.MULTI_MOVE.toString=s,Wt.MULTI_MOVE.__enum__=Wt,Wt.FINISHED=["FINISHED",5],Wt.FINISHED.toString=s,Wt.FINISHED.__enum__=Wt;var zt=function(){};a["com.haxepunk.utils.Gesture"]=zt,zt.__name__=["com","haxepunk","utils","Gesture"],zt.mode=null,zt.enable=function(){zt.enabled=!0,zt.mode=Wt.READY},zt.disable=function(){zt.enabled=!1},zt.getTouch=function(t,e,n){return n>=e.length?null:t.h[e[n]]},zt.check=function(t){return!!zt.gestures.h.hasOwnProperty(t)&&zt.gestures.h[t].active},zt.pressed=function(t){return!!zt.gestures.h.hasOwnProperty(t)&&zt.gestures.h[t].pressed},zt.released=function(t){return!!zt.gestures.h.hasOwnProperty(t)&&zt.gestures.h[t].released},zt.get=function(t){return zt.check(t)?zt.gestures.h[t]:null},zt.start=function(t,e,n){if(null==n&&(n=0),null==e&&(e=0),!zt.gestures.h.hasOwnProperty(t)){var i=zt.gestures,r=new Vt;i.h[t]=r}zt.gestures.h[t].active||zt.gestures.h[t].start(e,n)},zt.finish=function(t){if(!zt.gestures.h.hasOwnProperty(t)){var e=zt.gestures,n=new Vt;e.h[t]=n}zt.gestures.h[t].release()},zt.finishAll=function(){for(var t=zt.gestures.iterator();t.hasNext();){var e=t.next();e.active&&e.release()}},zt.update=function(){for(var t=zt.gestures.iterator();t.hasNext();)t.next().update();for(var e=Jt._touches,n=Jt._touchOrder,i=0,r=0;r<n.length;){var a=n[r];++r,e.h.hasOwnProperty(a)?0!=e.h[a].time&&e.h[a].released||++i:I.remove(n,a)}switch(zt._lastTap>0&&(zt._lastTap=Math.max(0,zt._lastTap-Z.elapsed/zt.doubleTapTime)),zt.mode[1]){case 0:i>0&&(zt.mode=1==i?Wt.SINGLE_TOUCH:Wt.MULTI_TOUCH);break;case 1:if(0==i){zt.mode=Wt.READY;var s=0>=n.length?null:e.h[n[0]],l=s.time<zt.longPressTime?1:3;1==l&&zt._lastTap>0&&(l=2),zt.check(l)||(zt.start(l,s.x,s.y),1==l&&(zt._lastTap=1))}else if(1==i){var o=0>=n.length?null:e.h[n[0]],h=o.startX,_=o.startY,u=o.x,c=o.y;Math.sqrt((u-h)*(u-h)+(c-_)*(c-_))>zt.deadZone?zt.mode=Wt.SINGLE_MOVE:o.time>=zt.longPressTime&&!zt.check(3)&&zt.start(3,o.x,o.y)}else i>1&&(zt.mode=Wt.MULTI_TOUCH);break;case 2:if(0==i)zt.mode=Wt.READY;else{var d=0>=n.length?null:e.h[n[0]],f=d.startX,g=d.startY,p=d.x,m=d.y,v=Math.sqrt((p-f)*(p-f)+(m-g)*(m-g));zt.check(4)||zt.start(4,d.startX,d.startY);var x=zt.get(4);x.x2=d.x,x.y2=d.y,x.magnitude=v}if(i>1){var y=1>=n.length?null:e.h[n[1]];zt.start(6,y.x,y.y)}else zt.check(6)&&zt.finish(6);break;case 3:if(i<2){if(zt.mode=0==i?Wt.READY:Wt.FINISHED,!zt.check(5)){var w=0>=n.length?null:e.h[n[0]],b=1>=n.length?null:e.h[n[1]];if(null!=b){var T=(w.startX-b.startX)/2,E=(w.startY-b.startY)/2;zt.start(6,T,E)}}zt.finishAll()}else{var R=0>=n.length?null:e.h[n[0]],A=1>=n.length?null:e.h[n[1]];if(null!=R&&null!=A){var S=R.startX,C=R.startY,M=R.x,D=R.y,P=Math.sqrt((M-S)*(M-S)+(D-C)*(D-C)),L=A.startX,k=A.startY,B=A.x,O=A.y,F=Math.sqrt((B-L)*(B-L)+(O-k)*(O-k));if(P>zt.deadZone&&F>zt.deadZone){if(!zt.check(5)){var N=(R.startX-A.startX)/2,U=(R.startY-A.startY)/2;zt.start(5,N,U)}var G=R.startX,X=R.startY,Y=A.startX,H=A.startY,V=Math.sqrt((Y-G)*(Y-G)+(H-X)*(H-X)),W=R.x,z=R.y,j=A.x,K=A.y,q=Math.sqrt((j-W)*(j-W)+(K-z)*(K-z));zt.get(5).magnitude=V/q}}}break;default:0==i&&(zt.mode=Wt.READY)}0==i&&zt.finishAll()};var jt=function(){};a["com.haxepunk.utils.HaxelibInfoBuilder"]=jt,jt.__name__=["com","haxepunk","utils","HaxelibInfoBuilder"];var Kt=function(){};a["com.haxepunk.utils.HaxelibInfo"]=Kt,Kt.__name__=["com","haxepunk","utils","HaxelibInfo"];var qt={};a["com.haxepunk.utils._Input.InputType_Impl_"]=qt,qt.__name__=["com","haxepunk","utils","_Input","InputType_Impl_"],qt.__properties__={get_type:"get_type"},qt._new=function(t){return t},qt.get_type=function(t){return t},qt.fromLeft=function(t){return gt.Left(t)},qt.fromRight=function(t){return gt.Right(t)};var Jt=function(){};a["com.haxepunk.utils.Input"]=Jt,Jt.__name__=["com","haxepunk","utils","Input"],Jt.__properties__={get_joysticks:"get_joysticks",get_touchOrder:"get_touchOrder",get_touches:"get_touches",get_mouseFlashY:"get_mouseFlashY",get_mouseFlashX:"get_mouseFlashX",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",get_mouseWheelDelta:"get_mouseWheelDelta"},Jt.lastKey=null,Jt.mouseDown=null,Jt.mouseUp=null,Jt.mousePressed=null,Jt.mouseReleased=null,Jt.mouseWheel=null,Jt.get_mouseWheelDelta=function(){return Jt.mouseWheel?(Jt.mouseWheel=!1,Jt._mouseWheelDelta):0},Jt.get_mouseX=function(){return Z.screen.get_mouseX()},Jt.get_mouseY=function(){return Z.screen.get_mouseY()},Jt.get_mouseFlashX=function(){return Z.stage.get_mouseX()-Z.screen.x|0},Jt.get_mouseFlashY=function(){return Z.stage.get_mouseY()-Z.screen.y|0},Jt.define=function(t,e){var n=Jt._control;null!=vo[t]?n.setReserved(t,e):n.h[t]=e},Jt.check=function(t){var e=t;switch(e[1]){case 0:for(var n=e[2],i=0,r=Jt._control.get(n);i<r.length;){var a=r[i];if(++i,a<0){if(Jt._keyNum>0)return!0}else if(1==Jt._key.get(a))return!0}return!1;case 1:var s=e[2];return s<0?Jt._keyNum>0:Jt._key.get(s)}},Jt.pressed=function(t){var e=t;switch(e[1]){case 0:var n=e[2];if(Jt._control.exists(n))for(var i=0,r=Jt._control.get(n);i<r.length;){var a=r[i];if(++i,a<0?0!=Jt._pressNum:Jt._press.indexOf(a)>=0)return!0}break;case 1:var s=e[2];return s<0?0!=Jt._pressNum:Jt._press.indexOf(s)>=0}return!1},Jt.released=function(t){var e=t;switch(e[1]){case 0:for(var n=e[2],i=0,r=Jt._control.get(n);i<r.length;){var a=r[i];if(++i,a<0?0!=Jt._releaseNum:Jt._release.indexOf(a)>=0)return!0}return!1;case 1:var s=e[2];return s<0?0!=Jt._releaseNum:Jt._release.indexOf(s)>=0}},Jt.touchPoints=function(t){for(var e=Jt._touches.iterator();e.hasNext();)t(e.next())},Jt.get_touches=function(){return Jt._touches},Jt.get_touchOrder=function(){return Jt._touchOrder},Jt.joystick=function(t){var e=Jt._joysticks.h[t];return null==e&&(e=new Qt,Jt._joysticks.h[t]=e),e},Jt.get_joysticks=function(){for(var t=0,e=Jt._joysticks.iterator();e.hasNext();)e.next().get_connected()&&++t;return t},Jt.enable=function(){Jt._enabled||null==Z.stage||(Z.stage.addEventListener("keyDown",Jt.onKeyDown,!1,2),Z.stage.addEventListener("keyUp",Jt.onKeyUp,!1,2),Z.stage.addEventListener("mouseDown",Jt.onMouseDown,!1,2),Z.stage.addEventListener("mouseUp",Jt.onMouseUp,!1,2),Z.stage.addEventListener("mouseWheel",Jt.onMouseWheel,!1,2),Jt.multiTouchSupported=Ll.get_supportsTouchEvents(),Jt.multiTouchSupported&&(Ll.set_inputMode(2),Z.stage.addEventListener("touchBegin",Jt.onTouchBegin),Z.stage.addEventListener("touchMove",Jt.onTouchMove),Z.stage.addEventListener("touchEnd",Jt.onTouchEnd)))},Jt.update=function(){for(;Jt._pressNum>0;)Jt._press[--Jt._pressNum]=-1;for(;Jt._releaseNum>0;)Jt._release[--Jt._releaseNum]=-1;if(Jt.mousePressed&&(Jt.mousePressed=!1),Jt.mouseReleased&&(Jt.mouseReleased=!1),Jt.multiTouchSupported){for(var t=Jt._touches.iterator();t.hasNext();)t.next().update();zt.enabled&&zt.update();for(var e=Jt._touches.iterator();e.hasNext();){var n=e.next();n.released&&0!=n.time&&(Jt._touches.remove(n.id),I.remove(Jt._touchOrder,n.id))}}},Jt.onKeyDown=function(t){var e=Jt.keyCode(t);if(-1!=e){if(Jt.lastKey=e,8==e)Jt.keyString=I.substr(Jt.keyString,0,Jt.keyString.length-1);else if(e>47&&e<58||e>64&&e<91||32==e){Jt.keyString.length>100&&(Jt.keyString=I.substr(Jt.keyString,1,null));var n=String.fromCharCode(e);n=t.shiftKey!=Jt.check(qt.fromRight(20))?n.toUpperCase():n.toLowerCase(),Jt.keyString+=n}Jt._key.h[e]||(Jt._key.h[e]=!0,Jt._keyNum++,Jt._press[Jt._pressNum++]=e)}},Jt.onKeyUp=function(t){var e=Jt.keyCode(t);-1!=e&&Jt._key.h[e]&&(Jt._key.h[e]=!1,Jt._keyNum--,Jt._release[Jt._releaseNum++]=e)},Jt.keyCode=function(t){return t.keyCode},Jt.onMouseDown=function(t){Jt.mouseDown||(Jt.mouseDown=!0,Jt.mouseUp=!1,Jt.mousePressed=!0)},Jt.onMouseUp=function(t){Jt.mouseDown=!1,Jt.mouseUp=!0,Jt.mouseReleased=!0},Jt.onMouseWheel=function(t){Jt.mouseWheel=!0,Jt._mouseWheelDelta=t.delta},Jt.onTouchBegin=function(t){var e=new ie(t.stageX/Z.screen.fullScaleX,t.stageY/Z.screen.fullScaleY,t.touchPointID);Jt._touches.h[t.touchPointID]=e,Jt._touchOrder.push(t.touchPointID)},Jt.onTouchMove=function(t){if(Jt._touches.h.hasOwnProperty(t.touchPointID)){var e=Jt._touches.h[t.touchPointID];e.x=t.stageX/Z.screen.fullScaleX,e.y=t.stageY/Z.screen.fullScaleY}},Jt.onTouchEnd=function(t){Jt._touches.h[t.touchPointID].released=!0};var Zt=a["com.haxepunk.utils.JoyButtonState"]={__ename__:!0,__constructs__:["BUTTON_ON","BUTTON_OFF","BUTTON_PRESSED","BUTTON_RELEASED"]};Zt.BUTTON_ON=["BUTTON_ON",0],Zt.BUTTON_ON.toString=s,Zt.BUTTON_ON.__enum__=Zt,Zt.BUTTON_OFF=["BUTTON_OFF",1],Zt.BUTTON_OFF.toString=s,Zt.BUTTON_OFF.__enum__=Zt,Zt.BUTTON_PRESSED=["BUTTON_PRESSED",2],Zt.BUTTON_PRESSED.toString=s,Zt.BUTTON_PRESSED.__enum__=Zt,Zt.BUTTON_RELEASED=["BUTTON_RELEASED",3],Zt.BUTTON_RELEASED.toString=s,Zt.BUTTON_RELEASED.__enum__=Zt;var Qt=function(){this.buttons=new ce,this.ball=new V(0,0),this.axis=[],this.hat=new V(0,0),this.set_connected(!1),this._timeout=0};a["com.haxepunk.utils.Joystick"]=Qt,Qt.__name__=["com","haxepunk","utils","Joystick"],Qt.prototype={buttons:null,axis:null,hat:null,ball:null,update:function(){this._timeout-=Z.elapsed;for(var t=this.buttons.keys();t.hasNext();){var e=t.next(),n=this.buttons.get(e);if(null!=n)switch(n[1]){case 2:this.buttons.set(e,Zt.BUTTON_ON);break;case 3:this.buttons.set(e,Zt.BUTTON_OFF)}}},pressed:function(t){if(null==t)for(var e=this.buttons.keys();e.hasNext();){var n=e.next();if(this.buttons.h[n]==Zt.BUTTON_PRESSED)return!0}else if(this.buttons.h.hasOwnProperty(t))return this.buttons.h[t]==Zt.BUTTON_PRESSED;return!1},released:function(t){if(null==t)for(var e=this.buttons.keys();e.hasNext();){var n=e.next();if(this.buttons.h[n]==Zt.BUTTON_RELEASED)return!0}else if(this.buttons.h.hasOwnProperty(t))return this.buttons.h[t]==Zt.BUTTON_RELEASED;return!1},check:function(t){if(null==t)for(var e=this.buttons.keys();e.hasNext();){var n=e.next(),i=this.buttons.h[n];if(i!=Zt.BUTTON_OFF&&i!=Zt.BUTTON_RELEASED)return!0}else if(this.buttons.h.hasOwnProperty(t)){var r=this.buttons.h[t];return r!=Zt.BUTTON_OFF&&r!=Zt.BUTTON_RELEASED}return!1},getAxis:function(t){return t<0||t>=this.axis.length?0:Math.abs(this.axis[t])<.15?0:this.axis[t]},get_connected:function(){return this._timeout>0},set_connected:function(t){return this._timeout=t?3:0,t},_timeout:null,__class__:Qt,__properties__:{set_connected:"set_connected",get_connected:"get_connected"}};var $t=function(){};a["com.haxepunk.utils.OUYA_GAMEPAD"]=$t,$t.__name__=["com","haxepunk","utils","OUYA_GAMEPAD"];var te=function(){};a["com.haxepunk.utils.XBOX_GAMEPAD"]=te,te.__name__=["com","haxepunk","utils","XBOX_GAMEPAD"];var ee=function(){};a["com.haxepunk.utils.PS3_GAMEPAD"]=ee,ee.__name__=["com","haxepunk","utils","PS3_GAMEPAD"];var ne=function(){};a["com.haxepunk.utils.Key"]=ne,ne.__name__=["com","haxepunk","utils","Key"],ne.nameOfKey=function(t){if(-1==t)return"";if(t>=65&&t<=90)return String.fromCharCode(t);if(t>=112&&t<=126)return"F"+P.string(t-111);if(t>=96&&t<=105)return"NUMPAD "+P.string(t-96);switch(t){case 8:return"BACKSPACE";case 9:return"TAB";case 13:return"ENTER";case 16:return"SHIFT";case 17:return"CONTROL";case 20:return"CAPS LOCK";case 27:return"ESCAPE";case 32:return"SPACE";case 33:return"PAGE UP";case 34:return"PAGE DOWN";case 35:return"END";case 36:return"HOME";case 37:return"LEFT";case 38:return"UP";case 39:return"RIGHT";case 40:return"DOWN";case 45:return"INSERT";case 46:return"DELETE";case 106:return"NUMPAD MULTIPLY";case 107:return"NUMPAD ADD";case 108:return"NUMPAD ENTER";case 109:return"NUMPAD SUBTRACT";case 110:return"NUMPAD DECIMAL";case 111:return"NUMPAD DIVIDE";case 192:return"~";case 219:return"{";case 221:return"}"}return String.fromCharCode(t)};var ie=function(t,e,n){this.released=!1,this.startX=this.x=t,this.startY=this.y=e,this.id=n,this.time=0};a["com.haxepunk.utils.Touch"]=ie,ie.__name__=["com","haxepunk","utils","Touch"],ie.prototype={id:null,x:null,y:null,startX:null,startY:null,time:null,get_sceneX:function(){return this.x+Z.camera.x},get_sceneY:function(){return this.y+Z.camera.y},get_pressed:function(){return 0==this.time},released:null,update:function(){this.time+=Z.elapsed},__class__:ie,__properties__:{get_pressed:"get_pressed",get_sceneY:"get_sceneY",get_sceneX:"get_sceneX"}};var re=a["haxe.StackItem"]={__ename__:!0,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};re.CFunction=["CFunction",0],re.CFunction.toString=s,re.CFunction.__enum__=re,re.Module=function(t){var e=["Module",1,t];return e.__enum__=re,e.toString=s,e},re.FilePos=function(t,e,n){var i=["FilePos",2,t,e,n];return i.__enum__=re,i.toString=s,i},re.Method=function(t,e){var n=["Method",3,t,e];return n.__enum__=re,n.toString=s,n},re.LocalFunction=function(t){var e=["LocalFunction",4,t];return e.__enum__=re,e.toString=s,e};var ae=function(){};a["haxe.CallStack"]=ae,ae.__name__=["haxe","CallStack"],ae.lastException=null,ae.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var n=[],i=0;i<e.length;){var r=e[i];++i,null!=ae.wrapCallSite&&(r=ae.wrapCallSite(r));var a=null,s=r.getFunctionName();if(null!=s){var l=s.lastIndexOf(".");if(l>=0){var o=I.substr(s,0,l),h=I.substr(s,l+1,null);a=re.Method(o,h)}}n.push(re.FilePos(a,r.getFileName(),r.getLineNumber()))}return n};var n=ae.makeStack(t.stack);return Error.prepareStackTrace=e,n},ae.wrapCallSite=null,ae.callStack=function(){try{throw new Error}catch(e){ae.lastException=e,e instanceof Ee&&(e=e.val);var t=ae.getStack(e);return t.shift(),t}},ae.exceptionStack=function(){return ae.getStack(ae.lastException)},ae.toString=function(t){for(var e=new L,n=0;n<t.length;){var i=t[n];++n,e.b+="\nCalled from ",ae.itemToString(e,i)}return e.b},ae.itemToString=function(t,e){switch(e[1]){case 0:t.b+="a C function";break;case 1:var n=e[2];t.b+="module ",t.b+=null==n?"null":""+n;break;case 2:var i=e[4],r=e[3],a=e[2];null!=a&&(ae.itemToString(t,a),t.b+=" ("),t.b+=null==r?"null":""+r,t.b+=" line ",t.b+=null==i?"null":""+i,null!=a&&(t.b+=")");break;case 3:var s=e[3],l=e[2];t.b+=null==l?"null":""+l,t.b+=".",t.b+=null==s?"null":""+s;break;case 4:var o=e[2];t.b+="local function #",t.b+=null==o?"null":""+o}},ae.makeStack=function(t){if(null==t)return[];if("string"==typeof t){var e=t.split("\n");"Error"==e[0]&&e.shift();for(var n=[],i=new A("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),r=0;r<e.length;){var a=e[r];if(++r,i.match(a)){var s=i.matched(1).split("."),l=s.pop(),o=i.matched(2),h=P.parseInt(i.matched(3));n.push(re.FilePos("Anonymous function"==l?re.LocalFunction():"Global code"==l?null:re.Method(s.join("."),l),o,h))}else n.push(re.Module(k.trim(a)))}return n}return t};var se=function(){};a["haxe.IMap"]=se,se.__name__=["haxe","IMap"],se.prototype={get:null,set:null,exists:null,remove:null,__class__:se};var le=function(t,e){this.high=t,this.low=e};a["haxe._Int64.___Int64"]=le,le.__name__=["haxe","_Int64","___Int64"],le.prototype={high:null,low:null,__class__:le};var oe=function(){};a["haxe.Log"]=oe,oe.__name__=["haxe","Log"],oe.trace=function(t,e){X.__trace(t,e)};var he=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};a["haxe.Timer"]=he,he.__name__=["haxe","Timer"],he.delay=function(t,e){var n=new he(e);return n.run=function(){n.stop(),t()},n},he.measure=function(t,e){var n=he.stamp(),i=t();return oe.trace(he.stamp()-n+"s",e),i},he.stamp=function(){return(new Date).getTime()/1e3},he.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:he};var _e=function(t){for(var e=t.length,n=1;e>1<<n;)++n;if(n>8||e!=1<<n)throw new Ee("BaseCode : base length must be a power of two.");this.base=t,this.nbits=n};a["haxe.crypto.BaseCode"]=_e,_e.__name__=["haxe","crypto","BaseCode"],_e.prototype={base:null,nbits:null,encodeBytes:function(t){for(var e=this.nbits,n=this.base,i=8*t.length/e|0,r=new me(new xo(i+(8*t.length%e==0?0:1))),a=0,s=0,l=(1<<e)-1,o=0,h=0;h<i;){for(;s<e;)s+=8,a<<=8,a|=t.b[o++];s-=e,r.b[h++]=255&n.b[a>>s&l]}return s>0&&(r.b[h++]=255&n.b[a<<e-s&l]),r},__class__:_e};var ue=function(){};a["haxe.crypto.Md5"]=ue,ue.__name__=["haxe","crypto","Md5"],ue.encode=function(t){var e=new ue,n=e.doEncode(ue.str2blks(t));return e.hex(n)},ue.str2blks=function(t){for(var e=me.ofString(t),n=1+(e.length+8>>6),i=[],r=0,a=16*n;r<a;)i[r++]=0;for(var s=0,l=e.length,o=8*l;s<l;)i[s>>2]|=e.b[s]<<(o+s)%4*8,++s;i[s>>2]|=128<<(o+s)%4*8;var h=16*n-2;return i[h]=255&o,i[h]|=(o>>>8&255)<<8,i[h]|=(o>>>16&255)<<16,i[h]|=(o>>>24&255)<<24,i},ue.prototype={bitOR:function(t,e){return(t>>>1|e>>>1)<<1|(1&t|1&e)},bitXOR:function(t,e){return(t>>>1^e>>>1)<<1|1&t^1&e},bitAND:function(t,e){return(t>>>1&e>>>1)<<1|1&t&e},addme:function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},hex:function(t){for(var e="",n=0;n<t.length;){var i=t[n];++n;for(var r=0;r<4;){var a=r++;e+="0123456789abcdef".charAt(i>>8*a+4&15)+"0123456789abcdef".charAt(i>>8*a&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,n,i,r,a){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(i,a)),r),n)},ff:function(t,e,n,i,r,a,s){return this.cmn(this.bitOR(this.bitAND(e,n),this.bitAND(~e,i)),t,e,r,a,s)},gg:function(t,e,n,i,r,a,s){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(n,~i)),t,e,r,a,s)},hh:function(t,e,n,i,r,a,s){return this.cmn(this.bitXOR(this.bitXOR(e,n),i),t,e,r,a,s)},ii:function(t,e,n,i,r,a,s){return this.cmn(this.bitXOR(n,this.bitOR(e,~i)),t,e,r,a,s)},doEncode:function(t){for(var e=1732584193,n=-271733879,i=-1732584194,r=271733878,a=0;a<t.length;){var s=e,l=n,o=i,h=r;0,e=this.ff(e,n,i,r,t[a],7,-680876936),r=this.ff(r,e,n,i,t[a+1],12,-389564586),i=this.ff(i,r,e,n,t[a+2],17,606105819),n=this.ff(n,i,r,e,t[a+3],22,-1044525330),e=this.ff(e,n,i,r,t[a+4],7,-176418897),r=this.ff(r,e,n,i,t[a+5],12,1200080426),i=this.ff(i,r,e,n,t[a+6],17,-1473231341),n=this.ff(n,i,r,e,t[a+7],22,-45705983),e=this.ff(e,n,i,r,t[a+8],7,1770035416),r=this.ff(r,e,n,i,t[a+9],12,-1958414417),i=this.ff(i,r,e,n,t[a+10],17,-42063),n=this.ff(n,i,r,e,t[a+11],22,-1990404162),e=this.ff(e,n,i,r,t[a+12],7,1804603682),r=this.ff(r,e,n,i,t[a+13],12,-40341101),i=this.ff(i,r,e,n,t[a+14],17,-1502002290),n=this.ff(n,i,r,e,t[a+15],22,1236535329),e=this.gg(e,n,i,r,t[a+1],5,-165796510),r=this.gg(r,e,n,i,t[a+6],9,-1069501632),i=this.gg(i,r,e,n,t[a+11],14,643717713),n=this.gg(n,i,r,e,t[a],20,-373897302),e=this.gg(e,n,i,r,t[a+5],5,-701558691),r=this.gg(r,e,n,i,t[a+10],9,38016083),i=this.gg(i,r,e,n,t[a+15],14,-660478335),n=this.gg(n,i,r,e,t[a+4],20,-405537848),e=this.gg(e,n,i,r,t[a+9],5,568446438),r=this.gg(r,e,n,i,t[a+14],9,-1019803690),i=this.gg(i,r,e,n,t[a+3],14,-187363961),n=this.gg(n,i,r,e,t[a+8],20,1163531501),e=this.gg(e,n,i,r,t[a+13],5,-1444681467),r=this.gg(r,e,n,i,t[a+2],9,-51403784),i=this.gg(i,r,e,n,t[a+7],14,1735328473),n=this.gg(n,i,r,e,t[a+12],20,-1926607734),e=this.hh(e,n,i,r,t[a+5],4,-378558),r=this.hh(r,e,n,i,t[a+8],11,-2022574463),i=this.hh(i,r,e,n,t[a+11],16,1839030562),n=this.hh(n,i,r,e,t[a+14],23,-35309556),e=this.hh(e,n,i,r,t[a+1],4,-1530992060),r=this.hh(r,e,n,i,t[a+4],11,1272893353),i=this.hh(i,r,e,n,t[a+7],16,-155497632),n=this.hh(n,i,r,e,t[a+10],23,-1094730640),e=this.hh(e,n,i,r,t[a+13],4,681279174),r=this.hh(r,e,n,i,t[a],11,-358537222),i=this.hh(i,r,e,n,t[a+3],16,-722521979),n=this.hh(n,i,r,e,t[a+6],23,76029189),e=this.hh(e,n,i,r,t[a+9],4,-640364487),r=this.hh(r,e,n,i,t[a+12],11,-421815835),i=this.hh(i,r,e,n,t[a+15],16,530742520),n=this.hh(n,i,r,e,t[a+2],23,-995338651),e=this.ii(e,n,i,r,t[a],6,-198630844),r=this.ii(r,e,n,i,t[a+7],10,1126891415),i=this.ii(i,r,e,n,t[a+14],15,-1416354905),n=this.ii(n,i,r,e,t[a+5],21,-57434055),e=this.ii(e,n,i,r,t[a+12],6,1700485571),r=this.ii(r,e,n,i,t[a+3],10,-1894986606),i=this.ii(i,r,e,n,t[a+10],15,-1051523),n=this.ii(n,i,r,e,t[a+1],21,-2054922799),e=this.ii(e,n,i,r,t[a+8],6,1873313359),r=this.ii(r,e,n,i,t[a+15],10,-30611744),i=this.ii(i,r,e,n,t[a+6],15,-1560198380),n=this.ii(n,i,r,e,t[a+13],21,1309151649),e=this.ii(e,n,i,r,t[a+4],6,-145523070),r=this.ii(r,e,n,i,t[a+11],10,-1120210379),i=this.ii(i,r,e,n,t[a+2],15,718787259),n=this.ii(n,i,r,e,t[a+9],21,-343485551),e=this.addme(e,s),n=this.addme(n,l),i=this.addme(i,o),r=this.addme(r,h),a+=16}return[e,n,i,r]},__class__:ue};var ce=function(){this.h={}};a["haxe.ds.IntMap"]=ce,ce.__name__=["haxe","ds","IntMap"],ce.__interfaces__=[se],ce.prototype={h:null,set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return I.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:ce};var de=function(){this.h={__keys__:{}}};a["haxe.ds.ObjectMap"]=de,de.__name__=["haxe","ds","ObjectMap"],de.__interfaces__=[se],de.prototype={h:null,set:function(t,e){var n=t.__id__||(t.__id__=++de.count);this.h[n]=e,this.h.__keys__[n]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},__class__:de};var fe=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};a["haxe.ds._StringMap.StringMapIterator"]=fe,fe.__name__=["haxe","ds","_StringMap","StringMapIterator"],fe.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var t=this.map,e=this.keys[this.index++];return null!=vo[e]?t.getReserved(e):t.h[e]},__class__:fe};var ge=function(){this.h={}};a["haxe.ds.StringMap"]=ge,ge.__name__=["haxe","ds","StringMap"],ge.__interfaces__=[se],ge.prototype={h:null,rh:null,set:function(t,e){null!=vo[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=vo[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=vo[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=vo[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return I.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:ge};var pe={};a["haxe.ds._Vector.Vector_Impl_"]=pe,pe.__name__=["haxe","ds","_Vector","Vector_Impl_"],pe.blit=function(t,e,n,i,r){if(t==n){if(e<i)for(var a=e+r,s=i+r,l=0,o=r;l<o;){l++;--a,t[--s]=t[a]}else if(e>i)for(var h=e,_=i,u=0,c=r;u<c;){u++;t[_]=t[h],++h,++_}}else for(var d=0,f=r;d<f;){var g=d++;n[i+g]=t[e+g]}};var me=function(t){this.length=t.byteLength,this.b=new bo(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};a["haxe.io.Bytes"]=me,me.__name__=["haxe","io","Bytes"],me.ofString=function(t){for(var e=[],n=0;n<t.length;){var i=t.charCodeAt(n++);55296<=i&&i<=56319&&(i=i-55232<<10|1023&t.charCodeAt(n++)),i<=127?e.push(i):i<=2047?(e.push(192|i>>6),e.push(128|63&i)):i<=65535?(e.push(224|i>>12),e.push(128|i>>6&63),e.push(128|63&i)):(e.push(240|i>>18),e.push(128|i>>12&63),e.push(128|i>>6&63),e.push(128|63&i))}return new me(new bo(e).buffer)},me.ofData=function(t){var e=t.hxBytes;return null!=e?e:new me(t)},me.prototype={length:null,b:null,data:null,blit:function(t,e,n,i){if(t<0||n<0||i<0||t+i>this.length||n+i>e.length)throw new Ee(xe.OutsideBounds);0==n&&i==e.b.byteLength?this.b.set(e.b,t):this.b.set(e.b.subarray(n,n+i),t)},getDouble:function(t){return null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},setInt32:function(t,e){null==this.data&&(this.data=new yo(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new Ee(xe.OutsideBounds);for(var n="",i=this.b,r=String.fromCharCode,a=t,s=t+e;a<s;){var l=i[a++];if(l<128){if(0==l)break;n+=r(l)}else if(l<224)n+=r((63&l)<<6|127&i[a++]);else if(l<240)n+=r((31&l)<<12|(127&i[a++])<<6|127&i[a++]);else{var o=(15&l)<<18|(127&i[a++])<<12|(127&i[a++])<<6|127&i[a++];n+=r(55232+(o>>10)),n+=r(1023&o|56320)}}return n},toString:function(){return this.getString(0,this.length)},__class__:me};var ve=function(){};a["haxe.io.Eof"]=ve,ve.__name__=["haxe","io","Eof"],ve.prototype={toString:function(){return"Eof"},__class__:ve};var xe=a["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};xe.Blocked=["Blocked",0],xe.Blocked.toString=s,xe.Blocked.__enum__=xe,xe.Overflow=["Overflow",1],xe.Overflow.toString=s,xe.Overflow.__enum__=xe,xe.OutsideBounds=["OutsideBounds",2],xe.OutsideBounds.toString=s,xe.OutsideBounds.__enum__=xe,xe.Custom=function(t){var e=["Custom",3,t];return e.__enum__=xe,e.toString=s,e};var ye=function(){};a["haxe.io.FPHelper"]=ye,ye.__name__=["haxe","io","FPHelper"],ye.i32ToFloat=function(t){var e=t>>>23&255,n=8388607&t;return 0==n&&0==e?0:(1-(t>>>31<<1))*(1+Math.pow(2,-23)*n)*Math.pow(2,e-127)},ye.floatToI32=function(t){if(0==t)return 0;var e=t<0?-t:t,n=Math.floor(Math.log(e)/.6931471805599453);n<-127?n=-127:n>128&&(n=128);var i=Math.round(8388608*(e/Math.pow(2,n)-1));return 8388608==i&&n<128&&(i=0,++n),(t<0?-2147483648:0)|n+127<<23|i},ye.i64ToDouble=function(t,e){var n=(e>>20&2047)-1023,i=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==i&&-1023==n?0:(1-(e>>>31<<1))*(1+Math.pow(2,-52)*i)*Math.pow(2,n)},ye.doubleToI64=function(t){var e=ye.i64tmp;if(0==t)e.low=0,e.high=0;else if(isFinite(t)){var n=t<0?-t:t,i=Math.floor(Math.log(n)/.6931471805599453),r=Math.round(4503599627370496*(n/Math.pow(2,i)-1)),a=0|r,s=r/4294967296|0;e.low=a,e.high=(t<0?-2147483648:0)|i+1023<<20|s}else t>0?(e.low=0,e.high=2146435072):(e.low=0,e.high=-1048576);return e};var we=function(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),n=t.lastIndexOf("\\");e<n?(this.dir=I.substr(t,0,n),t=I.substr(t,n+1,null),this.backslash=!0):n<e?(this.dir=I.substr(t,0,e),t=I.substr(t,e+1,null)):this.dir=null;var i=t.lastIndexOf(".");-1!=i?(this.ext=I.substr(t,i+1,null),this.file=I.substr(t,0,i)):(this.ext=null,this.file=t)};a["haxe.io.Path"]=we,we.__name__=["haxe","io","Path"],we.withoutExtension=function(t){var e=new we(t);return e.ext=null,e.toString()},we.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:we};var be=function(t,e,n){this.xml=e,this.message=t,this.position=n,this.lineNumber=1,this.positionAtLine=0;for(var i=0,r=n;i<r;){var a=i++,s=e.charCodeAt(a);10==s?(this.lineNumber++,this.positionAtLine=0):13!=s&&this.positionAtLine++}};a["haxe.xml.XmlParserException"]=be,be.__name__=["haxe","xml","XmlParserException"],be.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return B.getClassName(X.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:be};var Te=function(){};a["haxe.xml.Parser"]=Te,Te.__name__=["haxe","xml","Parser"],Te.parse=function(t,e){null==e&&(e=!1);var n=F.createDocument();return Te.doParse(t,e,0,n),n},Te.doParse=function(t,e,n,i){null==n&&(n=0);for(var r=null,a=1,s=1,l=null,o=0,h=0,_=0,u=t.charCodeAt(n),c=new L,d=1,f=-1;u==u;){switch(a){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:a=s;continue}break;case 1:if(60!=u){o=n,a=13;continue}a=0,s=2;break;case 2:switch(u){case 33:if(91==t.charCodeAt(n+1)){if(n+=2,"CDATA["!=I.substr(t,n,6).toUpperCase())throw new Ee(new be("Expected <![CDATA[",t,n));a=17,o=(n+=5)+1}else if(68==t.charCodeAt(n+1)||100==t.charCodeAt(n+1)){if("OCTYPE"!=I.substr(t,n+2,6).toUpperCase())throw new Ee(new be("Expected <!DOCTYPE",t,n));a=16,o=(n+=8)+1}else{if(45!=t.charCodeAt(n+1)||45!=t.charCodeAt(n+2))throw new Ee(new be("Expected \x3c!--",t,n));a=15,o=(n+=2)+1}break;case 47:if(null==i)throw new Ee(new be("Expected node name",t,n));o=n+1,a=0,s=10;break;case 63:a=14,o=n;break;default:a=3,o=n;continue}break;case 3:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){if(n==o)throw new Ee(new be("Expected node name",t,n));r=F.createElement(I.substr(t,o,n-o)),i.addChild(r),++h,a=0,s=4;continue}break;case 4:switch(u){case 47:a=11;break;case 62:a=9;break;default:a=5,o=n;continue}break;case 5:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){var g;if(o==n)throw new Ee(new be("Expected attribute name",t,n));if(g=I.substr(t,o,n-o),l=g,r.exists(l))throw new Ee(new be("Duplicate attribute ["+l+"]",t,n));a=0,s=6;continue}break;case 6:if(61!=u)throw new Ee(new be("Expected =",t,n));a=0,s=7;break;case 7:switch(u){case 34:case 39:c=new L,a=8,o=n+1,f=u;break;default:throw new Ee(new be('Expected "',t,n))}break;case 8:switch(u){case 38:var p=n-o;c.b+=null==p?I.substr(t,o,null):I.substr(t,o,p),a=18,d=8,o=n+1;break;case 60:case 62:if(e)throw new Ee(new be("Invalid unescaped "+String.fromCharCode(u)+" in attribute value",t,n));if(u==f){var m=n-o;c.b+=null==m?I.substr(t,o,null):I.substr(t,o,m);var v=c.b;c=new L,r.set(l,v),a=0,s=4}break;default:if(u==f){var x=n-o;c.b+=null==x?I.substr(t,o,null):I.substr(t,o,x);var y=c.b;c=new L,r.set(l,y),a=0,s=4}}break;case 9:o=n=Te.doParse(t,e,n,r),a=1;break;case 10:if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)){if(o==n)throw new Ee(new be("Expected node name",t,n));var w=I.substr(t,o,n-o);if(i.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+i.nodeType);if(w!=i.nodeName){if(i.nodeType!=F.Element)throw new Ee("Bad node type, expected Element but found "+i.nodeType);throw new Ee(new be("Expected </"+i.nodeName+">",t,n))}a=0,s=12;continue}break;case 11:if(62!=u)throw new Ee(new be("Expected >",t,n));a=1;break;case 12:if(62==u)return 0==h&&i.addChild(F.createPCData("")),n;throw new Ee(new be("Expected >",t,n));case 13:if(60==u){var b=n-o;c.b+=null==b?I.substr(t,o,null):I.substr(t,o,b);var T=F.createPCData(c.b);c=new L,i.addChild(T),++h,a=0,s=2}else if(38==u){var E=n-o;c.b+=null==E?I.substr(t,o,null):I.substr(t,o,E),a=18,d=13,o=n+1}break;case 14:if(63==u&&62==t.charCodeAt(n+1)){++n;var R=I.substr(t,o+1,n-o-2);i.addChild(F.createProcessingInstruction(R)),++h,a=1}break;case 15:45==u&&45==t.charCodeAt(n+1)&&62==t.charCodeAt(n+2)&&(i.addChild(F.createComment(I.substr(t,o,n-o))),++h,n+=2,a=1);break;case 16:91==u?++_:93==u?--_:62==u&&0==_&&(i.addChild(F.createDocType(I.substr(t,o,n-o))),++h,a=1);break;case 17:if(93==u&&93==t.charCodeAt(n+1)&&62==t.charCodeAt(n+2)){var A=F.createCData(I.substr(t,o,n-o));i.addChild(A),++h,n+=2,a=1}break;case 18:if(59==u){var S=I.substr(t,o,n-o);if(35==S.charCodeAt(0)){var C=P.parseInt(120==S.charCodeAt(1)?"0"+I.substr(S,1,S.length-1):I.substr(S,1,S.length-1));c.b+=String.fromCharCode(C)}else{var M=Te.escapes;if(null!=vo[S]?M.existsReserved(S):M.h.hasOwnProperty(S)){var D=Te.escapes,k=null!=vo[S]?D.getReserved(S):D.h[S];c.b+=P.string(k)}else{if(e)throw new Ee(new be("Undefined entity: "+S,t,n));c.b+=P.string("&"+S+";")}}o=n+1,a=d}else if(!(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(e)throw new Ee(new be("Invalid character in entity: "+String.fromCharCode(u),t,n));c.b+="&";var B=n-o;c.b+=null==B?I.substr(t,o,null):I.substr(t,o,B),o=n--,a=d}}u=t.charCodeAt(++n)}if(1==a&&(o=n,a=13),13==a){if(n!=o||0==h){var O=n-o;c.b+=null==O?I.substr(t,o,null):I.substr(t,o,O),i.addChild(F.createPCData(c.b)),++h}return n}if(!e&&18==a&&13==d){c.b+="&";var N=n-o;return c.b+=null==N?I.substr(t,o,null):I.substr(t,o,N),i.addChild(F.createPCData(c.b)),++h,n}throw new Ee(new be("Unexpected end",t,n))};var Ee=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Ee)};a["js._Boot.HaxeError"]=Ee,Ee.__name__=["js","_Boot","HaxeError"],Ee.wrap=function(t){return t instanceof Error?t:new Ee(t)},Ee.__super__=Error,Ee.prototype=n(Error.prototype,{val:null,__class__:Ee});var Re=function(){};a["js.Browser"]=Re,Re.__name__=["js","Browser"],Re.alert=function(t){window.alert(X.__string_rec(t,""))};var Ae=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var n=0,i=e;n<i;){var r=n++;this.a[r]=0}this.byteLength=e}};a["js.html.compat.ArrayBuffer"]=Ae,Ae.__name__=["js","html","compat","ArrayBuffer"],Ae.sliceImpl=function(t,e){var n=new bo(this,t,null==e?null:e-t),i=new xo(n.byteLength);return new bo(i).set(n),i},Ae.prototype={byteLength:null,a:null,slice:function(t,e){return new Ae(this.a.slice(t,e))},__class__:Ae};var Ie=function(t,e,n){if(this.buf=t,this.offset=null==e?0:e,this.length=null==n?t.byteLength-this.offset:n,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new Ee(xe.OutsideBounds);this.byteLength=this.length,this.byteOffset=this.offset,this.buffer=this.buf};a["js.html.compat.DataView"]=Ie,Ie.__name__=["js","html","compat","DataView"],Ie.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(t){var e=this.buf.a[this.offset+t];return e>=128?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var n=this.getUint16(t,e);return n>=32768?n-65536:n},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var n=this.offset+t,i=this.buf.a[n++],r=this.buf.a[n++],a=this.buf.a[n++],s=this.buf.a[n++];return e?i|r<<8|a<<16|s<<24:s|a<<8|r<<16|i<<24},getUint32:function(t,e){var n=this.getInt32(t,e);return n<0?n+4294967296:n},getFloat32:function(t,e){return ye.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var n=this.getInt32(t,e),i=this.getInt32(t+4,e);return ye.i64ToDouble(e?n:i,e?i:n)},setInt8:function(t,e){this.buf.a[t+this.offset]=e<0?e+128&255:255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,n){this.setUint16(t,e<0?e+65536:e,n)},setUint16:function(t,e,n){var i=t+this.offset;n?(this.buf.a[i]=255&e,this.buf.a[i++]=e>>8&255):(this.buf.a[i++]=e>>8&255,this.buf.a[i]=255&e)},setInt32:function(t,e,n){this.setUint32(t,e,n)},setUint32:function(t,e,n){var i=t+this.offset;n?(this.buf.a[i++]=255&e,this.buf.a[i++]=e>>8&255,this.buf.a[i++]=e>>16&255,this.buf.a[i++]=e>>>24):(this.buf.a[i++]=e>>>24,this.buf.a[i++]=e>>16&255,this.buf.a[i++]=e>>8&255,this.buf.a[i++]=255&e)},setFloat32:function(t,e,n){this.setUint32(t,ye.floatToI32(e),n)},setFloat64:function(t,e,n){var i=ye.doubleToI64(e);n?(this.setUint32(t,i.low),this.setUint32(t,i.high)):(this.setUint32(t,i.high),this.setUint32(t,i.low))},__class__:Ie};var Se=function(){};a["js.html.compat.Float32Array"]=Se,Se.__name__=["js","html","compat","Float32Array"],Se._new=function(t,e,n){var i;if("number"==typeof t){i=[];for(var r=0,a=t;r<a;)i[r++]=0;i.byteLength=i.length<<2,i.byteOffset=0;for(var s=[],l=0,o=i.length<<2;l<o;){l++;s.push(0)}i.buffer=new Ae(s)}else if(X.__instanceof(t,Ae)){var h=t;null==e&&(e=0),null==n&&(n=h.byteLength-e>>2),i=[];for(var _=0,u=n;_<u;){_++;var c=h.a[e++]|h.a[e++]<<8|h.a[e++]<<16|h.a[e++]<<24;i.push(ye.i32ToFloat(c))}i.byteLength=i.length<<2,i.byteOffset=e,i.buffer=h}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ee("TODO "+P.string(t));i=t.slice();for(var d=[],f=0;f<i.length;){var g=i[f];++f;var p=ye.floatToI32(g);d.push(255&p),d.push(p>>8&255),d.push(p>>16&255),d.push(p>>>24)}i.byteLength=i.length<<2,i.byteOffset=0,i.buffer=new Ae(d)}return i.subarray=Se._subarray,i.set=Se._set,i},Se._set=function(t,e){if(X.__instanceof(t.buffer,Ae)){var n=t;if(t.byteLength+e>this.byteLength)throw new Ee("set() outside of range");for(var i=0,r=t.byteLength;i<r;){var a=i++;this[a+e]=n[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ee("TODO");var s=t;if(s.length+e>this.byteLength)throw new Ee("set() outside of range");for(var l=0,o=s.length;l<o;){var h=l++;this[h+e]=s[h]}}},Se._subarray=function(t,e){var n=Se._new(this.slice(t,e));return n.byteOffset=4*t,n};var Ce=function(){};a["js.html.compat.Uint8Array"]=Ce,Ce.__name__=["js","html","compat","Uint8Array"],Ce._new=function(t,e,n){var i;if("number"==typeof t){i=[];for(var r=0,a=t;r<a;)i[r++]=0;i.byteLength=i.length,i.byteOffset=0,i.buffer=new Ae(i)}else if(X.__instanceof(t,Ae)){var s=t;null==e&&(e=0),null==n&&(n=s.byteLength-e),(i=0==e?s.a:s.a.slice(e,e+n)).byteLength=i.length,i.byteOffset=e,i.buffer=s}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ee("TODO "+P.string(t));(i=t.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new Ae(i)}return i.subarray=Ce._subarray,i.set=Ce._set,i},Ce._set=function(t,e){if(X.__instanceof(t.buffer,Ae)){var n=t;if(t.byteLength+e>this.byteLength)throw new Ee("set() outside of range");for(var i=0,r=t.byteLength;i<r;){var a=i++;this[a+e]=n[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Ee("TODO");var s=t;if(s.length+e>this.byteLength)throw new Ee("set() outside of range");for(var l=0,o=s.length;l<o;){var h=l++;this[h+e]=s[h]}}},Ce._subarray=function(t,e){var n=Ce._new(this.slice(t,e));return n.byteOffset=t,n};var Me=function(){this.enabled=!0,this.audio=new ge,this.font=new ge,this.image=new ge,this.version=1e6*Math.random()|0};a["lime.AssetCache"]=Me,Me.__name__=["lime","AssetCache"],Me.prototype={audio:null,enabled:null,image:null,font:null,version:null,clear:function(t){if(null==t)this.audio=new ge,this.font=new ge,this.image=new ge;else{for(var e=this.audio.keys();e.hasNext();){var n=e.next();k.startsWith(n,t)&&this.audio.remove(n)}for(var i=this.font.keys();i.hasNext();){var r=i.next();k.startsWith(r,t)&&this.font.remove(r)}for(var a=this.image.keys();a.hasNext();){var s=a.next();k.startsWith(s,t)&&this.image.remove(s)}}},__class__:Me};var De=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Void_Void"]=De,De.__name__=["lime","app","Event_Void_Void"],De.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,n=0;n<t.length&&(t[n](),e[n]?++n:this.remove(t[n]),!this.canceled););},__class__:De};var Pe=function(){};a["lime.Assets"]=Pe,Pe.__name__=["lime","Assets"],Pe.exists=function(t,e){Pe.initialize(),null==e&&(e="BINARY");var n=t.substring(0,t.indexOf(":")),i=I.substr(t,t.indexOf(":")+1,null),r=Pe.getLibrary(n);return null!=r&&r.exists(i,e)},Pe.getAudioBuffer=function(t,e){null==e&&(e=!0),Pe.initialize();var n;if(e&&Pe.cache.enabled){var i=Pe.cache.audio;n=null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)}else n=!1;if(n){var r=Pe.cache.audio,a=null!=vo[t]?r.getReserved(t):r.h[t];if(Pe.isValidAudio(a))return a}var s=t.substring(0,t.indexOf(":")),l=I.substr(t,t.indexOf(":")+1,null),o=Pe.getLibrary(s);if(null!=o)if(o.exists(l,"SOUND")){if(o.isLocal(l,"SOUND")){var h=o.getAudioBuffer(l);if(e&&Pe.cache.enabled){var _=Pe.cache.audio;null!=vo[t]?_.setReserved(t,h):_.h[t]=h}return h}oe.trace('[Assets] Audio asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:122,className:"lime.Assets",methodName:"getAudioBuffer"})}else oe.trace('[Assets] There is no audio asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:128,className:"lime.Assets",methodName:"getAudioBuffer"});else oe.trace('[Assets] There is no asset library named "'+s+'"',{fileName:"Assets.hx",lineNumber:134,className:"lime.Assets",methodName:"getAudioBuffer"});return null},Pe.getBytes=function(t){Pe.initialize();var e=t.substring(0,t.indexOf(":")),n=I.substr(t,t.indexOf(":")+1,null),i=Pe.getLibrary(e);if(null!=i)if(i.exists(n,"BINARY")){if(i.isLocal(n,"BINARY"))return i.getBytes(n);oe.trace('[Assets] String or Bytes asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:171,className:"lime.Assets",methodName:"getBytes"})}else oe.trace('[Assets] There is no String or Bytes asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:177,className:"lime.Assets",methodName:"getBytes"});else oe.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:183,className:"lime.Assets",methodName:"getBytes"});return null},Pe.getFont=function(t,e){null==e&&(e=!0),Pe.initialize();var n;if(e&&Pe.cache.enabled){var i=Pe.cache.font;n=null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)}else n=!1;if(n){var r=Pe.cache.font;return null!=vo[t]?r.getReserved(t):r.h[t]}var a=t.substring(0,t.indexOf(":")),s=I.substr(t,t.indexOf(":")+1,null),l=Pe.getLibrary(a);if(null!=l)if(l.exists(s,"FONT")){if(l.isLocal(s,"FONT")){var o=l.getFont(s);if(e&&Pe.cache.enabled){var h=Pe.cache.font;null!=vo[t]?h.setReserved(t,o):h.h[t]=o}return o}oe.trace('[Assets] Font asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:234,className:"lime.Assets",methodName:"getFont"})}else oe.trace('[Assets] There is no Font asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:240,className:"lime.Assets",methodName:"getFont"});else oe.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:246,className:"lime.Assets",methodName:"getFont"});return null},Pe.getImage=function(t,e){null==e&&(e=!0),Pe.initialize();var n;if(e&&Pe.cache.enabled){var i=Pe.cache.image;n=null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t)}else n=!1;if(n){var r=Pe.cache.image,a=null!=vo[t]?r.getReserved(t):r.h[t];if(Pe.isValidImage(a))return a}var s=t.substring(0,t.indexOf(":")),l=I.substr(t,t.indexOf(":")+1,null),o=Pe.getLibrary(s);if(null!=o)if(o.exists(l,"IMAGE")){if(o.isLocal(l,"IMAGE")){var h=o.getImage(l);if(e&&Pe.cache.enabled){var _=Pe.cache.image;null!=vo[t]?_.setReserved(t,h):_.h[t]=h}return h}oe.trace('[Assets] Image asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:304,className:"lime.Assets",methodName:"getImage"})}else oe.trace('[Assets] There is no Image asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:310,className:"lime.Assets",methodName:"getImage"});else oe.trace('[Assets] There is no asset library named "'+s+'"',{fileName:"Assets.hx",lineNumber:316,className:"lime.Assets",methodName:"getImage"});return null},Pe.getLibrary=function(t){null!=t&&""!=t||(t="default");var e=Pe.libraries;return null!=vo[t]?e.getReserved(t):e.h[t]},Pe.getPath=function(t){Pe.initialize();var e=t.substring(0,t.indexOf(":")),n=I.substr(t,t.indexOf(":")+1,null),i=Pe.getLibrary(e);if(null!=i){if(i.exists(n,null))return i.getPath(n);oe.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:364,className:"lime.Assets",methodName:"getPath"})}else oe.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:370,className:"lime.Assets",methodName:"getPath"});return null},Pe.getText=function(t){Pe.initialize();var e=t.substring(0,t.indexOf(":")),n=I.substr(t,t.indexOf(":")+1,null),i=Pe.getLibrary(e);if(null!=i)if(i.exists(n,"TEXT")){if(i.isLocal(n,"TEXT"))return i.getText(n);oe.trace('[Assets] String asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:407,className:"lime.Assets",methodName:"getText"})}else oe.trace('[Assets] There is no String asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:413,className:"lime.Assets",methodName:"getText"});else oe.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:419,className:"lime.Assets",methodName:"getText"});return null},Pe.initialize=function(){Pe.initialized||(Pe.registerLibrary("default",new x),Pe.initialized=!0)},Pe.isLocal=function(t,e,n){if(null==n&&(n=!0),Pe.initialize(),n&&Pe.cache.enabled){if("IMAGE"==e||null==e){var i=Pe.cache.image;if(null!=vo[t]?i.existsReserved(t):i.h.hasOwnProperty(t))return!0}if("FONT"==e||null==e){var r=Pe.cache.font;if(null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t))return!0}if("SOUND"==e||"MUSIC"==e||null==e){var a=Pe.cache.audio;if(null!=vo[t]?a.existsReserved(t):a.h.hasOwnProperty(t))return!0}}var s=t.substring(0,t.indexOf(":")),l=I.substr(t,t.indexOf(":")+1,null),o=Pe.getLibrary(s);return null!=o&&o.isLocal(l,e)},Pe.isValidAudio=function(t){return null!=t},Pe.isValidImage=function(t){return!0},Pe.list=function(t){Pe.initialize();for(var e=[],n=Pe.libraries,i=new fe(n,n.arrayKeys());i.hasNext();){var r=i.next().list(t);null!=r&&(e=e.concat(r))}return e},Pe.loadAudioBuffer=function(t,e){null==e&&(e=!0),Pe.initialize();var n,i=new ln;if(e&&Pe.cache.enabled){var r=Pe.cache.audio;n=null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)}else n=!1;if(n){var a=Pe.cache.audio,s=null!=vo[t]?a.getReserved(t):a.h[t];if(Pe.isValidAudio(s))return i.complete(s),i.future}var l=t.indexOf(":"),o=t.substring(0,l),h=t.indexOf(":")+1,_=I.substr(t,h,null),u=Pe.getLibrary(o);if(null!=u)if(u.exists(_,"SOUND")){var c=u.loadAudioBuffer(_);e&&Pe.cache.enabled&&c.onComplete(function(e){var n=Pe.cache.audio;null!=vo[t]?n.setReserved(t,e):n.h[t]=e}),i.completeWith(c)}else i.error('[Assets] There is no audio asset with an ID of "'+t+'"');else i.error('[Assets] There is no asset library named "'+o+'"');return i.future},Pe.loadBytes=function(t){Pe.initialize();var e=new ln,n=t.substring(0,t.indexOf(":")),i=I.substr(t,t.indexOf(":")+1,null),r=Pe.getLibrary(n);return null!=r?r.exists(i,"BINARY")?e.completeWith(r.loadBytes(i)):e.error('[Assets] There is no String or Bytes asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+n+'"'),e.future},Pe.loadFont=function(t){Pe.initialize();var e=new ln,n=t.substring(0,t.indexOf(":")),i=I.substr(t,t.indexOf(":")+1,null),r=Pe.getLibrary(n);return null!=r?r.exists(i,"FONT")?e.completeWith(r.loadFont(i)):e.error('[Assets] There is no Font asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+n+'"'),e.future},Pe.loadImage=function(t,e){null==e&&(e=!0),Pe.initialize();var n,i=new ln;if(e&&Pe.cache.enabled){var r=Pe.cache.image;n=null!=vo[t]?r.existsReserved(t):r.h.hasOwnProperty(t)}else n=!1;if(n){var a=Pe.cache.image,s=null!=vo[t]?a.getReserved(t):a.h[t];if(Pe.isValidImage(s))return i.complete(s),i.future}var l=t.indexOf(":"),o=t.substring(0,l),h=t.indexOf(":")+1,_=I.substr(t,h,null),u=Pe.getLibrary(o);if(null!=u)if(u.exists(_,"IMAGE")){var c=u.loadImage(_);e&&Pe.cache.enabled&&c.onComplete(function(e){var n=Pe.cache.image;null!=vo[t]?n.setReserved(t,e):n.h[t]=e}),i.completeWith(c)}else i.error('[Assets] There is no Image asset with an ID of "'+t+'"');else i.error('[Assets] There is no asset library named "'+o+'"');return i.future},Pe.loadLibrary=function(t){Pe.initialize();var e=new ln,n=Pe.getText("libraries/"+t+".json");if(null!=n&&""!=n){var i=JSON.parse(n),a=B.createInstance(B.resolveClass(i.type),i.args),s=Pe.libraries;null!=vo[t]?s.setReserved(t,a):s.h[t]=a,a.onChange.add((ho=Pe.onChange,r(ho,ho.dispatch))),e.completeWith(a.load())}else e.error('[Assets] There is no asset library named "'+t+'"');return e.future},Pe.loadText=function(t){Pe.initialize();var e=new ln,n=t.substring(0,t.indexOf(":")),i=I.substr(t,t.indexOf(":")+1,null),r=Pe.getLibrary(n);return null!=r?r.exists(i,"TEXT")?e.completeWith(r.loadText(i)):e.error('[Assets] There is no String asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+n+'"'),e.future},Pe.registerLibrary=function(t,e){var n=Pe.libraries;if(null!=vo[t]?n.existsReserved(t):n.h.hasOwnProperty(t)){var i=Pe.libraries;if((null!=vo[t]?i.getReserved(t):i.h[t])==e)return;Pe.unloadLibrary(t)}null!=e&&e.onChange.add(Pe.library_onChange);var r=Pe.libraries;null!=vo[t]?r.setReserved(t,e):r.h[t]=e},Pe.unloadLibrary=function(t){Pe.initialize();var e=Pe.libraries,n=null!=vo[t]?e.getReserved(t):e.h[t];null!=n&&(Pe.cache.clear(t+":"),n.onChange.remove(Pe.library_onChange),n.unload()),Pe.libraries.remove(t)},Pe.library_onChange=function(){Pe.cache.clear(),Pe.onChange.dispatch()};var Le=function(t){this.gameDeviceCache=new ce,this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,cn.init()};a["lime._backend.html5.HTML5Application"]=Le,Le.__name__=["lime","_backend","html5","HTML5Application"],Le.prototype={gameDeviceCache:null,currentUpdate:null,deltaTime:null,framePeriod:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(t){if(t>=65&&t<=90)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",r(this,this.handleKeyEvent),!1),window.addEventListener("keyup",r(this,this.handleKeyEvent),!1),window.addEventListener("focus",r(this,this.handleWindowEvent),!1),window.addEventListener("blur",r(this,this.handleWindowEvent),!1),window.addEventListener("resize",r(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",r(this,this.handleWindowEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,n){return!1});for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),a=window.setTimeout(function(){e(i+r)},r);return t=i+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},getFrameRate:function(){return this.framePeriod<0?60:1e3==this.framePeriod?0:1e3/this.framePeriod},handleApplicationEvent:function(t){this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.framePeriod<0?(this.nextUpdate=this.currentUpdate,this.nextUpdate=this.currentUpdate):this.nextUpdate=this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate),window.requestAnimationFrame(r(this,this.handleApplicationEvent))},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){var e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),n=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0);"keydown"==t.type?(this.parent.windows[0].onKeyDown.dispatch(e,n),this.parent.windows[0].onKeyDown.canceled&&t.preventDefault()):(this.parent.windows[0].onKeyUp.dispatch(e,n),this.parent.windows[0].onKeyUp.canceled&&t.preventDefault())}},handleWindowEvent:function(t){if(null!=this.parent.windows[0])switch(t.type){case"beforeunload":this.parent.windows[0].onClose.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch();break;case"resize":var e=this.parent.windows[0].__width,n=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize(),this.parent.windows[0].__width==e&&this.parent.windows[0].__height==n||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height)}},setFrameRate:function(t){return this.framePeriod=t>=60?-1:t>0?1e3/t:1e3,t},updateGameDevices:function(){var t=Ii.__getDeviceData();if(null!=t)for(var e,n,i,r,a,s=0,l=t.length;s<l;)if(e=s++,null!=(r=t[e])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){(a=new ke).id=e,a.connected=r.connected;for(var o=0,h=r.buttons.length;o<h;){var _=o++;a.buttons.push(r.buttons[_].value)}for(var u=0,c=r.axes.length;u<c;){var d=u++;a.axes.push(r.axes[d])}"standard"==r.mapping&&(a.isGamepad=!0),this.gameDeviceCache.h[e]=a,r.connected&&(Ii.__connect(e),a.isGamepad&&Ei.__connect(e))}if(a=this.gameDeviceCache.h[e],i=Ii.devices.h[e],n=Ei.devices.h[e],r.connected){for(var f,g,p=0,m=r.buttons.length;p<m;){var v=p++;if((g=r.buttons[v].value)!=a.buttons[v]){if(6==v)i.onAxisMove.dispatch(r.axes.length,g),null!=n&&n.onAxisMove.dispatch(4,g);else if(7==v)i.onAxisMove.dispatch(r.axes.length+1,g),null!=n&&n.onAxisMove.dispatch(5,g);else if(g>0?i.onButtonDown.dispatch(v):i.onButtonUp.dispatch(v),null!=n){switch(v){case 0:f=0;break;case 1:f=1;break;case 2:f=2;break;case 3:f=3;break;case 4:f=9;break;case 5:f=10;break;case 8:f=4;break;case 9:f=6;break;case 10:f=7;break;case 11:f=8;break;case 12:f=11;break;case 13:f=12;break;case 14:f=13;break;case 15:f=14;break;case 16:f=5;break;default:continue}g>0?n.onButtonDown.dispatch(f):n.onButtonUp.dispatch(f)}a.buttons[v]=g}}for(var x=0,y=r.axes.length;x<y;){var w=x++;r.axes[w]!=a.axes[w]&&(i.onAxisMove.dispatch(w,r.axes[w]),null!=n&&n.onAxisMove.dispatch(w,r.axes[w]),a.axes[w]=r.axes[w])}}else a.connected&&(a.connected=!1,Ii.__disconnect(e),Ei.__disconnect(e))}},__class__:Le};var ke=function(){this.connected=!0,this.buttons=[],this.axes=[]};a["lime._backend.html5.GameDeviceData"]=ke,ke.__name__=["lime","_backend","html5","GameDeviceData"],ke.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:ke};var Be=function(){};a["lime._backend.html5.HTML5Mouse"]=Be,Be.__name__=["lime","_backend","html5","HTML5Mouse"],Be.__cursor=null,Be.__hidden=null,Be.hide=function(){if(!Be.__hidden){Be.__hidden=!0;for(var t=0,e=Ge.current.windows;t<e.length;){var n=e[t];++t,n.backend.element.style.cursor="none"}}},Be.show=function(){if(Be.__hidden){Be.__hidden=!1;var t=Be.__cursor;Be.__cursor=null,Be.set_cursor(t)}},Be.warp=function(t,e,n){},Be.get_cursor=function(){return null==Be.__cursor?Pi.DEFAULT:Be.__cursor},Be.set_cursor=function(t){if(Be.__cursor!=t){if(!Be.__hidden)for(var e=0,n=Ge.current.windows;e<n.length;){var i=n[e];++e;var r;switch(t[1]){case 0:r="default";break;case 1:r="crosshair";break;case 3:r="move";break;case 4:r="pointer";break;case 5:r="nesw-resize";break;case 6:r="ns-resize";break;case 7:r="nwse-resize";break;case 8:r="ew-resize";break;case 9:r="text";break;case 10:case 11:r="wait";break;default:r="auto"}i.backend.element.style.cursor=r}Be.__cursor=t}return Be.__cursor},Be.get_lock=function(){return!1},Be.set_lock=function(t){return t};var Oe=function(t){this.parent=t};a["lime._backend.html5.HTML5Renderer"]=Oe,Oe.__name__=["lime","_backend","html5","HTML5Renderer"],Oe.prototype={parent:null,create:function(){this.createContext(),0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",r(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",r(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=An.DOM(this.parent.window.backend.div),this.parent.type=Sn.DOM;else if(null!=this.parent.window.backend.canvas){this.parent.context=An.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Sn.CANVAS}},flip:function(){},handleEvent:function(t){switch(t.type){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(t){if(null!=this.parent.window.backend.canvas&&(null==t?t=new Qn(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):t.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),t.width>0&&t.height>0)){var e=window.document.createElement("canvas");return e.width=0|t.width,e.height=0|t.height,e.getContext("2d").drawImage(this.parent.window.backend.canvas,-t.x,-t.y),bn.fromCanvas(e)}return null},render:function(){},__class__:Oe};var Fe=function(t){this.unusedTouchesPool=new S,this.currentTouches=new ce,this.parent=t,null!=t.config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element)};a["lime._backend.html5.HTML5Window"]=Fe,Fe.__name__=["lime","_backend","html5","HTML5Window"],Fe.textInput=null,Fe.prototype={canvas:null,div:null,element:null,currentTouches:null,enableTextEvents:null,parent:null,primaryTouch:null,setHeight:null,setWidth:null,unusedTouchesPool:null,alert:function(t,e){null!=t&&Re.alert(t)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=Fe.windowID++,X.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var n=this.div.style;n.setProperty("-webkit-transform","translate3D(0,0,0)",null),n.setProperty("transform","translate3D(0,0,0)",null),n.position="relative",n.overflow="hidden",n.setProperty("-webkit-user-select","none",null),n.setProperty("-moz-user-select","none",null),n.setProperty("-ms-user-select","none",null),n.setProperty("-o-user-select","none",null)}if(0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0)),null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),this.handleResize(),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var i=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],a=0;a<i.length;){var s=i[a];++a,this.element.addEventListener(s,r(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"!=t.target.nodeName.toLowerCase()||(t.preventDefault(),!1)},!1),this.element.addEventListener("touchstart",r(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",r(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",r(this,this.handleTouchEvent),!0),this.element.addEventListener("gamepadconnected",r(this,this.handleGamepadEvent),!0),this.element.addEventListener("gamepaddisconnected",r(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return fi.getDisplay(0)},getEnableTextEvents:function(){return this.enableTextEvents},handleFocusEvent:function(t){this.enableTextEvents&&he.delay(function(){Fe.textInput.focus()},20)},handleGamepadEvent:function(t){switch(t.type){case"gamepadconnected":Ii.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&Ei.__connect(t.gamepad.index);break;case"gamepaddisconnected":Ii.__disconnect(t.gamepad.index),Ei.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){""!=Fe.textInput.value&&(this.parent.onTextInput.dispatch(Fe.textInput.value),Fe.textInput.value="")},handleMouseEvent:function(t){var e=0,n=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var i=this.canvas.getBoundingClientRect();e=(t.clientX-i.left)*(this.parent.__width/i.width),n=(t.clientY-i.top)*(this.parent.__height/i.height)}else if(null!=this.div){var r=this.div.getBoundingClientRect();e=t.clientX-r.left,n=t.clientY-r.top}else{var a=this.element.getBoundingClientRect();e=(t.clientX-a.left)*(this.parent.__width/a.width),n=(t.clientY-a.top)*(this.parent.__height/a.height)}else e=t.clientX,n=t.clientY;switch(t.type){case"mousedown":this.parent.onMouseDown.dispatch(e,n,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"mouseleave":this.parent.onLeave.dispatch();break;case"mousemove":this.parent.onMouseMove.dispatch(e,n);break;case"mouseup":this.parent.onMouseUp.dispatch(e,n,t.button)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleResize:function(){var t=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&t))if(t)this.parent.__width==this.element.clientWidth&&this.parent.__height==this.element.clientHeight||(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px"));else{var e=this.element.clientWidth/this.setWidth,n=this.element.clientHeight/this.setHeight,i=Math.min(e,n);null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*i+"px",this.canvas.style.height=this.setHeight*i+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*i)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*i)/2+"px"):(this.div.style.width=this.setWidth*i+"px",this.div.style.height=this.setHeight*i+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*i)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*i)/2+"px")}},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var n=this.setWidth,i=this.setHeight;0!=n&&0!=i||(null!=e?(n=e.width,i=e.height):(n=1,i=1));for(var r=0,a=t.changedTouches;r<a.length;){var s=a[r];++r;var l=0,o=0;switch(null!=e?(l=(s.clientX-e.left)*(n/e.width),o=(s.clientY-e.top)*(i/e.height)):(l=s.clientX,o=s.clientY),t.type){case"touchend":var h=this.currentTouches.get(s.identifier);if(null!=h){var _=h.x,u=h.y;h.x=l/n,h.y=o/i,h.dx=h.x-_,h.dy=h.y-u,h.pressure=s.force,Li.onEnd.dispatch(h),this.currentTouches.remove(s.identifier),this.unusedTouchesPool.add(h),h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(l,o,0),this.primaryTouch=null)}break;case"touchmove":var c=this.currentTouches.get(s.identifier);if(null!=c){var d=c.x,f=c.y;c.x=l/n,c.y=o/i,c.dx=c.x-d,c.dy=c.y-f,c.pressure=s.force,Li.onMove.dispatch(c),c==this.primaryTouch&&this.parent.onMouseMove.dispatch(l,o)}break;case"touchstart":var g=this.unusedTouchesPool.pop();null==g?g=new Li(l/n,o/i,s.identifier,0,0,s.force,this.parent.id):(g.x=l/n,g.y=o/i,g.id=s.identifier,g.dx=0,g.dy=0,g.pressure=s.force,g.device=this.parent.id),this.currentTouches.set(s.identifier,g),Li.onStart.dispatch(g),null==this.primaryTouch&&(this.primaryTouch=g),g==this.primaryTouch&&this.parent.onMouseDown.dispatch(l,o,0)}}},move:function(t,e){},resize:function(t,e){},setBorderless:function(t){return t},setEnableTextEvents:function(t){return t?(null==Fe.textInput&&((Fe.textInput=window.document.createElement("input")).type="text",Fe.textInput.style.position="absolute",Fe.textInput.style.opacity="0",Fe.textInput.style.color="transparent",Fe.textInput.value="",Fe.textInput.autocapitalize="off",Fe.textInput.autocorrect="off",Fe.textInput.autocomplete="off",Fe.textInput.style.left="0px",Fe.textInput.style.top="50%",new A("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(Fe.textInput.style.fontSize="0px",Fe.textInput.style.width="0px",Fe.textInput.style.height="0px"):(Fe.textInput.style.width="1px",Fe.textInput.style.height="1px"),Fe.textInput.style.pointerEvents="none",Fe.textInput.style.zIndex="-10000000",window.document.body.appendChild(Fe.textInput)),this.enableTextEvents||(Fe.textInput.addEventListener("input",r(this,this.handleInputEvent),!0),Fe.textInput.addEventListener("blur",r(this,this.handleFocusEvent),!0)),Fe.textInput.focus()):null!=Fe.textInput&&(Fe.textInput.removeEventListener("input",r(this,this.handleInputEvent),!0),Fe.textInput.removeEventListener("blur",r(this,this.handleFocusEvent),!0),Fe.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},setIcon:function(t){},setMaximized:function(t){return!1},setMinimized:function(t){return!1},setResizable:function(t){return t},setTitle:function(t){return t},__class__:Fe};var Ne=function(){};a["lime.app.IModule"]=Ne,Ne.__name__=["lime","app","IModule"],Ne.prototype={onGamepadAxisMove:null,onGamepadButtonDown:null,onGamepadButtonUp:null,onGamepadConnect:null,onGamepadDisconnect:null,onJoystickAxisMove:null,onJoystickButtonDown:null,onJoystickButtonUp:null,onJoystickConnect:null,onJoystickDisconnect:null,onJoystickHatMove:null,onJoystickTrackballMove:null,onKeyDown:null,onKeyUp:null,onModuleExit:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onPreloadComplete:null,onPreloadProgress:null,onRenderContextLost:null,onRenderContextRestored:null,onTextEdit:null,onTextInput:null,onTouchEnd:null,onTouchMove:null,onTouchStart:null,onWindowActivate:null,onWindowClose:null,onWindowCreate:null,onWindowDeactivate:null,onWindowDropFile:null,onWindowEnter:null,onWindowFocusIn:null,onWindowFocusOut:null,onWindowFullscreen:null,onWindowLeave:null,onWindowMove:null,onWindowMinimize:null,onWindowResize:null,onWindowRestore:null,render:null,update:null,__class__:Ne};var Ue=function(){this.onExit=new je};a["lime.app.Module"]=Ue,Ue.__name__=["lime","app","Module"],Ue.__interfaces__=[Ne],Ue.prototype={onExit:null,onGamepadAxisMove:function(t,e,n){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){oe.trace("onGamepadConnect (module)",{fileName:"Module.hx",lineNumber:64,className:"lime.app.Module",methodName:"onGamepadConnect"})},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,n){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,n){},onJoystickTrackballMove:function(t,e,n){},onKeyDown:function(t,e,n){},onKeyUp:function(t,e,n){},onModuleExit:function(t){},onMouseDown:function(t,e,n,i){},onMouseMove:function(t,e,n){},onMouseMoveRelative:function(t,e,n){},onMouseUp:function(t,e,n,i){},onMouseWheel:function(t,e,n){},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,n,i){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowDropFile:function(t,e){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,n){},onWindowMinimize:function(t){},onWindowResize:function(t,e,n){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:Ue};var Ge=function(){this.onUpdate=new je,Ue.call(this),null==Ge.current&&(Ge.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new ce,this.backend=new Le(this),this.onExit.add(r(this,this.onModuleExit)),this.onUpdate.add(r(this,this.update)),Ei.onConnect.add(r(this,this.__onGamepadConnect)),Ii.onConnect.add(r(this,this.__onJoystickConnect)),Li.onStart.add(r(this,this.onTouchStart)),Li.onMove.add(r(this,this.onTouchMove)),Li.onEnd.add(r(this,this.onTouchEnd))};a["lime.app.Application"]=Ge,Ge.__name__=["lime","app","Application"],Ge.current=null,Ge.__super__=Ue,Ge.prototype=n(Ue.prototype,{config:null,modules:null,preloader:null,onUpdate:null,renderer:null,renderers:null,window:null,windows:null,backend:null,windowByID:null,addModule:function(t){if(this.modules.push(t),this.windows.length>0){for(var e=0,n=this.windows;e<n.length;){var i=n[e];++e,t.onWindowCreate(i)}(null==this.preloader||this.preloader.complete)&&t.onPreloadComplete()}},addRenderer:function(t){var e=r(this,this.render),n=t;t.onRender.add(function(){e(n)});var i=r(this,this.onRenderContextLost),a=t;t.onContextLost.add(function(){i(a)});var s=r(this,this.onRenderContextRestored),l=t;t.onContextRestored.add(function(t){s(l,t)}),this.renderers.push(t)},create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,n=t.windows;e<n.length;){var i=n[e];++e;var r=new ki(i);this.createWindow(r);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},createWindow:function(t){var e=r(this,this.onWindowActivate),n=t;t.onActivate.add(function(){e(n)});var i=r(this,this.onWindowClose),a=t;t.onClose.add(function(){i(a)});var s=r(this,this.onWindowCreate),l=t;t.onCreate.add(function(){s(l)});var o=r(this,this.onWindowDeactivate),h=t;t.onDeactivate.add(function(){o(h)});var _=r(this,this.onWindowDropFile),u=t;t.onDropFile.add(function(t){_(u,t)});var c=r(this,this.onWindowEnter),d=t;t.onEnter.add(function(){c(d)});var f=r(this,this.onWindowFocusIn),g=t;t.onFocusIn.add(function(){f(g)});var p=r(this,this.onWindowFocusOut),m=t;t.onFocusOut.add(function(){p(m)});var v=r(this,this.onWindowFullscreen),x=t;t.onFullscreen.add(function(){v(x)});var y=r(this,this.onKeyDown),w=t;t.onKeyDown.add(function(t,e){y(w,t,e)});var b=r(this,this.onKeyUp),T=t;t.onKeyUp.add(function(t,e){b(T,t,e)});var E=r(this,this.onWindowLeave),R=t;t.onLeave.add(function(){E(R)});var A=r(this,this.onWindowMinimize),I=t;t.onMinimize.add(function(){A(I)});var S=r(this,this.onMouseDown),C=t;t.onMouseDown.add(function(t,e,n){S(C,t,e,n)});var M=r(this,this.onMouseMove),D=t;t.onMouseMove.add(function(t,e){M(D,t,e)});var P=r(this,this.onMouseMoveRelative),L=t;t.onMouseMoveRelative.add(function(t,e){P(L,t,e)});var k=r(this,this.onMouseUp),B=t;t.onMouseUp.add(function(t,e,n){k(B,t,e,n)});var O=r(this,this.onMouseWheel),F=t;t.onMouseWheel.add(function(t,e){O(F,t,e)});var N=r(this,this.onWindowMove),U=t;t.onMove.add(function(t,e){N(U,t,e)});var G=r(this,this.onWindowResize),X=t;t.onResize.add(function(t,e){G(X,t,e)});var Y=r(this,this.onWindowRestore),H=t;t.onRestore.add(function(){Y(H)});var V=r(this,this.onTextEdit),W=t;t.onTextEdit.add(function(t,e,n){V(W,t,e,n)});var z=r(this,this.onTextInput),j=t;if(t.onTextInput.add(function(t){z(j,t)}),null==t.renderer){var K=new In(t);this.addRenderer(K)}t.create(this),this.windows.push(t),this.windowByID.h[t.id]=t,t.onCreate.dispatch()},exec:function(){return Ge.current=this,this.backend.exec()},onGamepadAxisMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onGamepadAxisMove(t,e,n)}},onGamepadButtonDown:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onGamepadConnect(t)}},onGamepadDisconnect:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onJoystickAxisMove(t,e,n)}},onJoystickButtonDown:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onJoystickConnect(t)}},onJoystickDisconnect:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onJoystickHatMove(t,e,n)}},onJoystickTrackballMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onJoystickTrackballMove(t,e,n)}},onKeyDown:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onKeyDown(t,e,n)}},onKeyUp:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onKeyUp(t,e,n)}},onModuleExit:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,n,i){for(var r=0,a=this.modules;r<a.length;){var s=a[r];++r,s.onMouseDown(t,e,n,i)}},onMouseMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onMouseMove(t,e,n)}},onMouseMoveRelative:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onMouseMoveRelative(t,e,n)}},onMouseUp:function(t,e,n,i){for(var r=0,a=this.modules;r<a.length;){var s=a[r];++r,s.onMouseUp(t,e,n,i)}},onMouseWheel:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onMouseWheel(t,e,n)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var n=e[t];++t,n.onPreloadComplete()}},onPreloadProgress:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onPreloadProgress(t,e)}},onRenderContextLost:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,n,i){for(var r=0,a=this.modules;r<a.length;){var s=a[r];++r,s.onTextEdit(t,e,n,i)}},onTextInput:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowDeactivate(t)}},onWindowDropFile:function(t,e){for(var n=0,i=this.modules;n<i.length;){var r=i[n];++n,r.onWindowDropFile(t,e)}},onWindowEnter:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowMinimize(t)}},onWindowMove:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onWindowMove(t,e,n)}},onWindowResize:function(t,e,n){for(var i=0,r=this.modules;i<r.length;){var a=r[i];++i,a.onWindowResize(t,e,n)}},onWindowRestore:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.onWindowRestore(t)}},removeModule:function(t){null!=t&&(t.onModuleExit(0),I.remove(this.modules,t))},removeRenderer:function(t){null!=t&&this.renderers.indexOf(t)>-1&&I.remove(this.renderers,t)},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&(I.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(r(this,this.onPreloadProgress)),this.preloader.onComplete.remove(r(this,this.onPreloadComplete))),this.preloader=t,t.complete?this.onPreloadComplete():(t.onProgress.add(r(this,this.onPreloadProgress)),t.onComplete.add(r(this,this.onPreloadComplete)))},update:function(t){for(var e=0,n=this.modules;e<n.length;){var i=n[e];++e,i.update(t)}},__onGamepadConnect:function(t){this.onGamepadConnect(t);var e=r(this,this.onGamepadAxisMove),n=t;t.onAxisMove.add(function(t,i){e(n,t,i)});var i=r(this,this.onGamepadButtonDown),a=t;t.onButtonDown.add(function(t){i(a,t)});var s=r(this,this.onGamepadButtonUp),l=t;t.onButtonUp.add(function(t){s(l,t)});var o=r(this,this.onGamepadDisconnect),h=t;t.onDisconnect.add(function(){o(h)})},__onJoystickConnect:function(t){this.onJoystickConnect(t);var e=r(this,this.onJoystickAxisMove),n=t;t.onAxisMove.add(function(t,i){e(n,t,i)});var i=r(this,this.onJoystickButtonDown),a=t;t.onButtonDown.add(function(t){i(a,t)});var s=r(this,this.onJoystickButtonUp),l=t;t.onButtonUp.add(function(t){s(l,t)});var o=r(this,this.onJoystickDisconnect),h=t;t.onDisconnect.add(function(){o(h)});var _=r(this,this.onJoystickHatMove),u=t;t.onHatMove.add(function(t,e){_(u,t,e)});var c=r(this,this.onJoystickTrackballMove),d=t;t.onTrackballMove.add(function(t,e){c(d,t,e)})},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(t){return this.backend.setFrameRate(t)},get_renderer:function(){return this.renderers[0]},get_window:function(){return this.windows[0]},__class__:Ge,__properties__:{get_window:"get_window",get_renderer:"get_renderer",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});var Xe=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event"]=Xe,Xe.__name__=["lime","app","Event"],Xe.prototype={canceled:null,__listeners:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},dispatch:null,has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__class__:Xe};var Ye=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Dynamic_Void"]=Ye,Ye.__name__=["lime","app","Event_Dynamic_Void"],Ye.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:Ye};var He=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Float_Float_Int_Void"]=He,He.__name__=["lime","app","Event_Float_Float_Int_Void"],He.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e,n){this.canceled=!1;for(var i=this.__listeners,r=this.__repeat,a=0;a<i.length&&(i[a](t,e,n),r[a]?++a:this.remove(i[a]),!this.canceled););},__class__:He};var Ve=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Float_Float_Void"]=Ve,Ve.__name__=["lime","app","Event_Float_Float_Void"],Ve.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Ve};var We=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Int_Float_Void"]=We,We.__name__=["lime","app","Event_Int_Float_Void"],We.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:We};var ze=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Int_Int_Void"]=ze,ze.__name__=["lime","app","Event_Int_Int_Void"],ze.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:ze};var je=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Int_Void"]=je,je.__name__=["lime","app","Event_Int_Void"],je.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:je};var Ke=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=Ke,Ke.__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"],Ke.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Ke};var qe=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_String_Int_Int_Void"]=qe,qe.__name__=["lime","app","Event_String_Int_Int_Void"],qe.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e,n){this.canceled=!1;for(var i=this.__listeners,r=this.__repeat,a=0;a<i.length&&(i[a](t,e,n),r[a]?++a:this.remove(i[a]),!this.canceled););},__class__:qe};var Je=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_String_Void"]=Je,Je.__name__=["lime","app","Event_String_Void"],Je.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:Je};var Ze=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_graphics_RenderContext_Void"]=Ze,Ze.__name__=["lime","app","Event_lime_graphics_RenderContext_Void"],Ze.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:Ze};var Qe=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Qe,Qe.__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"],Qe.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Qe};var $e=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_GamepadButton_Void"]=$e,$e.__name__=["lime","app","Event_lime_ui_GamepadButton_Void"],$e.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:$e};var tn=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_Gamepad_Void"]=tn,tn.__name__=["lime","app","Event_lime_ui_Gamepad_Void"],tn.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:tn};var en=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_Joystick_Void"]=en,en.__name__=["lime","app","Event_lime_ui_Joystick_Void"],en.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:en};var nn=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=nn,nn.__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"],nn.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var n=this.__listeners,i=this.__repeat,r=0;r<n.length&&(n[r](t,e),i[r]?++r:this.remove(n[r]),!this.canceled););},__class__:nn};var rn=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};a["lime.app.Event_lime_ui_Touch_Void"]=rn,rn.__name__=["lime","app","Event_lime_ui_Touch_Void"],rn.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,n){null==n&&(n=0),null==e&&(e=!1);for(var i=0,r=this.__priorities.length;i<r;){var a=i++;if(n>this.__priorities[a])return this.__listeners.splice(a,0,t),this.__priorities.splice(a,0,n),void this.__repeat.splice(a,0,!e)}this.__listeners.push(t),this.__priorities.push(n),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,n=this.__listeners;e<n.length;){var i=n[e];if(++e,D.compareMethods(i,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)D.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,n=this.__repeat,i=0;i<e.length&&(e[i](t),n[i]?++i:this.remove(e[i]),!this.canceled););},__class__:rn};var an=function(t){if(null!=t){null==an.__threadPool&&(an.__threadPool=new gi,an.__threadPool.doWork.add(an.threadPool_doWork),an.__threadPool.onComplete.add(an.threadPool_onComplete),an.__threadPool.onError.add(an.threadPool_onError));var e=new ln;e.future=this,an.__threadPool.queue({promise:e,work:t})}};a["lime.app.Future"]=an,an.__name__=["lime","app","Future"],an.__threadPool=null,an.threadPool_doWork=function(t){try{var e=t.work();an.__threadPool.sendComplete({promise:t.promise,result:e})}catch(e){ae.lastException=e,e instanceof Ee&&(e=e.val),an.__threadPool.sendError({promise:t.promise,error:e})}},an.threadPool_onComplete=function(t){t.promise.complete(t.result)},an.threadPool_onError=function(t){t.promise.error(t.error)},an.prototype={isCompleted:null,value:null,__completed:null,__completeListeners:null,__errored:null,__errorListeners:null,__errorMessage:null,__progressListeners:null,onComplete:function(t){return null!=t&&(this.__completed?t(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.__errored?t(this.__errorMessage):this.__completed||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},then:function(t){if(this.__completed)return t(this.value);if(this.__errored){var e=new an;return e.onError(this.__errorMessage),e}var n=new ln;return this.onError(r(n,n.error)),this.onProgress(r(n,n.progress)),this.onComplete(function(e){var i=t(e);i.onError(r(n,n.error)),i.onComplete(r(n,n.complete))}),n.future},get_isCompleted:function(){return!!this.__completed||this.__errored},__class__:an,__properties__:{get_isCompleted:"get_isCompleted"}};var sn=function(){this.total=0,this.loaded=0,this.onProgress=new ze,this.onComplete=new De,this.onProgress.add(r(this,this.update))};a["lime.app.Preloader"]=sn,sn.__name__=["lime","app","Preloader"],sn.prototype={complete:null,onComplete:null,onProgress:null,loaded:null,total:null,create:function(t){},load:function(t,e){for(var n=null,i=Pe.cache.version,a=0,s=t.length;a<s;){var l=a++;switch(n=t[l],e[l]){case"BINARY":if(!sn.loaders.exists(n)){var o=new ri;sn.loaders.set(n,o),this.total++}break;case"FONT":this.total++,this.loadFont(n);break;case"IMAGE":if(!sn.images.exists(n)){var h=new Image;sn.images.set(n,h),h.onload=r(this,this.image_onLoad),h.src=n+"?"+i,this.total++}break;case"TEXT":if(!sn.loaders.exists(n)){var _=new ri;sn.loaders.set(n,_),this.total++}}}for(var u=sn.loaders.keys();u.hasNext();){var c=u.next(),d=sn.loaders;(null!=vo[c]?d.getReserved(c):d.h[c]).load(c+"?"+i).onComplete(r(this,this.loader_onComplete))}0==this.total&&this.start()},loadFont:function(t){var e=this;if(window.document.fonts&&(ho=window.document.fonts,r(ho,ho.load)))window.document.fonts.load("1em '"+t+"'").then(function(t){e.loaded++,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start()});else{var n=window.document.createElement("span");n.innerHTML="giItT1WQy@!-/#";var i=n.style;i.position="absolute",i.left="-10000px",i.top="-10000px",i.fontSize="300px",i.fontFamily="sans-serif",i.fontVariant="normal",i.fontStyle="normal",i.fontWeight="normal",i.letterSpacing="0",window.document.body.appendChild(n);var a=n.offsetWidth;i.fontFamily="'"+t+"', sans-serif";var s=null,l=!1,o=function(){return n.offsetWidth!=a&&(l?(e.loaded++,null!=s&&window.clearInterval(s),n.parentNode.removeChild(n),n=null,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start(),!0):(l=!0,!1))};o()||(s=window.setInterval(o,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:sn};var ln=function(){this.future=new an};a["lime.app.Promise"]=ln,ln.__name__=["lime","app","Promise"],ln.prototype={future:null,isCompleted:null,complete:function(t){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,n=this.future.__completeListeners;e<n.length;){var i=n[e];++e,i(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(r(this,this.complete)),t.onError(r(this,this.error)),t.onProgress(r(this,this.progress)),this},error:function(t){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=t,null!=this.future.__errorListeners)){for(var e=0,n=this.future.__errorListeners;e<n.length;){var i=n[e];++e,i(t)}this.future.__errorListeners=null}return this},progress:function(t){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var e=0,n=this.future.__progressListeners;e<n.length;){var i=n[e];++e,i(t)}return this},get_isCompleted:function(){return this.future.get_isCompleted()},__class__:ln,__properties__:{get_isCompleted:"get_isCompleted"}};var on=function(){this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0};a["lime.audio.ALAudioContext"]=on,on.__name__=["lime","audio","ALAudioContext"],on.prototype={NONE:null,FALSE:null,TRUE:null,SOURCE_RELATIVE:null,CONE_INNER_ANGLE:null,CONE_OUTER_ANGLE:null,PITCH:null,POSITION:null,DIRECTION:null,VELOCITY:null,LOOPING:null,BUFFER:null,GAIN:null,MIN_GAIN:null,MAX_GAIN:null,ORIENTATION:null,SOURCE_STATE:null,INITIAL:null,PLAYING:null,PAUSED:null,STOPPED:null,BUFFERS_QUEUED:null,BUFFERS_PROCESSED:null,REFERENCE_DISTANCE:null,ROLLOFF_FACTOR:null,CONE_OUTER_GAIN:null,MAX_DISTANCE:null,SEC_OFFSET:null,SAMPLE_OFFSET:null,BYTE_OFFSET:null,SOURCE_TYPE:null,STATIC:null,STREAMING:null,UNDETERMINED:null,FORMAT_MONO8:null,FORMAT_MONO16:null,FORMAT_STEREO8:null,FORMAT_STEREO16:null,FREQUENCY:null,BITS:null,CHANNELS:null,SIZE:null,NO_ERROR:null,INVALID_NAME:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,VENDOR:null,VERSION:null,RENDERER:null,EXTENSIONS:null,DOPPLER_FACTOR:null,SPEED_OF_SOUND:null,DOPPLER_VELOCITY:null,DISTANCE_MODEL:null,INVERSE_DISTANCE:null,INVERSE_DISTANCE_CLAMPED:null,LINEAR_DISTANCE:null,LINEAR_DISTANCE_CLAMPED:null,EXPONENT_DISTANCE:null,EXPONENT_DISTANCE_CLAMPED:null,bufferData:function(t,e,n,i,r){pn.bufferData(t,e,n,i,r)},buffer3f:function(t,e,n,i,r){pn.buffer3f(t,e,n,i,r)},buffer3i:function(t,e,n,i,r){pn.buffer3i(t,e,n,i,r)},bufferf:function(t,e,n){pn.bufferf(t,e,n)},bufferfv:function(t,e,n){pn.bufferfv(t,e,n)},bufferi:function(t,e,n){pn.bufferi(t,e,n)},bufferiv:function(t,e,n){pn.bufferiv(t,e,n)},deleteBuffer:function(t){pn.deleteBuffer(t)},deleteBuffers:function(t){pn.deleteBuffers(t)},deleteSource:function(t){pn.deleteSource(t)},deleteSources:function(t){pn.deleteSources(t)},disable:function(t){pn.disable(t)},distanceModel:function(t){pn.distanceModel(t)},dopplerFactor:function(t){pn.dopplerFactor(t)},dopplerVelocity:function(t){pn.dopplerVelocity(t)},enable:function(t){pn.enable(t)},genSource:function(){return pn.genSource()},genSources:function(t){return pn.genSources(t)},genBuffer:function(){return pn.genBuffer()},genBuffers:function(t){return pn.genBuffers(t)},getBoolean:function(t){return pn.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),pn.getBooleanv(t,e)},getBuffer3f:function(t,e){return pn.getBuffer3f(t,e)},getBuffer3i:function(t,e){return pn.getBuffer3i(t,e)},getBufferf:function(t,e){return pn.getBufferf(t,e)},getBufferfv:function(t,e,n){return null==n&&(n=1),pn.getBufferfv(t,e,n)},getBufferi:function(t,e){return pn.getBufferi(t,e)},getBufferiv:function(t,e,n){return null==n&&(n=1),pn.getBufferiv(t,e,n)},getDouble:function(t){return pn.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),pn.getDoublev(t,e)},getEnumValue:function(t){return pn.getEnumValue(t)},getError:function(){return pn.getError()},getErrorString:function(){return pn.getErrorString()},getFloat:function(t){return pn.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),pn.getFloatv(t,e)},getInteger:function(t){return pn.getInteger(t)},getIntegerv:function(t,e){return null==e&&(e=1),pn.getIntegerv(t,e)},getListener3f:function(t){return pn.getListener3f(t)},getListener3i:function(t){return pn.getListener3i(t)},getListenerf:function(t){return pn.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),pn.getListenerfv(t,e)},getListeneri:function(t){return pn.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),pn.getListeneriv(t,e)},getProcAddress:function(t){return pn.getProcAddress(t)},getSource3f:function(t,e){return pn.getSource3f(t,e)},getSourcef:function(t,e){return pn.getSourcef(t,e)},getSource3i:function(t,e){return pn.getSource3i(t,e)},getSourcefv:function(t,e,n){return null==n&&(n=1),pn.getSourcefv(t,e)},getSourcei:function(t,e){return pn.getSourcei(t,e)},getSourceiv:function(t,e,n){return null==n&&(n=1),pn.getSourceiv(t,e,n)},getString:function(t){return pn.getString(t)},isBuffer:function(t){return pn.isBuffer(t)},isEnabled:function(t){return pn.isEnabled(t)},isExtensionPresent:function(t){return pn.isExtensionPresent(t)},isSource:function(t){return pn.isSource(t)},listener3f:function(t,e,n,i){pn.listener3f(t,e,n,i)},listener3i:function(t,e,n,i){pn.listener3i(t,e,n,i)},listenerf:function(t,e){pn.listenerf(t,e)},listenerfv:function(t,e){pn.listenerfv(t,e)},listeneri:function(t,e){pn.listeneri(t,e)},listeneriv:function(t,e){pn.listeneriv(t,e)},source3f:function(t,e,n,i,r){pn.source3f(t,e,n,i,r)},source3i:function(t,e,n,i,r){pn.source3i(t,e,n,i,r)},sourcef:function(t,e,n){pn.sourcef(t,e,n)},sourcefv:function(t,e,n){pn.sourcefv(t,e,n)},sourcei:function(t,e,n){pn.sourcei(t,e,n)},sourceiv:function(t,e,n){pn.sourceiv(t,e,n)},sourcePlay:function(t){pn.sourcePlay(t)},sourcePlayv:function(t){pn.sourcePlayv(t)},sourceStop:function(t){pn.sourceStop(t)},sourceStopv:function(t){pn.sourceStopv(t)},sourceRewind:function(t){pn.sourceRewind(t)},sourceRewindv:function(t){pn.sourceRewindv(t)},sourcePause:function(t){pn.sourcePause(t)},sourcePausev:function(t){pn.sourcePausev(t)},sourceQueueBuffer:function(t,e){pn.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,n){pn.sourceQueueBuffers(t,e,n)},sourceUnqueueBuffer:function(t){return pn.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return pn.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){pn.speedOfSound(t)},__class__:on};var hn=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.EXTENSIONS=4102,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.OUT_OF_MEMORY=40965,this.INVALID_VALUE=40964,this.INVALID_ENUM=40963,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.NO_ERROR=0,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.FREQUENCY=4103,this.TRUE=1,this.FALSE=0};a["lime.audio.ALCAudioContext"]=hn,hn.__name__=["lime","audio","ALCAudioContext"],hn.prototype={FALSE:null,TRUE:null,FREQUENCY:null,REFRESH:null,SYNC:null,MONO_SOURCES:null,STEREO_SOURCES:null,NO_ERROR:null,INVALID_DEVICE:null,INVALID_CONTEXT:null,INVALID_ENUM:null,INVALID_VALUE:null,OUT_OF_MEMORY:null,ATTRIBUTES_SIZE:null,ALL_ATTRIBUTES:null,DEFAULT_DEVICE_SPECIFIER:null,DEVICE_SPECIFIER:null,EXTENSIONS:null,ENUMERATE_ALL_EXT:null,DEFAULT_ALL_DEVICES_SPECIFIER:null,ALL_DEVICES_SPECIFIER:null,closeDevice:function(t){return mn.closeDevice(t)},createContext:function(t,e){return mn.createContext(t,e)},destroyContext:function(t){mn.destroyContext(t)},getContextsDevice:function(t){return mn.getContextsDevice(t)},getCurrentContext:function(){return mn.getCurrentContext()},getError:function(t){return mn.getError(t)},getErrorString:function(t){return mn.getErrorString(t)},getIntegerv:function(t,e,n){return null==n&&(n=1),mn.getIntegerv(t,e,n)},getString:function(t,e){return mn.getString(t,e)},makeContextCurrent:function(t){return mn.makeContextCurrent(t)},openDevice:function(t){return mn.openDevice(t)},processContext:function(t){mn.processContext(t)},suspendContext:function(t){mn.suspendContext(t)},__class__:hn};var _n=function(){this.id=0};a["lime.audio.AudioBuffer"]=_n,_n.__name__=["lime","audio","AudioBuffer"],_n.fromBytes=function(t){return null},_n.fromFile=function(t){return null},_n.fromURL=function(t,e){null!=t&&-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&e(_n.fromFile(t))},_n.prototype={bitsPerSample:null,channels:null,data:null,id:null,sampleRate:null,src:null,dispose:function(){},__class__:_n};var un=a["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};un.OPENAL=function(t,e){var n=["OPENAL",0,t,e];return n.__enum__=un,n.toString=s,n},un.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=un,e.toString=s,e},un.WEB=function(t){var e=["WEB",2,t];return e.__enum__=un,e.toString=s,e},un.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=un,e.toString=s,e},un.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=un,e.toString=s,e};var cn=function(){};a["lime.audio.AudioManager"]=cn,cn.__name__=["lime","audio","AudioManager"],cn.context=null,cn.init=function(t){if(null==cn.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,cn.context=un.WEB(new AudioContext)}catch(t){ae.lastException=t,cn.context=un.HTML5(new gn)}else cn.context=t},cn.resume=function(){if(null!=cn.context){var t=cn.context;if(0==t[1]){t[3];var e=t[2];e.processContext(e.getCurrentContext())}}},cn.shutdown=function(){if(null!=cn.context){var t=cn.context;if(0==t[1]){t[3];var e=t[2],n=e.getCurrentContext();if(null!=n){var i=e.getContextsDevice(n);e.makeContextCurrent(null),e.destroyContext(n),e.closeDevice(i)}}}},cn.suspend=function(){if(null!=cn.context){var t=cn.context;if(0==t[1]){t[3];var e=t[2];e.suspendContext(e.getCurrentContext())}}};var dn=function(t,e,n,i){null==i&&(i=0),null==e&&(e=0),this.onComplete=new De,this.buffer=t,this.offset=e,null!=n&&0!=n&&this.set_length(n),this.set_loops(i),this.id=0,null!=t&&this.init()};a["lime.audio.AudioSource"]=dn,dn.__name__=["lime","audio","AudioSource"],dn.prototype={onComplete:null,buffer:null,offset:null,id:null,playing:null,pauseTime:null,__length:null,__loops:null,dispose:function(){var t=cn.context;if(0==t[1]){var e=t[3];t[2];0!=this.id&&e.deleteSource(this.id)}},init:function(){var t=cn.context;if(0==t[1]){var e=t[3];t[2];if(0==this.buffer.id){this.buffer.id=e.genBuffer();var n=0;1==this.buffer.channels?8==this.buffer.bitsPerSample?n=e.FORMAT_MONO8:16==this.buffer.bitsPerSample&&(n=e.FORMAT_MONO16):2==this.buffer.channels&&(8==this.buffer.bitsPerSample?n=e.FORMAT_STEREO8:16==this.buffer.bitsPerSample&&(n=e.FORMAT_STEREO16)),e.bufferData(this.buffer.id,n,this.buffer.data,this.buffer.data.length,this.buffer.sampleRate)}this.id=e.genSource(),e.sourcei(this.id,e.BUFFER,this.buffer.id)}},play:function(){},pause:function(){},stop:function(){},timer_onRun:function(){},get_currentTime:function(){return 0},set_currentTime:function(t){return this.pauseTime=t},get_gain:function(){return 1},set_gain:function(t){return 1},get_length:function(){return null!=this.__length?this.__length:0},set_length:function(t){return this.__length=t},get_loops:function(){return this.__loops},set_loops:function(t){return this.__loops=t},__class__:dn,__properties__:{set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var fn=function(){};a["lime.audio.FlashAudioContext"]=fn,fn.__name__=["lime","audio","FlashAudioContext"],fn.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,n,i){return null==i&&(i=-1),0},load:function(t,e,n){},loadCompressedDataFromByteArray:function(t,e,n){},loadPCMFromByteArray:function(t,e,n,i,r,a){null==a&&(a=44100),null==r&&(r=!0)},play:function(t,e,n,i){return null==n&&(n=0),null==e&&(e=0),null},__class__:fn};var gn=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};a["lime.audio.HTML5AudioContext"]=gn,gn.__name__=["lime","audio","HTML5AudioContext"],gn.prototype={HAVE_CURRENT_DATA:null,HAVE_ENOUGH_DATA:null,HAVE_FUTURE_DATA:null,HAVE_METADATA:null,HAVE_NOTHING:null,NETWORK_EMPTY:null,NETWORK_IDLE:null,NETWORK_LOADING:null,NETWORK_NO_SOURCE:null,canPlayType:function(t,e){return null!=t.src?t.src.canPlayType(e):null},createBuffer:function(t){var e=new _n;return e.src=new Audio,e.src.src=t,e},getAutoplay:function(t){return null!=t.src&&t.src.autoplay},getBuffered:function(t){return null!=t.src?t.src.buffered:null},getCurrentSrc:function(t){return null!=t.src?t.src.currentSrc:null},getCurrentTime:function(t){return null!=t.src?t.src.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.src?t.src.defaultPlaybackRate:1},getDuration:function(t){return null!=t.src?t.src.duration:0},getEnded:function(t){return null!=t.src&&t.src.ended},getError:function(t){return null!=t.src?t.src.error:null},getLoop:function(t){return null!=t.src&&t.src.loop},getMuted:function(t){return null!=t.src&&t.src.muted},getNetworkState:function(t){return null!=t.src?t.src.networkState:0},getPaused:function(t){return null!=t.src&&t.src.paused},getPlaybackRate:function(t){return null!=t.src?t.src.playbackRate:1},getPlayed:function(t){return null!=t.src?t.src.played:null},getPreload:function(t){return null!=t.src?t.src.preload:null},getReadyState:function(t){return null!=t.src?t.src.readyState:0},getSeekable:function(t){return null!=t.src?t.src.seekable:null},getSeeking:function(t){return null!=t.src&&t.src.seeking},getSrc:function(t){return null!=t.src?t.src.src:null},getStartTime:function(t){return null!=t.src?t.src.playbackRate:0},getVolume:function(t){return null!=t.src?t.src.volume:1},load:function(t){null==t.src||t.src.load()},pause:function(t){null==t.src||t.src.pause()},play:function(t){null==t.src||t.src.play()},setAutoplay:function(t,e){null!=t.src&&(t.src.autoplay=e)},setCurrentTime:function(t,e){null!=t.src&&(t.src.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.src&&(t.src.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.src&&(t.src.loop=e)},setMuted:function(t,e){null!=t.src&&(t.src.muted=e)},setPlaybackRate:function(t,e){null!=t.src&&(t.src.playbackRate=e)},setPreload:function(t,e){null!=t.src&&(t.src.preload=e)},setSrc:function(t,e){null!=t.src&&(t.src.src=e)},setVolume:function(t,e){null!=t.src&&(t.src.volume=e)},__class__:gn};var pn=function(){};a["lime.audio.openal.AL"]=pn,pn.__name__=["lime","audio","openal","AL"],pn.bufferData=function(t,e,n,i,r){},pn.buffer3f=function(t,e,n,i,r){},pn.buffer3i=function(t,e,n,i,r){},pn.bufferf=function(t,e,n){},pn.bufferfv=function(t,e,n){},pn.bufferi=function(t,e,n){},pn.bufferiv=function(t,e,n){},pn.deleteBuffer=function(t){},pn.deleteBuffers=function(t){},pn.deleteSource=function(t){},pn.deleteSources=function(t){},pn.disable=function(t){},pn.distanceModel=function(t){},pn.dopplerFactor=function(t){},pn.dopplerVelocity=function(t){},pn.enable=function(t){},pn.genSource=function(){return 0},pn.genSources=function(t){return null},pn.genBuffer=function(){return 0},pn.genBuffers=function(t){return null},pn.getBoolean=function(t){return!1},pn.getBooleanv=function(t,e){return null==e&&(e=1),null},pn.getBuffer3f=function(t,e){return null},pn.getBuffer3i=function(t,e){return null},pn.getBufferf=function(t,e){return 0},pn.getBufferfv=function(t,e,n){return null==n&&(n=1),null},pn.getBufferi=function(t,e){return 0},pn.getBufferiv=function(t,e,n){return null==n&&(n=1),null},pn.getDouble=function(t){return 0},pn.getDoublev=function(t,e){return null==e&&(e=1),null},pn.getEnumValue=function(t){return 0},pn.getError=function(){return 0},pn.getErrorString=function(){switch(pn.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},pn.getFloat=function(t){return 0},pn.getFloatv=function(t,e){return null==e&&(e=1),null},pn.getInteger=function(t){return 0},pn.getIntegerv=function(t,e){return null==e&&(e=1),null},pn.getListener3f=function(t){return null},pn.getListener3i=function(t){return null},pn.getListenerf=function(t){return 0},pn.getListenerfv=function(t,e){return null==e&&(e=1),null},pn.getListeneri=function(t){return 0},pn.getListeneriv=function(t,e){return null==e&&(e=1),null},pn.getProcAddress=function(t){return null},pn.getSource3f=function(t,e){return null},pn.getSourcef=function(t,e){return 0},pn.getSource3i=function(t,e){return null},pn.getSourcefv=function(t,e,n){return null==n&&(n=1),null},pn.getSourcei=function(t,e){return 0},pn.getSourceiv=function(t,e,n){return null==n&&(n=1),null},pn.getString=function(t){return null},pn.isBuffer=function(t){return!1},pn.isEnabled=function(t){return!1},pn.isExtensionPresent=function(t){return!1},pn.isSource=function(t){return!1},pn.listener3f=function(t,e,n,i){},pn.listener3i=function(t,e,n,i){},pn.listenerf=function(t,e){},pn.listenerfv=function(t,e){},pn.listeneri=function(t,e){},pn.listeneriv=function(t,e){},pn.source3f=function(t,e,n,i,r){},pn.source3i=function(t,e,n,i,r){},pn.sourcef=function(t,e,n){},pn.sourcefv=function(t,e,n){},pn.sourcei=function(t,e,n){},pn.sourceiv=function(t,e,n){},pn.sourcePlay=function(t){},pn.sourcePlayv=function(t){},pn.sourceStop=function(t){},pn.sourceStopv=function(t){},pn.sourceRewind=function(t){},pn.sourceRewindv=function(t){},pn.sourcePause=function(t){},pn.sourcePausev=function(t){},pn.sourceQueueBuffer=function(t,e){},pn.sourceQueueBuffers=function(t,e,n){},pn.sourceUnqueueBuffer=function(t){return 0},pn.sourceUnqueueBuffers=function(t,e){return null},pn.speedOfSound=function(t){};var mn=function(){};a["lime.audio.openal.ALC"]=mn,mn.__name__=["lime","audio","openal","ALC"],mn.closeDevice=function(t){return!1},mn.createContext=function(t,e){return null},mn.destroyContext=function(t){},mn.getContextsDevice=function(t){return null},mn.getCurrentContext=function(){return null},mn.getError=function(t){return 0},mn.getErrorString=function(t){switch(mn.getError(t)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},mn.getIntegerv=function(t,e,n){return null},mn.getString=function(t,e){return null},mn.makeContextCurrent=function(t){return!1},mn.openDevice=function(t){return null},mn.processContext=function(t){},mn.suspendContext=function(t){};var vn={};a["lime.audio.openal._ALContext.ALContext_Impl_"]=vn,vn.__name__=["lime","audio","openal","_ALContext","ALContext_Impl_"],vn._new=function(t){return t};var xn={};a["lime.audio.openal._ALDevice.ALDevice_Impl_"]=xn,xn.__name__=["lime","audio","openal","_ALDevice","ALDevice_Impl_"],xn._new=function(t){return t};var yn=function(){};a["lime.graphics.ConsoleRenderContext"]=yn,yn.__name__=["lime","graphics","ConsoleRenderContext"],yn.prototype={createIndexBuffer:function(t,e){return new On},createVertexBuffer:function(t,e){return new Un},lookupShader:function(t){return new Nn},clear:function(t,e,n,i,r,a){null==a&&(a=0),null==r&&(r=1)},bindShader:function(t){},setViewport:function(t,e,n,i,r,a){null==a&&(a=1),null==r&&(r=0)},setVertexShaderConstantF:function(t,e,n){},setVertexSource:function(t){},setIndexSource:function(t){},draw:function(t,e,n){},drawIndexed:function(t,e,n,i){},get_width:function(){return 0},get_height:function(){return 0},__class__:yn,__properties__:{get_height:"get_height",get_width:"get_width"}};var wn=function(){};a["lime.graphics.FlashRenderContext"]=wn,wn.__name__=["lime","graphics","FlashRenderContext"],wn.prototype={accessibilityImplementation:null,accessibilityProperties:null,alpha:null,blendMode:null,blendShader:null,buttonMode:null,cacheAsBitmap:null,contextMenu:null,doubleClickEnabled:null,dropTarget:null,filters:null,focusRect:null,graphics:null,height:null,hitArea:null,loaderInfo:null,mask:null,mouseChildren:null,mouseEnabled:null,mouseX:null,mouseY:null,name:null,needsSoftKeyboard:null,numChildren:null,opaqueBackground:null,parent:null,root:null,rotation:null,rotationX:null,rotationY:null,rotationZ:null,scale9Grid:null,scaleX:null,scaleY:null,scaleZ:null,scrollRect:null,softKeyboardInputAreaOfInterest:null,soundTransform:null,stage:null,tabChildren:null,tabEnabled:null,tabIndex:null,textSnapshot:null,transform:null,useHandCursor:null,visible:null,width:null,x:null,y:null,z:null,addChild:function(t){return null},addChildAt:function(t,e){return null},addEventListener:function(t,e,n,i,r){null==r&&(r=!1),null==i&&(i=0),null==n&&(n=!1)},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){return!1},dispatchEvent:function(t){return!1},getBounds:function(t){return null},getChildAt:function(t){return null},getChildByName:function(t){return null},getChildIndex:function(t){return 0},getObjectsUnderPoint:function(t){return null},getRect:function(t){return null},globalToLocal:function(t){return null},globalToLocal3D:function(t){return null},hasEventListener:function(t){return!1},hitTestObject:function(t){return!1},hitTestPoint:function(t,e,n){return null==n&&(n=!1),!1},local3DToGlobal:function(t){return null},localToGlobal:function(t){return null},removeChild:function(t){return null},removeChildAt:function(t){return null},removeChildren:function(t,e){null==e&&(e=2147483647),null==t&&(t=0)},removeEventListener:function(t,e,n){null==n&&(n=!1)},requestSoftKeyboard:function(){return!1},setChildIndex:function(t,e){},startDrag:function(t,e){null==t&&(t=!1)},startTouchDrag:function(t,e,n){null==e&&(e=!1)},stopAllMovieClips:function(){},stopDrag:function(){},stopTouchDrag:function(t){},swapChildren:function(t,e){},swapChildrenAt:function(t,e){},toString:function(){return null},willTrigger:function(t){return!1},__class__:wn};var bn=function(t,e,n,i,r,a,s){if(null==r&&(r=-1),null==i&&(i=-1),null==n&&(n=0),null==e&&(e=0),this.offsetX=e,this.offsetY=n,this.width=i,this.height=r,null==s)if(null!=Ge.current&&null!=Ge.current.renderers[0]){var l;switch(Ge.current.renderers[0].context[1]){case 1:case 2:l=Rn.CANVAS;break;case 3:l=Rn.FLASH;break;default:l=Rn.DATA}this.type=l}else this.type=Rn.DATA;else this.type=s;if(null==t){if(i>0&&r>0)switch(this.type[1]){case 0:this.buffer=new Tn(null,i,r),zn.createCanvas(this,i,r),null!=a&&this.fillRect(new Qn(0,0,i,r),a);break;case 1:var o,h=i*r*4;o=null!=h?new bo(h):null,this.buffer=new Tn(o,i,r),null!=a&&this.fillRect(new Qn(0,0,i,r),a)}}else this.__fromImageBuffer(t)};a["lime.graphics.Image"]=bn,bn.__name__=["lime","graphics","Image"],bn.__base64Encoder=null,bn.fromBase64=function(t,e,n){if(null==t)return null;var i=new bn;return i.__fromBase64(t,e,n),i},bn.fromBitmapData=function(t){return null==t?null:t.image},bn.fromBytes=function(t,e){if(null==t)return null;var n=new bn;return n.__fromBytes(t,e),n},bn.fromCanvas=function(t){if(null==t)return null;var e=new Tn(null,t.width,t.height);return e.set_src(t),new bn(e)},bn.fromFile=function(t,e,n){var i=new bn;return i.__fromFile(t,e,n),i},bn.fromImageElement=function(t){if(null==t)return null;var e=new Tn(null,t.width,t.height);return e.set_src(t),new bn(e)},bn.__base64Encode=function(t){var e;switch(t.length%3){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==bn.__base64Encoder&&(bn.__base64Encoder=new _e(me.ofString(bn.__base64Chars))),bn.__base64Encoder.encodeBytes(t).toString()+e},bn.__isJPG=function(t){return 255==t.b[0]&&216==t.b[1]},bn.__isPNG=function(t){return 137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},bn.__isGIF=function(t){if(71==t.b[0]&&73==t.b[1]&&70==t.b[2]&&56==t.b[3]){var e=t.b[4];return(55==e||57==e)&&97==t.b[5]}return!1},bn.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,rect:null,type:null,width:null,x:null,y:null,clone:function(){if(null!=this.buffer){this.type==Rn.CANVAS&&null==this.buffer.__srcImage&&(zn.convertToCanvas(this),zn.sync(this,!0));var t=new bn(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t}return new bn(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:zn.colorTransform(this,t,e);break;case 1:zn.convertToData(this),jn.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),qn.__toFlashColorTransform(e))}},copyChannel:function(t,e,n,i,r){if(e=this.__clipRect(e),null!=this.buffer&&null!=e&&(r!=En.ALPHA||this.get_transparent())&&!(e.width<=0||e.height<=0))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),this.type[1]){case 0:zn.copyChannel(this,t,e,n,i,r);break;case 1:zn.convertToData(this),jn.copyChannel(this,t,e,n,i,r);break;case 2:var a;switch(i[1]){case 0:a=1;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8}var s;switch(r[1]){case 0:s=1;break;case 1:s=2;break;case 2:s=4;break;case 3:s=8}e.offset(t.offsetX,t.offsetY),n.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),n.__toFlashPoint(),a,s)}},copyPixels:function(t,e,n,i,r,a){if(null==a&&(a=!1),null!=this.buffer&&null!=t&&!(e.width<=0||e.height<=0||this.width<=0||this.height<=0))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),n.x+e.width>this.width&&(e.width=this.width-n.x),n.y+e.height>this.height&&(e.height=this.height-n.y),n.x<0&&(e.width+=n.x,e.x=-n.x,n.x=0),n.y<0&&(e.height+=n.y,e.y=-n.y,n.y=0),this.type[1]){case 0:zn.convertToCanvas(this),zn.copyPixels(this,t,e,n,i,r,a);break;case 1:zn.convertToData(this),zn.convertToData(t),jn.copyPixels(this,t,e,n,i,r,a);break;case 2:e.offset(t.offsetX,t.offsetY),n.offset(this.offsetX,this.offsetY),null!=i&&null!=r&&r.offset(i.offsetX,i.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),n.__toFlashPoint(),null!=i?i.buffer.get_src():null,null!=r?r.__toFlashPoint():null,a)}},encode:function(t,e){switch(null==e&&(e=90),null==t&&(t="png"),t){case"bmp":return Xn.encode(this);case"jpeg":case"jpg":return Hn.encode(this,e);case"png":return Vn.encode(this)}return null},fillRect:function(t,e,n){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:zn.fillRect(this,t,e,n);break;case 1:if(zn.convertToData(this),0==this.buffer.data.length)return;jn.fillRect(this,t,e,n);break;case 2:t.offset(this.offsetX,this.offsetY);var i;if(null==n){var r=e;i=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}else switch(n){case 1:i=e;break;case 2:var a=e;i=(255&a)<<24|(255&a>>8)<<16|(255&a>>16)<<8|255&a>>24;break;default:var s=e;i=(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),i)}},floodFill:function(t,e,n,i){if(null!=this.buffer)switch(this.type[1]){case 0:zn.floodFill(this,t,e,n,i);break;case 1:zn.convertToData(this),jn.floodFill(this,t,e,n,i);break;case 2:var r;if(null==i){var a=n;r=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(i){case 1:r=n;break;case 2:var s=n;r=(255&s)<<24|(255&s>>8)<<16|(255&s>>16)<<8|255&s>>24;break;default:var l=n;r=(255&l)<<24|(255&l>>24)<<16|(255&l>>16)<<8|255&l>>8}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,r)}},getColorBoundsRect:function(t,e,n,i){if(null==n&&(n=!0),null==this.buffer)return null;switch(this.type[1]){case 0:return zn.convertToData(this),jn.getColorBoundsRect(this,t,e,n,i);case 1:return jn.getColorBoundsRect(this,t,e,n,i);case 2:var r=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,n);return new Qn(r.x,r.y,r.width,r.height);default:return null}},getPixel:function(t,e,n){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return zn.getPixel(this,t,e,n);case 1:return zn.convertToData(this),jn.getPixel(this,t,e,n);case 2:var i=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY);if(null==n){return(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24}switch(n){case 1:return i;case 2:return(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;default:return(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24}break;default:return 0}},getPixel32:function(t,e,n){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return zn.getPixel32(this,t,e,n);case 1:return zn.convertToData(this),jn.getPixel32(this,t,e,n);case 2:var i=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY);if(null==n){return(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24}switch(n){case 1:return i;case 2:return(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;default:return(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24}break;default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;switch(this.type[1]){case 0:return zn.getPixels(this,t,e);case 1:return zn.convertToData(this),jn.getPixels(this,t,e);case 2:default:return null}},merge:function(t,e,n,i,r,a,s){if(null!=this.buffer&&null!=t)switch(this.type[1]){case 0:zn.convertToCanvas(this),zn.merge(this,t,e,n,i,r,a,s);break;case 1:zn.convertToData(this),zn.convertToData(t),jn.merge(this,t,e,n,i,r,a,s);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),n.__toFlashPoint(),i,r,a,s);break;default:return}},resize:function(t,e){switch(this.type[1]){case 0:zn.resize(this,t,e);break;case 1:jn.resize(this,t,e)}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer)switch(this.type[1]){case 0:zn.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new $n(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}},setPixel:function(t,e,n,i){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:zn.setPixel(this,t,e,n,i);break;case 1:zn.convertToData(this),jn.setPixel(this,t,e,n,i);break;case 2:var r;if(null==i){var a=n;r=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(i){case 1:r=n;break;case 2:var s=n;r=(255&s)<<24|(255&s>>8)<<16|(255&s>>16)<<8|255&s>>24;break;default:var l=n;r=(255&l)<<24|(255&l>>24)<<16|(255&l>>16)<<8|255&l>>8}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,r)}},setPixel32:function(t,e,n,i){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:zn.setPixel32(this,t,e,n,i);break;case 1:zn.convertToData(this),jn.setPixel32(this,t,e,n,i);break;case 2:var r;if(null==i){var a=n;r=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(i){case 1:r=n;break;case 2:var s=n;r=(255&s)<<24|(255&s>>8)<<16|(255&s>>16)<<8|255&s>>24;break;default:var l=n;r=(255&l)<<24|(255&l>>24)<<16|(255&l>>16)<<8|255&l>>8}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,r)}},setPixels:function(t,e,n){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:zn.setPixels(this,t,e,n);break;case 1:zn.convertToData(this),jn.setPixels(this,t,e,n)}},threshold:function(t,e,n,i,r,a,s,l,o){if(null==l&&(l=!1),null==s&&(s=-1),null==a&&(a=0),null==this.buffer||null==t||null==e)return 0;switch(this.type[1]){case 0:case 1:return zn.convertToData(this),jn.threshold(this,t,e,n,i,r,a,s,l,o);case 2:var h;if(null==o){var _=a;h=(255&_)<<24|(255&_>>24)<<16|(255&_>>16)<<8|255&_>>8}else switch(o){case 1:h=a;break;case 2:var u=a;h=(255&u)<<24|(255&u>>8)<<16|(255&u>>16)<<8|255&u>>24;break;default:var c=a;h=(255&c)<<24|(255&c>>24)<<16|(255&c>>16)<<8|255&c>>8}var d;if(null==o){var f=s;d=(255&f)<<24|(255&f>>24)<<16|(255&f>>16)<<8|255&f>>8}else switch(o){case 1:d=s;break;case 2:var g=s;d=(255&g)<<24|(255&g>>8)<<16|(255&g>>16)<<8|255&g>>24;break;default:var p=s;d=(255&p)<<24|(255&p>>24)<<16|(255&p>>16)<<8|255&p>>8}return e.offset(t.offsetX,t.offsetY),n.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),n.__toFlashPoint(),i,r,h,d,l)}return 0},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,n){var i=this,r=new Image;r.crossOrigin="Anonymous";r.addEventListener("load",function(t){i.buffer=new Tn(null,r.width,r.height),i.buffer.__srcImage=r,i.offsetX=0,i.offsetY=0,i.width=i.buffer.width,i.height=i.buffer.height,null!=n&&n(i)},!1),r.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var n="";if(bn.__isPNG(t))n="image/png";else if(bn.__isJPG(t))n="image/jpeg";else{if(!bn.__isGIF(t))throw new Ee("Image tried to read PNG/JPG Bytes, but found an invalid header.");n="image/gif"}this.__fromBase64(bn.__base64Encode(t),n,e)},__fromFile:function(t,e,n){var i=this,r=new Image;r.crossOrigin="Anonymous",r.onload=function(t){i.buffer=new Tn(null,r.width,r.height),i.buffer.__srcImage=r,i.width=r.width,i.height=r.height,null!=e&&e(i)},r.onerror=function(t){null!=n&&n()},r.src=t;r.complete},__fromImageBuffer:function(t){this.buffer=t,null!=t&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&this.buffer.width>0&&this.buffer.height>0&&(zn.convertToCanvas(this),zn.sync(this,!1),zn.createImageData(this)),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){return this.buffer.format!=t&&1==this.type[1]&&jn.setFormat(this,t),this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&(0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height)},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,n=1;e<this.buffer.width;)e<<=1;for(;n<this.buffer.height;)n<<=1;switch(this.type[1]){case 0:break;case 1:jn.resizeBuffer(this,e,n)}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){return t&&!this.buffer.premultiplied?1==this.type[1]&&(zn.convertToData(this),jn.multiplyAlpha(this)):!t&&this.buffer.premultiplied&&1==this.type[1]&&(zn.convertToData(this),jn.unmultiplyAlpha(this)),t},get_rect:function(){return new Qn(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&zn.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:bn,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var Tn=function(t,e,n,i,r){null==i&&(i=32),null==n&&(n=0),null==e&&(e=0),this.data=t,this.width=e,this.height=n,this.bitsPerPixel=i,this.format=null==r?0:r,this.transparent=!0};a["lime.graphics.ImageBuffer"]=Tn,Tn.__name__=["lime","graphics","ImageBuffer"],Tn.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcCustom:null,__srcImage:null,__srcImageData:null,clone:function(){var t=new Tn(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,n=this.data.byteLength;e=null!=n?new bo(n):null,t.data=e;var i,r=this.data,a=i=null!=r?new bo(r):null;t.data.set(a)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var s=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(s)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return X.__instanceof(t,Image)?this.__srcImage=t:X.__instanceof(t,HTMLCanvasElement)&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},__class__:Tn,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var En=a["lime.graphics.ImageChannel"]={__ename__:!0,__constructs__:["RED","GREEN","BLUE","ALPHA"]};En.RED=["RED",0],En.RED.toString=s,En.RED.__enum__=En,En.GREEN=["GREEN",1],En.GREEN.toString=s,En.GREEN.__enum__=En,En.BLUE=["BLUE",2],En.BLUE.toString=s,En.BLUE.__enum__=En,En.ALPHA=["ALPHA",3],En.ALPHA.toString=s,En.ALPHA.__enum__=En;var Rn=a["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Rn.CANVAS=["CANVAS",0],Rn.CANVAS.toString=s,Rn.CANVAS.__enum__=Rn,Rn.DATA=["DATA",1],Rn.DATA.toString=s,Rn.DATA.__enum__=Rn,Rn.FLASH=["FLASH",2],Rn.FLASH.toString=s,Rn.FLASH.__enum__=Rn,Rn.CUSTOM=["CUSTOM",3],Rn.CUSTOM.toString=s,Rn.CUSTOM.__enum__=Rn;var An=a["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM","NONE"]};An.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=An,e.toString=s,e},An.CANVAS=function(t){var e=["CANVAS",1,t];return e.__enum__=An,e.toString=s,e},An.DOM=function(t){var e=["DOM",2,t];return e.__enum__=An,e.toString=s,e},An.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=An,e.toString=s,e},An.CAIRO=function(t){var e=["CAIRO",4,t];return e.__enum__=An,e.toString=s,e},An.CONSOLE=function(t){var e=["CONSOLE",5,t];return e.__enum__=An,e.toString=s,e},An.CUSTOM=function(t){var e=["CUSTOM",6,t];return e.__enum__=An,e.toString=s,e},An.NONE=["NONE",7],An.NONE.toString=s,An.NONE.__enum__=An;var In=function(t){this.onRender=new De,this.onContextRestored=new Ze,this.onContextLost=new De,this.window=t,this.backend=new Oe(this),this.window.renderer=this};a["lime.graphics.Renderer"]=In,In.__name__=["lime","graphics","Renderer"],In.prototype={context:null,onContextLost:null,onContextRestored:null,onRender:null,type:null,window:null,backend:null,create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(t){return this.backend.readPixels(t)},render:function(){this.backend.render()},__class__:In};var Sn=a["lime.graphics.RendererType"]={__ename__:!0,__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM"]};Sn.OPENGL=["OPENGL",0],Sn.OPENGL.toString=s,Sn.OPENGL.__enum__=Sn,Sn.CANVAS=["CANVAS",1],Sn.CANVAS.toString=s,Sn.CANVAS.__enum__=Sn,Sn.DOM=["DOM",2],Sn.DOM.toString=s,Sn.DOM.__enum__=Sn,Sn.FLASH=["FLASH",3],Sn.FLASH.toString=s,Sn.FLASH.__enum__=Sn,Sn.CAIRO=["CAIRO",4],Sn.CAIRO.toString=s,Sn.CAIRO.__enum__=Sn,Sn.CONSOLE=["CONSOLE",5],Sn.CONSOLE.toString=s,Sn.CONSOLE.__enum__=Sn,Sn.CUSTOM=["CUSTOM",6],Sn.CUSTOM.toString=s,Sn.CUSTOM.__enum__=Sn;var Cn=function(t){};a["lime.graphics.cairo.Cairo"]=Cn,Cn.__name__=["lime","graphics","cairo","Cairo"],Cn.__properties__={get_versionString:"get_versionString",get_version:"get_version"},Cn.version=null,Cn.versionString=null,Cn.get_version=function(){return 0},Cn.get_versionString=function(){return""},Cn.prototype={target:null,userData:null,handle:null,arc:function(t,e,n,i,r){},arcNegative:function(t,e,n,i,r){},clip:function(){},clipExtents:function(t,e,n,i){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(t,e,n,i,r,a){},fill:function(){},fillExtents:function(t,e,n,i){},fillPreserve:function(){},identityMatrix:function(){},inClip:function(t,e){return!1},inFill:function(t,e){return!1},inStroke:function(t,e){return!1},lineTo:function(t,e){},moveTo:function(t,e){},mask:function(t){},maskSurface:function(t,e,n){},newPath:function(){},paint:function(){},paintWithAlpha:function(t){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(t){},recreate:function(t){},rectangle:function(t,e,n,i){},relCurveTo:function(t,e,n,i,r,a){},relLineTo:function(t,e){},relMoveTo:function(t,e){},resetClip:function(){},restore:function(){},save:function(){},setFontSize:function(t){},setSourceRGB:function(t,e,n){},setSourceRGBA:function(t,e,n,i){},setSourceSurface:function(t,e,n){},showPage:function(){},showText:function(t){},status:function(){return 0},stroke:function(){},strokeExtents:function(t,e,n,i){},strokePreserve:function(){},transform:function(t){},rotate:function(t){},scale:function(t,e){},translate:function(t,e){},get_antialias:function(){return 0},set_antialias:function(t){return t},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(t){return t},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(t){return t},get_fontFace:function(){return 0},set_fontFace:function(t){return t},get_fontOptions:function(){return null},set_fontOptions:function(t){return t},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(t){return t},get_lineJoin:function(){return 0},set_lineJoin:function(t){return t},get_lineWidth:function(){return 0},set_lineWidth:function(t){return t},get_matrix:function(){return null},set_matrix:function(t){return t},get_miterLimit:function(){return 0},set_miterLimit:function(t){return t},get_operator:function(){return 0},set_operator:function(t){return t},get_source:function(){return 0},set_source:function(t){return t},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(t){return t},__class__:Cn,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_operator:"set_operator",get_operator:"get_operator",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var Mn={};a["lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_"]=Mn,Mn.__name__=["lime","graphics","cairo","_CairoFTFontFace","CairoFTFontFace_Impl_"],Mn._new=function(){return 0},Mn.create=function(t,e){return 0};var Dn={};a["lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_"]=Dn,Dn.__name__=["lime","graphics","cairo","_CairoFontFace","CairoFontFace_Impl_"],Dn._new=function(){return null},Dn.status=function(t){return 0};var Pn={};a["lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_"]=Pn,Pn.__name__=["lime","graphics","cairo","_CairoFontOptions","CairoFontOptions_Impl_"],Pn.__properties__={set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",get_antialias:"get_antialias"},Pn._new=function(){return null},Pn.get_antialias=function(t){return 0},Pn.set_antialias=function(t,e){return e},Pn.get_hintMetrics=function(t){return 0},Pn.set_hintMetrics=function(t,e){return e},Pn.get_hintStyle=function(t){return 0},Pn.set_hintStyle=function(t,e){return e},Pn.get_subpixelOrder=function(t){return 0},Pn.set_subpixelOrder=function(t,e){return e};var Ln={};a["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=Ln,Ln.__name__=["lime","graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"],Ln.__properties__={get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"},Ln._new=function(t,e,n){return 0},Ln.create=function(t,e,n,i,r){return 0},Ln.fromImage=function(t){return null},Ln.get_data=function(t){return null},Ln.get_format=function(t){return 0},Ln.get_height=function(t){return 0},Ln.get_stride=function(t){return 0},Ln.get_width=function(t){return 0};var kn={};a["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=kn,kn.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"],kn.__properties__={set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"},kn._new=function(t){return t},kn.addColorStopRGB=function(t,e,n,i,r){},kn.addColorStopRGBA=function(t,e,n,i,r,a){},kn.createForSurface=function(t){return 0},kn.createLinear=function(t,e,n,i){return 0},kn.createRadial=function(t,e,n,i,r,a){return 0},kn.createRGB=function(t,e,n){return 0},kn.createRGBA=function(t,e,n,i){return 0},kn.get_colorStopCount=function(t){return 0},kn.get_extend=function(t){return 0},kn.set_extend=function(t,e){return e},kn.get_filter=function(t){return 0},kn.set_filter=function(t,e){return e},kn.get_matrix=function(t){return null},kn.set_matrix=function(t,e){return e};var Bn={};a["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Bn,Bn.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"],Bn.flush=function(t){};var On=function(){};a["lime.graphics.console.IndexBuffer"]=On,On.__name__=["lime","graphics","console","IndexBuffer"],On.prototype={__class__:On};var Fn=a["lime.graphics.console.Primitive"]={__ename__:!0,__constructs__:["Point","Line","LineStrip","Triangle","TriangleStrip"]};Fn.Point=["Point",0],Fn.Point.toString=s,Fn.Point.__enum__=Fn,Fn.Line=["Line",1],Fn.Line.toString=s,Fn.Line.__enum__=Fn,Fn.LineStrip=["LineStrip",2],Fn.LineStrip.toString=s,Fn.LineStrip.__enum__=Fn,Fn.Triangle=["Triangle",3],Fn.Triangle.toString=s,Fn.Triangle.__enum__=Fn,Fn.TriangleStrip=["TriangleStrip",4],Fn.TriangleStrip.toString=s,Fn.TriangleStrip.__enum__=Fn;var Nn=function(){};a["lime.graphics.console.Shader"]=Nn,Nn.__name__=["lime","graphics","console","Shader"],Nn.prototype={__class__:Nn};var Un=function(){};a["lime.graphics.console.VertexBuffer"]=Un,Un.__name__=["lime","graphics","console","VertexBuffer"],Un.prototype={lock:function(){return new Gn},unlock:function(){},__class__:Un};var Gn=function(){};a["lime.graphics.console.VertexOutput"]=Gn,Gn.__name__=["lime","graphics","console","VertexOutput"],Gn.prototype={vec2:function(t,e){},vec3:function(t,e,n){},color:function(t,e,n,i){},__class__:Gn};var Xn=function(){};a["lime.graphics.format.BMP"]=Xn,Xn.__name__=["lime","graphics","format","BMP"],Xn.encode=function(t,e){(t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null==e&&(e=Yn.RGB);var n=14,i=40,r=t.width*t.height*4;if(null!=e)switch(e[1]){case 0:r=3*t.width+3*t.width%4+3*t.height+3*t.height;break;case 1:i=108;break;case 2:n=0,r+=t.width*t.height}var a=new me(new xo(n+i+r)),s=0;if(n>0&&(a.b[s++]=66,a.b[s++]=77,a.setInt32(s,a.length),s+=4,a.setUInt16(s,0),s+=2,a.setUInt16(s,0),s+=2,a.setInt32(s,n+i),s+=4),a.setInt32(s,i),s+=4,a.setInt32(s,t.width),s+=4,a.setInt32(s,e==Yn.ICO?2*t.height:t.height),s+=4,a.setUInt16(s,1),s+=2,a.setUInt16(s,e==Yn.RGB?24:32),s+=2,a.setInt32(s,e==Yn.BITFIELD?3:0),s+=4,a.setInt32(s,r),s+=4,a.setInt32(s,11824),s+=4,a.setInt32(s,11824),s+=4,a.setInt32(s,0),s+=4,a.setInt32(s,0),s+=4,e==Yn.BITFIELD){a.setInt32(s,16711680),s+=4,a.setInt32(s,65280),s+=4,a.setInt32(s,255),s+=4,a.setInt32(s,-16777216),s+=4,a.b[s++]=32,a.b[s++]=110,a.b[s++]=105,a.b[s++]=87;for(var l=0;l<48;){l++;a.b[s++]=0}}var o,h,_,u,c=t.getPixels(new Qn(0,0,t.width,t.height),1),d=0;if(null!=e)switch(e[1]){case 0:for(var f=0,g=t.height;f<g;){var p=f++;d=4*(t.height-1-p)*t.width;for(var m=0,v=t.width;m<v;){m++;o=c.b[d++],h=c.b[d++],_=c.b[d++],u=c.b[d++],a.b[s++]=255&u,a.b[s++]=255&_,a.b[s++]=255&h}for(var x=0,y=3*t.width%4;x<y;){x++;a.b[s++]=0}}break;case 1:for(var w=0,b=t.height;w<b;){var T=w++;d=4*(t.height-1-T)*t.width;for(var E=0,R=t.width;E<R;){E++;o=c.b[d++],h=c.b[d++],_=c.b[d++],u=c.b[d++],a.b[s++]=255&u,a.b[s++]=255&_,a.b[s++]=255&h,a.b[s++]=255&o}}break;case 2:for(var A=new me(new xo(t.width*t.height)),I=0,S=0,C=t.height;S<C;){var M=S++;d=4*(t.height-1-M)*t.width;for(var D=0,P=t.width;D<P;){D++;o=c.b[d++],h=c.b[d++],_=c.b[d++],u=c.b[d++],a.b[s++]=255&u,a.b[s++]=255&_,a.b[s++]=255&h,a.b[s++]=255&o,A.b[I++]=0}}a.blit(s,A,0,t.width*t.height)}return a};var Yn=a["lime.graphics.format.BMPType"]={__ename__:!0,__constructs__:["RGB","BITFIELD","ICO"]};Yn.RGB=["RGB",0],Yn.RGB.toString=s,Yn.RGB.__enum__=Yn,Yn.BITFIELD=["BITFIELD",1],Yn.BITFIELD.toString=s,Yn.BITFIELD.__enum__=Yn,Yn.ICO=["ICO",2],Yn.ICO.toString=s,Yn.ICO.__enum__=Yn;var Hn=function(){};a["lime.graphics.format.JPEG"]=Hn,Hn.__name__=["lime","graphics","format","JPEG"],Hn.decodeBytes=function(t,e){return null==e&&(e=!0),null},Hn.decodeFile=function(t,e){return null==e&&(e=!0),null},Hn.encode=function(t,e){if((t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),zn.sync(t,!1),null!=t.buffer.__srcCanvas){for(var n=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),i=window.atob(n.split(";base64,")[1]),r=new me(new xo(i.length)),a=0,s=i.length;a<s;){var l=a++,o=I.cca(i,l);r.b[l]=255&o}return r}return null};var Vn=function(){};a["lime.graphics.format.PNG"]=Vn,Vn.__name__=["lime","graphics","format","PNG"],Vn.decodeBytes=function(t,e){return null==e&&(e=!0),null},Vn.decodeFile=function(t,e){return null==e&&(e=!0),null},Vn.encode=function(t){return(t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null};var Wn=function(){};a["lime.graphics.opengl.GL"]=Wn,Wn.__name__=["lime","graphics","opengl","GL"],Wn.__properties__={get_version:"get_version"},Wn.version=null,Wn.context=null,Wn.activeTexture=function(t){Wn.context.activeTexture(t)},Wn.attachShader=function(t,e){Wn.context.attachShader(t,e)},Wn.bindAttribLocation=function(t,e,n){Wn.context.bindAttribLocation(t,e,n)},Wn.bindBuffer=function(t,e){Wn.context.bindBuffer(t,e)},Wn.bindFramebuffer=function(t,e){Wn.context.bindFramebuffer(t,e)},Wn.bindRenderbuffer=function(t,e){Wn.context.bindRenderbuffer(t,e)},Wn.bindTexture=function(t,e){Wn.context.bindTexture(t,e)},Wn.blendColor=function(t,e,n,i){Wn.context.blendColor(t,e,n,i)},Wn.blendEquation=function(t){Wn.context.blendEquation(t)},Wn.blendEquationSeparate=function(t,e){Wn.context.blendEquationSeparate(t,e)},Wn.blendFunc=function(t,e){Wn.context.blendFunc(t,e)},Wn.blendFuncSeparate=function(t,e,n,i){Wn.context.blendFuncSeparate(t,e,n,i)},Wn.bufferData=function(t,e,n){Wn.context.bufferData(t,e,n)},Wn.bufferSubData=function(t,e,n){Wn.context.bufferSubData(t,e,n)},Wn.checkFramebufferStatus=function(t){return Wn.context.checkFramebufferStatus(t)},Wn.clear=function(t){Wn.context.clear(t)},Wn.clearColor=function(t,e,n,i){Wn.context.clearColor(t,e,n,i)},Wn.clearDepth=function(t){Wn.context.clearDepth(t)},Wn.clearStencil=function(t){Wn.context.clearStencil(t)},Wn.colorMask=function(t,e,n,i){Wn.context.colorMask(t,e,n,i)},Wn.compileShader=function(t){Wn.context.compileShader(t)},Wn.compressedTexImage2D=function(t,e,n,i,r,a,s){Wn.context.compressedTexImage2D(t,e,n,i,r,a,s)},Wn.compressedTexSubImage2D=function(t,e,n,i,r,a,s,l){Wn.context.compressedTexSubImage2D(t,e,n,i,r,a,s,l)},Wn.copyTexImage2D=function(t,e,n,i,r,a,s,l){Wn.context.copyTexImage2D(t,e,n,i,r,a,s,l)},Wn.copyTexSubImage2D=function(t,e,n,i,r,a,s,l){Wn.context.copyTexSubImage2D(t,e,n,i,r,a,s,l)},Wn.createBuffer=function(){return Wn.context.createBuffer()},Wn.createFramebuffer=function(){return Wn.context.createFramebuffer()},Wn.createProgram=function(){return Wn.context.createProgram()},Wn.createRenderbuffer=function(){return Wn.context.createRenderbuffer()},Wn.createShader=function(t){return Wn.context.createShader(t)},Wn.createTexture=function(){return Wn.context.createTexture()},Wn.cullFace=function(t){Wn.context.cullFace(t)},Wn.deleteBuffer=function(t){Wn.context.deleteBuffer(t)},Wn.deleteFramebuffer=function(t){Wn.context.deleteFramebuffer(t)},Wn.deleteProgram=function(t){Wn.context.deleteProgram(t)},Wn.deleteRenderbuffer=function(t){Wn.context.deleteRenderbuffer(t)},Wn.deleteShader=function(t){Wn.context.deleteShader(t)},Wn.deleteTexture=function(t){Wn.context.deleteTexture(t)},Wn.depthFunc=function(t){Wn.context.depthFunc(t)},Wn.depthMask=function(t){Wn.context.depthMask(t)},Wn.depthRange=function(t,e){Wn.context.depthRange(t,e)},Wn.detachShader=function(t,e){Wn.context.detachShader(t,e)},Wn.disable=function(t){Wn.context.disable(t)},Wn.disableVertexAttribArray=function(t){Wn.context.disableVertexAttribArray(t)},Wn.drawArrays=function(t,e,n){Wn.context.drawArrays(t,e,n)},Wn.drawElements=function(t,e,n,i){Wn.context.drawElements(t,e,n,i)},Wn.enable=function(t){Wn.context.enable(t)},Wn.enableVertexAttribArray=function(t){Wn.context.enableVertexAttribArray(t)},Wn.finish=function(){Wn.context.finish()},Wn.flush=function(){Wn.context.flush()},Wn.framebufferRenderbuffer=function(t,e,n,i){Wn.context.framebufferRenderbuffer(t,e,n,i)},Wn.framebufferTexture2D=function(t,e,n,i,r){Wn.context.framebufferTexture2D(t,e,n,i,r)},Wn.frontFace=function(t){Wn.context.frontFace(t)},Wn.generateMipmap=function(t){Wn.context.generateMipmap(t)},Wn.getActiveAttrib=function(t,e){return Wn.context.getActiveAttrib(t,e)},Wn.getActiveUniform=function(t,e){return Wn.context.getActiveUniform(t,e)},Wn.getAttachedShaders=function(t){return Wn.context.getAttachedShaders(t)},Wn.getAttribLocation=function(t,e){return Wn.context.getAttribLocation(t,e)},Wn.getBufferParameter=function(t,e){return Wn.context.getBufferParameter(t,e)},Wn.getContextAttributes=function(){return Wn.context.getContextAttributes()},Wn.getError=function(){return Wn.context.getError()},Wn.getExtension=function(t){return Wn.context.getExtension(t)},Wn.getFramebufferAttachmentParameter=function(t,e,n){return Wn.context.getFramebufferAttachmentParameter(t,e,n)},Wn.getParameter=function(t){return Wn.context.getParameter(t)},Wn.getProgramInfoLog=function(t){return Wn.context.getProgramInfoLog(t)},Wn.getProgramParameter=function(t,e){return Wn.context.getProgramParameter(t,e)},Wn.getRenderbufferParameter=function(t,e){return Wn.context.getRenderbufferParameter(t,e)},Wn.getShaderInfoLog=function(t){return Wn.context.getShaderInfoLog(t)},Wn.getShaderParameter=function(t,e){return Wn.context.getShaderParameter(t,e)},Wn.getShaderPrecisionFormat=function(t,e){return Wn.context.getShaderPrecisionFormat(t,e)},Wn.getShaderSource=function(t){return Wn.context.getShaderSource(t)},Wn.getSupportedExtensions=function(){return Wn.context.getSupportedExtensions()},Wn.getTexParameter=function(t,e){return Wn.context.getTexParameter(t,e)},Wn.getUniform=function(t,e){return Wn.context.getUniform(t,e)},Wn.getUniformLocation=function(t,e){return Wn.context.getUniformLocation(t,e)},Wn.getVertexAttrib=function(t,e){return Wn.context.getVertexAttrib(t,e)},Wn.getVertexAttribOffset=function(t,e){return Wn.context.getVertexAttribOffset(t,e)},Wn.hint=function(t,e){Wn.context.hint(t,e)},Wn.isBuffer=function(t){return Wn.context.isBuffer(t)},Wn.isContextLost=function(){return Wn.context.isContextLost()},Wn.isEnabled=function(t){return Wn.context.isEnabled(t)},Wn.isFramebuffer=function(t){return Wn.context.isFramebuffer(t)},Wn.isProgram=function(t){return Wn.context.isProgram(t)},Wn.isRenderbuffer=function(t){return Wn.context.isRenderbuffer(t)},Wn.isShader=function(t){return Wn.context.isShader(t)},Wn.isTexture=function(t){return Wn.context.isTexture(t)},Wn.lineWidth=function(t){Wn.context.lineWidth(t)},Wn.linkProgram=function(t){Wn.context.linkProgram(t)},Wn.pixelStorei=function(t,e){Wn.context.pixelStorei(t,e)},Wn.polygonOffset=function(t,e){Wn.context.polygonOffset(t,e)},Wn.readPixels=function(t,e,n,i,r,a,s){Wn.context.readPixels(t,e,n,i,r,a,s)},Wn.renderbufferStorage=function(t,e,n,i){Wn.context.renderbufferStorage(t,e,n,i)},Wn.sampleCoverage=function(t,e){Wn.context.sampleCoverage(t,e)},Wn.scissor=function(t,e,n,i){Wn.context.scissor(t,e,n,i)},Wn.shaderSource=function(t,e){Wn.context.shaderSource(t,e)},Wn.stencilFunc=function(t,e,n){Wn.context.stencilFunc(t,e,n)},Wn.stencilFuncSeparate=function(t,e,n,i){Wn.context.stencilFuncSeparate(t,e,n,i)},Wn.stencilMask=function(t){Wn.context.stencilMask(t)},Wn.stencilMaskSeparate=function(t,e){Wn.context.stencilMaskSeparate(t,e)},Wn.stencilOp=function(t,e,n){Wn.context.stencilOp(t,e,n)},Wn.stencilOpSeparate=function(t,e,n,i){Wn.context.stencilOpSeparate(t,e,n,i)},Wn.texImage2D=function(t,e,n,i,r,a,s,l,o){Wn.context.texImage2D(t,e,n,i,r,a,s,l,o)},Wn.texParameterf=function(t,e,n){Wn.context.texParameterf(t,e,n)},Wn.texParameteri=function(t,e,n){Wn.context.texParameteri(t,e,n)},Wn.texSubImage2D=function(t,e,n,i,r,a,s,l,o){Wn.context.texSubImage2D(t,e,n,i,r,a,s,l,o)},Wn.uniform1f=function(t,e){Wn.context.uniform1f(t,e)},Wn.uniform1fv=function(t,e){Wn.context.uniform1fv(t,e)},Wn.uniform1i=function(t,e){Wn.context.uniform1i(t,e)},Wn.uniform1iv=function(t,e){Wn.context.uniform1iv(t,e)},Wn.uniform2f=function(t,e,n){Wn.context.uniform2f(t,e,n)},Wn.uniform2fv=function(t,e){Wn.context.uniform2fv(t,e)},Wn.uniform2i=function(t,e,n){Wn.context.uniform2i(t,e,n)},Wn.uniform2iv=function(t,e){Wn.context.uniform2iv(t,e)},Wn.uniform3f=function(t,e,n,i){Wn.context.uniform3f(t,e,n,i)},Wn.uniform3fv=function(t,e){Wn.context.uniform3fv(t,e)},Wn.uniform3i=function(t,e,n,i){Wn.context.uniform3i(t,e,n,i)},Wn.uniform3iv=function(t,e){Wn.context.uniform3iv(t,e)},Wn.uniform4f=function(t,e,n,i,r){Wn.context.uniform4f(t,e,n,i,r)},Wn.uniform4fv=function(t,e){Wn.context.uniform4fv(t,e)},Wn.uniform4i=function(t,e,n,i,r){Wn.context.uniform4i(t,e,n,i,r)},Wn.uniform4iv=function(t,e){Wn.context.uniform4iv(t,e)},Wn.uniformMatrix2fv=function(t,e,n){Wn.context.uniformMatrix2fv(t,e,n)},Wn.uniformMatrix3fv=function(t,e,n){Wn.context.uniformMatrix3fv(t,e,n)},Wn.uniformMatrix4fv=function(t,e,n){Wn.context.uniformMatrix4fv(t,e,n)},Wn.useProgram=function(t){Wn.context.useProgram(t)},Wn.validateProgram=function(t){Wn.context.validateProgram(t)},Wn.vertexAttrib1f=function(t,e){Wn.context.vertexAttrib1f(t,e)},Wn.vertexAttrib1fv=function(t,e){Wn.context.vertexAttrib1fv(t,e)},Wn.vertexAttrib2f=function(t,e,n){Wn.context.vertexAttrib2f(t,e,n)},Wn.vertexAttrib2fv=function(t,e){Wn.context.vertexAttrib2fv(t,e)},Wn.vertexAttrib3f=function(t,e,n,i){Wn.context.vertexAttrib3f(t,e,n,i)},Wn.vertexAttrib3fv=function(t,e){Wn.context.vertexAttrib3fv(t,e)},Wn.vertexAttrib4f=function(t,e,n,i,r){Wn.context.vertexAttrib4f(t,e,n,i,r)},Wn.vertexAttrib4fv=function(t,e){Wn.context.vertexAttrib4fv(t,e)},Wn.vertexAttribPointer=function(t,e,n,i,r,a){Wn.context.vertexAttribPointer(t,e,n,i,r,a)},Wn.viewport=function(t,e,n,i){Wn.context.viewport(t,e,n,i)},Wn.get_version=function(){return 2};var zn=function(){};a["lime.graphics.utils.ImageCanvasUtil"]=zn,zn.__name__=["lime","graphics","utils","ImageCanvasUtil"],zn.colorTransform=function(t,e,n){zn.convertToCanvas(t),zn.createImageData(t),jn.colorTransform(t,e,n)},zn.convertToCanvas=function(t){var e=t.buffer;null!=e.__srcImage?(null==e.__srcCanvas&&(zn.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(zn.createCanvas(t,e.width,e.height),zn.createImageData(t)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},zn.convertToData=function(t){null==t.buffer.data&&(zn.convertToCanvas(t),zn.sync(t,!1),zn.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},zn.copyChannel=function(t,e,n,i,r,a){zn.convertToCanvas(e),zn.createImageData(e),zn.convertToCanvas(t),zn.createImageData(t),jn.copyChannel(t,e,n,i,r,a)},zn.copyPixels=function(t,e,n,i,r,a,s){if(null==s&&(s=!1),!(null==i||i.x>=t.width||i.y>=t.height||null==n||n.width<1||n.height<1)){if(null!=r&&r.get_transparent()){null==a&&(a=new $n);var l=t.clone();l.copyChannel(r,new Qn(a.x,a.y,n.width,n.height),new $n(n.x,n.y),En.ALPHA,En.ALPHA),e=l}zn.sync(t,!0),s||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(i.x+t.offsetX,i.y+t.offsetY,n.width+t.offsetX,n.height+t.offsetY),zn.sync(e,!1),null!=e.buffer.get_src()&&t.buffer.__srcContext.drawImage(e.buffer.get_src(),n.x+e.offsetX|0,n.y+e.offsetY|0,0|n.width,0|n.height,i.x+t.offsetX|0,i.y+t.offsetY|0,0|n.width,0|n.height)}},zn.createCanvas=function(t,e,n){var i=t.buffer;null==i.__srcCanvas&&(i.__srcCanvas=window.document.createElement("canvas"),i.__srcCanvas.width=e,i.__srcCanvas.height=n,t.get_transparent()?i.__srcContext=i.__srcCanvas.getContext("2d"):(t.get_transparent()||i.__srcCanvas.setAttribute("moz-opaque","true"),i.__srcContext=i.__srcCanvas.getContext("2d",{alpha:!1})),i.__srcContext.mozImageSmoothingEnabled=!1,i.__srcContext.msImageSmoothingEnabled=!1,i.__srcContext.imageSmoothingEnabled=!1)},zn.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var n,i=e.__srcImageData.data.buffer;n=null!=i?new bo(i):null,e.data=n}},zn.fillRect=function(t,e,n,i){if(zn.convertToCanvas(t),zn.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&n))t.buffer.__srcCanvas.width=t.buffer.width;else{var r,a,s,l;1==i?(r=n>>16&255,a=n>>8&255,s=255&n,l=t.get_transparent()?n>>24&255:255):(r=n>>24&255,a=n>>16&255,s=n>>8&255,l=t.get_transparent()?255&n:255),t.buffer.__srcContext.fillStyle="rgba("+r+", "+a+", "+s+", "+l/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY)}},zn.floodFill=function(t,e,n,i,r){zn.convertToCanvas(t),zn.createImageData(t),jn.floodFill(t,e,n,i,r)},zn.getPixel=function(t,e,n,i){return zn.convertToCanvas(t),zn.createImageData(t),jn.getPixel(t,e,n,i)},zn.getPixel32=function(t,e,n,i){return zn.convertToCanvas(t),zn.createImageData(t),jn.getPixel32(t,e,n,i)},zn.getPixels=function(t,e,n){return zn.convertToCanvas(t),zn.createImageData(t),jn.getPixels(t,e,n)},zn.merge=function(t,e,n,i,r,a,s,l){zn.convertToCanvas(e),zn.createImageData(e),zn.convertToCanvas(t),zn.createImageData(t),jn.merge(t,e,n,i,r,a,s,l)},zn.resize=function(t,e,n){var i=t.buffer;if(null==i.__srcCanvas)zn.createCanvas(t,e,n),i.__srcContext.drawImage(i.get_src(),0,0,e,n);else{zn.sync(t,!0);var r=i.__srcCanvas;i.__srcCanvas=null,zn.createCanvas(t,e,n),i.__srcContext.drawImage(r,0,0,e,n)}},zn.scroll=function(t,e,n){e%t.width==0&&n%t.height==0||(zn.convertToCanvas(t),zn.sync(t,!0),t.buffer.__srcContext.clearRect(e,n,t.width,t.height),t.buffer.__srcContext.drawImage(t.buffer.__srcCanvas,e,n))},zn.setPixel=function(t,e,n,i,r){zn.convertToCanvas(t),zn.createImageData(t),jn.setPixel(t,e,n,i,r)},zn.setPixel32=function(t,e,n,i,r){zn.convertToCanvas(t),zn.createImageData(t),jn.setPixel32(t,e,n,i,r)},zn.setPixels=function(t,e,n,i){zn.convertToCanvas(t),zn.createImageData(t),jn.setPixels(t,e,n,i)},zn.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=Rn.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var jn=function(){};a["lime.graphics.utils.ImageDataUtil"]=jn,jn.__name__=["lime","graphics","utils","ImageDataUtil"],jn.colorTransform=function(t,e,n){var i=t.buffer.data;if(null!=i){for(var r,a,s,l=t.buffer.format,o=t.buffer.premultiplied,h=new Kn(t,e),_=qn.getAlphaTable(n),u=qn.getRedTable(n),c=qn.getGreenTable(n),d=qn.getBlueTable(n),f=0,g=h.height;f<g;){var p=f++;r=h.offset+h.stride*p;for(var m=0,v=h.width;m<v;){switch(a=r+4*m++,l){case 0:s=(255&i[a])<<24|(255&i[a+1])<<16|(255&i[a+2])<<8|255&i[a+3];break;case 1:s=(255&i[a+1])<<24|(255&i[a+2])<<16|(255&i[a+3])<<8|255&i[a];break;case 2:s=(255&i[a+2])<<24|(255&i[a+1])<<16|(255&i[a])<<8|255&i[a+3]}switch(o&&0!=(255&s)&&255!=(255&s)&&(ii.unmult=255/(255&s),s=(255&ii.__clamp[Math.round((s>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((s>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((s>>8&255)*ii.unmult)])<<8|255&s),s=(255&u[s>>24&255])<<24|(255&c[s>>16&255])<<16|(255&d[s>>8&255])<<8|255&_[255&s],o&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(ii.a16=ii.__alpha16[255&s],s=((s>>24&255)*ii.a16>>16&255)<<24|((s>>16&255)*ii.a16>>16&255)<<16|((s>>8&255)*ii.a16>>16&255)<<8|255&s)),l){case 0:i[a]=s>>24&255,i[a+1]=s>>16&255,i[a+2]=s>>8&255,i[a+3]=255&s;break;case 1:i[a]=255&s,i[a+1]=s>>24&255,i[a+2]=s>>16&255,i[a+3]=s>>8&255;break;case 2:i[a]=s>>8&255,i[a+1]=s>>16&255,i[a+2]=s>>24&255,i[a+3]=255&s}}}t.dirty=!0}},jn.copyChannel=function(t,e,n,i,r,a){var s;switch(a[1]){case 0:s=0;break;case 1:s=1;break;case 2:s=2;break;case 3:s=3}var l;switch(r[1]){case 0:l=0;break;case 1:l=1;break;case 2:l=2;break;case 3:l=3}var o=e.buffer.data,h=t.buffer.data;if(null!=o&&null!=h){for(var _,u,c,d,f=new Kn(e,n),g=new Kn(t,new Qn(i.x,i.y,f.width,f.height)),p=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,x=t.buffer.premultiplied,y=0,w=0,b=g.height;w<b;){var T=w++;_=f.offset+f.stride*T,u=g.offset+g.stride*T;for(var E=0,R=g.width;E<R;){E++;switch(p){case 0:c=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:c=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:c=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(v&&0!=(255&c)&&255!=(255&c)&&(ii.unmult=255/(255&c),c=(255&ii.__clamp[Math.round((c>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((c>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((c>>8&255)*ii.unmult)])<<8|255&c),m){case 0:d=(255&h[u])<<24|(255&h[u+1])<<16|(255&h[u+2])<<8|255&h[u+3];break;case 1:d=(255&h[u+1])<<24|(255&h[u+2])<<16|(255&h[u+3])<<8|255&h[u];break;case 2:d=(255&h[u+2])<<24|(255&h[u+1])<<16|(255&h[u])<<8|255&h[u+3]}switch(x&&0!=(255&d)&&255!=(255&d)&&(ii.unmult=255/(255&d),d=(255&ii.__clamp[Math.round((d>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((d>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((d>>8&255)*ii.unmult)])<<8|255&d),l){case 0:y=c>>24&255;break;case 1:y=c>>16&255;break;case 2:y=c>>8&255;break;case 3:y=255&c}switch(s){case 0:d=(255&y)<<24|(255&d>>16)<<16|(255&d>>8)<<8|255&d;break;case 1:d=(255&d>>24)<<24|(255&y)<<16|(255&d>>8)<<8|255&d;break;case 2:d=(255&d>>24)<<24|(255&d>>16)<<16|(255&y)<<8|255&d;break;case 3:d=(255&d>>24)<<24|(255&d>>16)<<16|(255&d>>8)<<8|255&y}switch(x&&(0==(255&d)?0!=d&&(d=0):255!=(255&d)&&(ii.a16=ii.__alpha16[255&d],d=((d>>24&255)*ii.a16>>16&255)<<24|((d>>16&255)*ii.a16>>16&255)<<16|((d>>8&255)*ii.a16>>16&255)<<8|255&d)),m){case 0:h[u]=d>>24&255,h[u+1]=d>>16&255,h[u+2]=d>>8&255,h[u+3]=255&d;break;case 1:h[u]=255&d,h[u+1]=d>>24&255,h[u+2]=d>>16&255,h[u+3]=d>>8&255;break;case 2:h[u]=d>>8&255,h[u+1]=d>>16&255,h[u+2]=d>>24&255,h[u+3]=255&d}_+=4,u+=4}}t.dirty=!0}},jn.copyPixels=function(t,e,n,i,r,a,s){null==s&&(s=!1);var l=e.buffer.data,o=t.buffer.data;if(null!=l&&null!=o){var h,_,u,c=new Kn(e,n),d=new Kn(t,new Qn(i.x,i.y,c.width,c.height)),f=e.buffer.format,g=t.buffer.format,p=e.buffer.premultiplied,m=t.buffer.premultiplied;if(s&&e.get_transparent()){var v,x,y,w,b;if(null==r)for(var T=0,E=d.height;T<E;){var R=T++;h=c.offset+c.stride*R,_=d.offset+d.stride*R;for(var A=0,I=d.width;A<I;){A++;switch(f){case 0:u=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:u=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h];break;case 2:u=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3]}switch(p&&0!=(255&u)&&255!=(255&u)&&(ii.unmult=255/(255&u),u=(255&ii.__clamp[Math.round((u>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((u>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((u>>8&255)*ii.unmult)])<<8|255&u),g){case 0:b=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:b=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:b=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(m&&0!=(255&b)&&255!=(255&b)&&(ii.unmult=255/(255&b),b=(255&ii.__clamp[Math.round((b>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((b>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((b>>8&255)*ii.unmult)])<<8|255&b),v=(255&u)/255,x=(255&b)/255,y=1-v,w=v+x*y,b=0==w?0:(255&(b=(255&(b=(255&(b=(255&ii.__clamp[Math.round(((u>>24&255)*v+(b>>24&255)*x*y)/w)])<<24|(255&b>>16)<<16|(255&b>>8)<<8|255&b)>>24)<<24|(255&ii.__clamp[Math.round(((u>>16&255)*v+(b>>16&255)*x*y)/w)])<<16|(255&b>>8)<<8|255&b)>>24)<<24|(255&b>>16)<<16|(255&ii.__clamp[Math.round(((u>>8&255)*v+(b>>8&255)*x*y)/w)])<<8|255&b)>>24)<<24|(255&b>>16)<<16|(255&b>>8)<<8|255&ii.__clamp[Math.round(255*w)],m&&(0==(255&b)?0!=b&&(b=0):255!=(255&b)&&(ii.a16=ii.__alpha16[255&b],b=((b>>24&255)*ii.a16>>16&255)<<24|((b>>16&255)*ii.a16>>16&255)<<16|((b>>8&255)*ii.a16>>16&255)<<8|255&b)),g){case 0:o[_]=b>>24&255,o[_+1]=b>>16&255,o[_+2]=b>>8&255,o[_+3]=255&b;break;case 1:o[_]=255&b,o[_+1]=b>>24&255,o[_+2]=b>>16&255,o[_+3]=b>>8&255;break;case 2:o[_]=b>>8&255,o[_+1]=b>>16&255,o[_+2]=b>>24&255,o[_+3]=255&b}h+=4,_+=4}}else{null==a&&(a=new $n);for(var S,C,M=r.buffer.data,D=r.buffer.format,P=r.buffer.premultiplied,L=new Kn(r,new Qn(a.x,a.y,d.width,d.height)),k=0,B=L.height;k<B;){var O=k++;h=c.offset+c.stride*O,_=d.offset+d.stride*O,S=L.offset+L.stride*O;for(var F=0,N=L.width;F<N;){F++;switch(f){case 0:u=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:u=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h];break;case 2:u=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3]}switch(p&&0!=(255&u)&&255!=(255&u)&&(ii.unmult=255/(255&u),u=(255&ii.__clamp[Math.round((u>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((u>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((u>>8&255)*ii.unmult)])<<8|255&u),g){case 0:b=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:b=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_];break;case 2:b=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3]}switch(m&&0!=(255&b)&&255!=(255&b)&&(ii.unmult=255/(255&b),b=(255&ii.__clamp[Math.round((b>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((b>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((b>>8&255)*ii.unmult)])<<8|255&b),D){case 0:C=(255&M[S])<<24|(255&M[S+1])<<16|(255&M[S+2])<<8|255&M[S+3];break;case 1:C=(255&M[S+1])<<24|(255&M[S+2])<<16|(255&M[S+3])<<8|255&M[S];break;case 2:C=(255&M[S+2])<<24|(255&M[S+1])<<16|(255&M[S])<<8|255&M[S+3]}switch(P&&0!=(255&C)&&255!=(255&C)&&(ii.unmult=255/(255&C),C=(255&ii.__clamp[Math.round((C>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((C>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((C>>8&255)*ii.unmult)])<<8|255&C),v=(255&C)/255,x=(255&b)/255,y=1-v,w=v+x*y,b=0==w?0:(255&(b=(255&(b=(255&(b=(255&ii.__clamp[Math.round(((u>>24&255)*v+(b>>24&255)*x*y)/w)])<<24|(255&b>>16)<<16|(255&b>>8)<<8|255&b)>>24)<<24|(255&ii.__clamp[Math.round(((u>>16&255)*v+(b>>16&255)*x*y)/w)])<<16|(255&b>>8)<<8|255&b)>>24)<<24|(255&b>>16)<<16|(255&ii.__clamp[Math.round(((u>>8&255)*v+(b>>8&255)*x*y)/w)])<<8|255&b)>>24)<<24|(255&b>>16)<<16|(255&b>>8)<<8|255&ii.__clamp[Math.round(255*w)],m&&(0==(255&b)?0!=b&&(b=0):255!=(255&b)&&(ii.a16=ii.__alpha16[255&b],b=((b>>24&255)*ii.a16>>16&255)<<24|((b>>16&255)*ii.a16>>16&255)<<16|((b>>8&255)*ii.a16>>16&255)<<8|255&b)),g){case 0:o[_]=b>>24&255,o[_+1]=b>>16&255,o[_+2]=b>>8&255,o[_+3]=255&b;break;case 1:o[_]=255&b,o[_+1]=b>>24&255,o[_+2]=b>>16&255,o[_+3]=b>>8&255;break;case 2:o[_]=b>>8&255,o[_+1]=b>>16&255,o[_+2]=b>>24&255,o[_+3]=255&b}h+=4,_+=4}}}}else for(var U=0,G=d.height;U<G;){var X=U++;h=c.offset+c.stride*X,_=d.offset+d.stride*X;for(var Y=0,H=d.width;Y<H;){Y++;switch(f){case 0:u=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:u=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h];break;case 2:u=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3]}switch(p&&0!=(255&u)&&255!=(255&u)&&(ii.unmult=255/(255&u),u=(255&ii.__clamp[Math.round((u>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((u>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((u>>8&255)*ii.unmult)])<<8|255&u),m&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(ii.a16=ii.__alpha16[255&u],u=((u>>24&255)*ii.a16>>16&255)<<24|((u>>16&255)*ii.a16>>16&255)<<16|((u>>8&255)*ii.a16>>16&255)<<8|255&u)),g){case 0:o[_]=u>>24&255,o[_+1]=u>>16&255,o[_+2]=u>>8&255,o[_+3]=255&u;break;case 1:o[_]=255&u,o[_+1]=u>>24&255,o[_+2]=u>>16&255,o[_+3]=u>>8&255;break;case 2:o[_]=u>>8&255,o[_+1]=u>>16&255,o[_+2]=u>>24&255,o[_+3]=255&u}h+=4,_+=4}}t.dirty=!0}},jn.fillRect=function(t,e,n,i){var r;switch(i){case 1:var a=n;r=(255&a>>16)<<24|(255&a>>8)<<16|(255&a)<<8|255&a>>24;break;case 2:var s=n;r=(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;break;default:r=n}t.get_transparent()||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255);var l=t.buffer.data;if(null!=l){for(var o,h=t.buffer.format,_=t.buffer.premultiplied,u=new Kn(t,e),c=0,d=u.height;c<d;){var f=c++;o=u.offset+u.stride*f;for(var g=0,p=u.width;g<p;){var m=o+4*g++;switch(_&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(ii.a16=ii.__alpha16[255&r],r=((r>>24&255)*ii.a16>>16&255)<<24|((r>>16&255)*ii.a16>>16&255)<<16|((r>>8&255)*ii.a16>>16&255)<<8|255&r)),h){case 0:l[m]=r>>24&255,l[m+1]=r>>16&255,l[m+2]=r>>8&255,l[m+3]=255&r;break;case 1:l[m]=255&r,l[m+1]=r>>24&255,l[m+2]=r>>16&255,l[m+3]=r>>8&255;break;case 2:l[m]=r>>8&255,l[m+1]=r>>16&255,l[m+2]=r>>24&255,l[m+3]=255&r}}}t.dirty=!0}},jn.floodFill=function(t,e,n,i,r){var a=t.buffer.data;if(null!=a){1==r&&(i=(16777215&i)<<8|i>>24&255);var s,l=t.buffer.format,o=t.buffer.premultiplied,h=i,_=(n+t.offsetY)*(4*t.buffer.width)+4*(e+t.offsetX);switch(l){case 0:s=(255&a[_])<<24|(255&a[_+1])<<16|(255&a[_+2])<<8|255&a[_+3];break;case 1:s=(255&a[_+1])<<24|(255&a[_+2])<<16|(255&a[_+3])<<8|255&a[_];break;case 2:s=(255&a[_+2])<<24|(255&a[_+1])<<16|(255&a[_])<<8|255&a[_+3]}if(o&&0!=(255&s)&&255!=(255&s)&&(ii.unmult=255/(255&s),s=(255&ii.__clamp[Math.round((s>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((s>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((s>>8&255)*ii.unmult)])<<8|255&s),t.get_transparent()||(h=(255&h>>24)<<24|(255&h>>16)<<16|(255&h>>8)<<8|255,s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|255),h!=s){var u=[0,-1,1,0],c=[-1,0,0,1],d=-t.offsetX,f=-t.offsetY,g=d+t.width,p=f+t.height,m=[];m.push(e),m.push(n);for(var v,x,y,w,b,T;m.length>0;){x=m.pop(),v=m.pop();for(var E=0;E<4;){var R=E++;if(y=v+u[R],w=x+c[R],!(y<d||w<f||y>=g||w>=p)){switch(b=4*(w*t.width+y),l){case 0:T=(255&a[b])<<24|(255&a[b+1])<<16|(255&a[b+2])<<8|255&a[b+3];break;case 1:T=(255&a[b+1])<<24|(255&a[b+2])<<16|(255&a[b+3])<<8|255&a[b];break;case 2:T=(255&a[b+2])<<24|(255&a[b+1])<<16|(255&a[b])<<8|255&a[b+3]}if(o&&0!=(255&T)&&255!=(255&T)&&(ii.unmult=255/(255&T),T=(255&ii.__clamp[Math.round((T>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((T>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((T>>8&255)*ii.unmult)])<<8|255&T),T==s){switch(o&&(0==(255&h)?0!=h&&(h=0):255!=(255&h)&&(ii.a16=ii.__alpha16[255&h],h=((h>>24&255)*ii.a16>>16&255)<<24|((h>>16&255)*ii.a16>>16&255)<<16|((h>>8&255)*ii.a16>>16&255)<<8|255&h)),l){case 0:a[b]=h>>24&255,a[b+1]=h>>16&255,a[b+2]=h>>8&255,a[b+3]=255&h;break;case 1:a[b]=255&h,a[b+1]=h>>24&255,a[b+2]=h>>16&255,a[b+3]=h>>8&255;break;case 2:a[b]=h>>8&255,a[b+1]=h>>16&255,a[b+2]=h>>24&255,a[b+3]=255&h}m.push(y),m.push(w)}}}}t.dirty=!0}}},jn.getColorBoundsRect=function(t,e,n,i,r){null==i&&(i=!0);var a,s,l=t.width+1,o=0,h=t.height+1,_=0;switch(r){case 1:var u=n;a=(255&u>>16)<<24|(255&u>>8)<<16|(255&u)<<8|255&u>>24;var c=e;s=(255&c>>16)<<24|(255&c>>8)<<16|(255&c)<<8|255&c>>24;break;case 2:var d=n;a=(255&d>>8)<<24|(255&d>>16)<<16|(255&d>>24)<<8|255&d;var f=e;s=(255&f>>8)<<24|(255&f>>16)<<16|(255&f>>24)<<8|255&f;break;default:a=n,s=e}t.get_transparent()||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255,s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|255);for(var g,p,m=0,v=t.width;m<v;){var x=m++;p=!1;for(var y=0,w=t.height;y<w;){var b=y++;if(g=t.getPixel32(x,b,0),p=i?(g&s)==a:(g&s)!=a){x<l&&(l=x);break}}if(p)break}for(var T,E=0,R=t.width;E<R;){var A=E++;T=t.width-1-A,p=!1;for(var I=0,S=t.height;I<S;){var C=I++;if(g=t.getPixel32(T,C,0),p=i?(g&s)==a:(g&s)!=a){T>o&&(o=T);break}}if(p)break}for(var M=0,D=t.height;M<D;){var P=M++;p=!1;for(var L=0,k=t.width;L<k;){var B=L++;if(g=t.getPixel32(B,P,0),p=i?(g&s)==a:(g&s)!=a){P<h&&(h=P);break}}if(p)break}for(var O,F=0,N=t.height;F<N;){var U=F++;O=t.height-1-U,p=!1;for(var G=0,X=t.width;G<X;){var Y=G++;if(g=t.getPixel32(Y,O,0),p=i?(g&s)==a:(g&s)!=a){O>_&&(_=O);break}}if(p)break}var H=o-l,V=_-h;return H>0&&++H,V>0&&++V,H<0&&(H=0),V<0&&(V=0),l==o&&(H=1),h==_&&(V=1),l>t.width&&(l=0),h>t.height&&(h=0),new Qn(l,h,H,V)},jn.getPixel=function(t,e,n,i){var r,a=t.buffer.data,s=4*(n+t.offsetY)*t.buffer.width+4*(e+t.offsetX),l=t.buffer.premultiplied;switch(t.buffer.format){case 0:r=(255&a[s])<<24|(255&a[s+1])<<16|(255&a[s+2])<<8|255&a[s+3];break;case 1:r=(255&a[s+1])<<24|(255&a[s+2])<<16|(255&a[s+3])<<8|255&a[s];break;case 2:r=(255&a[s+2])<<24|(255&a[s+1])<<16|(255&a[s])<<8|255&a[s+3]}switch(l&&0!=(255&r)&&255!=(255&r)&&(ii.unmult=255/(255&r),r=(255&ii.__clamp[Math.round((r>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((r>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((r>>8&255)*ii.unmult)])<<8|255&r),r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|0,i){case 1:return(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8;case 2:return(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;default:return r}},jn.getPixel32=function(t,e,n,i){var r,a=t.buffer.data,s=4*(n+t.offsetY)*t.buffer.width+4*(e+t.offsetX),l=t.buffer.premultiplied;switch(t.buffer.format){case 0:r=(255&a[s])<<24|(255&a[s+1])<<16|(255&a[s+2])<<8|255&a[s+3];break;case 1:r=(255&a[s+1])<<24|(255&a[s+2])<<16|(255&a[s+3])<<8|255&a[s];break;case 2:r=(255&a[s+2])<<24|(255&a[s+1])<<16|(255&a[s])<<8|255&a[s+3]}switch(l&&0!=(255&r)&&255!=(255&r)&&(ii.unmult=255/(255&r),r=(255&ii.__clamp[Math.round((r>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((r>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((r>>8&255)*ii.unmult)])<<8|255&r),i){case 1:return(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8;case 2:return(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;default:return r}},jn.getPixels=function(t,e,n){if(null==t.buffer.data)return null;for(var i,r,a=e.width*e.height|0,s=new me(new xo(4*a)),l=t.buffer.data,o=t.buffer.format,h=t.buffer.premultiplied,_=new Kn(t,e),u=0,c=0,d=_.height;c<d;){var f=c++;i=_.offset+_.stride*f;for(var g=0,p=_.width;g<p;){g++;switch(o){case 0:r=(255&l[i])<<24|(255&l[i+1])<<16|(255&l[i+2])<<8|255&l[i+3];break;case 1:r=(255&l[i+1])<<24|(255&l[i+2])<<16|(255&l[i+3])<<8|255&l[i];break;case 2:r=(255&l[i+2])<<24|(255&l[i+1])<<16|(255&l[i])<<8|255&l[i+3]}switch(h&&0!=(255&r)&&255!=(255&r)&&(ii.unmult=255/(255&r),r=(255&ii.__clamp[Math.round((r>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((r>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((r>>8&255)*ii.unmult)])<<8|255&r),n){case 1:r=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8;break;case 2:r=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r}s.b[u++]=255&r>>24,s.b[u++]=255&r>>16,s.b[u++]=255&r>>8,s.b[u++]=255&r,i+=4}}return s},jn.merge=function(t,e,n,i,r,a,s,l){if(null!=t.buffer.data&&null!=e.buffer.data){for(var o,h,_,u,c=new Kn(e,n),d=new Kn(t,new Qn(i.x,i.y,c.width,c.height)),f=e.buffer.data,g=t.buffer.data,p=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,x=t.buffer.premultiplied,y=0,w=d.height;y<w;){var b=y++;o=c.offset+c.stride*b,h=d.offset+d.stride*b;for(var T=0,E=d.width;T<E;){T++;switch(p){case 0:_=(255&f[o])<<24|(255&f[o+1])<<16|(255&f[o+2])<<8|255&f[o+3];break;case 1:_=(255&f[o+1])<<24|(255&f[o+2])<<16|(255&f[o+3])<<8|255&f[o];break;case 2:_=(255&f[o+2])<<24|(255&f[o+1])<<16|(255&f[o])<<8|255&f[o+3]}switch(v&&0!=(255&_)&&255!=(255&_)&&(ii.unmult=255/(255&_),_=(255&ii.__clamp[Math.round((_>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((_>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((_>>8&255)*ii.unmult)])<<8|255&_),m){case 0:u=(255&g[h])<<24|(255&g[h+1])<<16|(255&g[h+2])<<8|255&g[h+3];break;case 1:u=(255&g[h+1])<<24|(255&g[h+2])<<16|(255&g[h+3])<<8|255&g[h];break;case 2:u=(255&g[h+2])<<24|(255&g[h+1])<<16|(255&g[h])<<8|255&g[h+3]}switch(x&&0!=(255&u)&&255!=(255&u)&&(ii.unmult=255/(255&u),u=(255&ii.__clamp[Math.round((u>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((u>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((u>>8&255)*ii.unmult)])<<8|255&u),u=(255&(u=(255&(u=(255&(u=(255&(((_>>24&255)*r+(u>>24&255)*(256-r))/256|0))<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&(((_>>16&255)*a+(u>>16&255)*(256-a))/256|0))<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&(((_>>8&255)*s+(u>>8&255)*(256-s))/256|0))<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&(((255&_)*l+(255&u)*(256-l))/256|0),x&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(ii.a16=ii.__alpha16[255&u],u=((u>>24&255)*ii.a16>>16&255)<<24|((u>>16&255)*ii.a16>>16&255)<<16|((u>>8&255)*ii.a16>>16&255)<<8|255&u)),m){case 0:g[h]=u>>24&255,g[h+1]=u>>16&255,g[h+2]=u>>8&255,g[h+3]=255&u;break;case 1:g[h]=255&u,g[h+1]=u>>24&255,g[h+2]=u>>16&255,g[h+3]=u>>8&255;break;case 2:g[h]=u>>8&255,g[h+1]=u>>16&255,g[h+2]=u>>24&255,g[h+3]=255&u}o+=4,h+=4}}t.dirty=!0}},jn.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var n,i=t.buffer.format,r=0,a=e.length/4|0;r<a;){var s=r++,l=4*s;switch(i){case 0:n=(255&e[l])<<24|(255&e[l+1])<<16|(255&e[l+2])<<8|255&e[l+3];break;case 1:n=(255&e[l+1])<<24|(255&e[l+2])<<16|(255&e[l+3])<<8|255&e[l];break;case 2:n=(255&e[l+2])<<24|(255&e[l+1])<<16|(255&e[l])<<8|255&e[l+3]}var o=4*s;switch(0==(255&n)?0!=n&&(n=0):255!=(255&n)&&(ii.a16=ii.__alpha16[255&n],n=((n>>24&255)*ii.a16>>16&255)<<24|((n>>16&255)*ii.a16>>16&255)<<16|((n>>8&255)*ii.a16>>16&255)<<8|255&n),i){case 0:e[o]=n>>24&255,e[o+1]=n>>16&255,e[o+2]=n>>8&255,e[o+3]=255&n;break;case 1:e[o]=255&n,e[o+1]=n>>24&255,e[o+2]=n>>16&255,e[o+3]=n>>8&255;break;case 2:e[o]=n>>8&255,e[o+1]=n>>16&255,e[o+2]=n>>24&255,e[o+3]=255&n}}t.buffer.premultiplied=!0,t.dirty=!0}},jn.resize=function(t,e,n){var i=t.buffer;if(i.width!=e||i.height!=n){var r,a=e*n*4;r=null!=a?new bo(a):null;for(var s,l,o,h,_,u,c,d,f,g,p,m,v,x=new Tn(r,e,n),y=t.width,w=t.height,b=t.get_data(),T=x.data,E=0,R=n;E<R;)for(var A=E++,I=0,S=e;I<S;){var C=I++;s=4*((c=0|(f=(A+.5)/n*w-.5))*y+(u=0|(d=(C+.5)/e*y-.5))),l=u<y-1?s+4:s,o=c<w-1?s+4*y:s,h=l!=s?o+4:o,m=1-(g=d-u),v=1-(p=f-c),T[_=4*(A*e+C)]=(O.toFloat(b[s])*m+O.toFloat(b[l])*g)*v+(O.toFloat(b[o])*m+O.toFloat(b[h])*g)*p|0,T[_+1]=(O.toFloat(b[s+1])*m+O.toFloat(b[l+1])*g)*v+(O.toFloat(b[o+1])*m+O.toFloat(b[h+1])*g)*p|0,T[_+2]=(O.toFloat(b[s+2])*m+O.toFloat(b[l+2])*g)*v+(O.toFloat(b[o+2])*m+O.toFloat(b[h+2])*g)*p|0,0==b[l+3]||0==b[o+3]||0==b[h+3]?T[_+3]=0:T[_+3]=b[s+3]}i.data=x.data,i.width=e,i.height=n}},jn.resizeBuffer=function(t,e,n){for(var i,r,a,s=t.buffer,l=t.get_data(),o=e*n*4,h=i=null!=o?new bo(o):null,_=0,u=s.height;_<u;)for(var c=_++,d=0,f=s.width;d<f;){var g=d++;r=4*(c*s.width+g),h[a=4*(c*e+g)]=l[r],h[a+1]=l[r+1],h[a+2]=l[r+2],h[a+3]=l[r+3]}s.data=h,s.width=e,s.height=n},jn.setFormat=function(t,e){var n=t.buffer.data;if(null!=n){var i,r,a,s,l,o,h,_,u,c,d,f,g,p=n.length/4|0;switch(t.get_format()){case 0:r=0,a=1,s=2,l=3;break;case 1:r=1,a=2,s=3,l=0;break;case 2:r=2,a=1,s=0,l=3}switch(e){case 0:o=0,h=1,_=2,u=3;break;case 1:o=1,h=2,_=3,u=0;break;case 2:o=2,h=1,_=0,u=3}for(var m=0,v=p;m<v;)c=n[(i=4*m++)+r],d=n[i+a],f=n[i+s],g=n[i+l],n[i+o]=c,n[i+h]=d,n[i+_]=f,n[i+u]=g;t.buffer.format=e,t.dirty=!0}},jn.setPixel=function(t,e,n,i,r){var a;switch(r){case 1:var s=i;a=(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24;break;case 2:var l=i;a=(255&l>>8)<<24|(255&l>>16)<<16|(255&l>>24)<<8|255&l;break;default:a=i}var o=0,h=t.buffer.data,_=4*(n+t.offsetY)*t.buffer.width+4*(e+t.offsetX),u=t.buffer.premultiplied;switch(t.buffer.format){case 0:o=(255&h[_])<<24|(255&h[_+1])<<16|(255&h[_+2])<<8|255&h[_+3];break;case 1:o=(255&h[_+1])<<24|(255&h[_+2])<<16|(255&h[_+3])<<8|255&h[_];break;case 2:o=(255&h[_+2])<<24|(255&h[_+1])<<16|(255&h[_])<<8|255&h[_+3]}u&&0!=(255&o)&&255!=(255&o)&&(ii.unmult=255/(255&o),o=(255&ii.__clamp[Math.round((o>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((o>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((o>>8&255)*ii.unmult)])<<8|255&o),a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255&(255&o);var c=t.buffer.data,d=4*(n+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(ii.a16=ii.__alpha16[255&a],a=((a>>24&255)*ii.a16>>16&255)<<24|((a>>16&255)*ii.a16>>16&255)<<16|((a>>8&255)*ii.a16>>16&255)<<8|255&a)),t.buffer.format){case 0:c[d]=a>>24&255,c[d+1]=a>>16&255,c[d+2]=a>>8&255,c[d+3]=255&a;break;case 1:c[d]=255&a,c[d+1]=a>>24&255,c[d+2]=a>>16&255,c[d+3]=a>>8&255;break;case 2:c[d]=a>>8&255,c[d+1]=a>>16&255,c[d+2]=a>>24&255,c[d+3]=255&a}t.dirty=!0},jn.setPixel32=function(t,e,n,i,r){var a;switch(r){case 1:var s=i;a=(255&s>>16)<<24|(255&s>>8)<<16|(255&s)<<8|255&s>>24;break;case 2:var l=i;a=(255&l>>8)<<24|(255&l>>16)<<16|(255&l>>24)<<8|255&l;break;default:a=i}t.get_transparent()||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);var o=t.buffer.data,h=4*(n+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(ii.a16=ii.__alpha16[255&a],a=((a>>24&255)*ii.a16>>16&255)<<24|((a>>16&255)*ii.a16>>16&255)<<16|((a>>8&255)*ii.a16>>16&255)<<8|255&a)),t.buffer.format){case 0:o[h]=a>>24&255,o[h+1]=a>>16&255,o[h+2]=a>>8&255,o[h+3]=255&a;break;case 1:o[h]=255&a,o[h+1]=a>>24&255,o[h+2]=a>>16&255,o[h+3]=a>>8&255;break;case 2:o[h]=a>>8&255,o[h+1]=a>>16&255,o[h+2]=a>>24&255,o[h+3]=255&a}t.dirty=!0},jn.setPixels=function(t,e,n,i){if(null!=t.buffer.data){for(var r,a,s,l=t.buffer.data,o=t.buffer.format,h=t.buffer.premultiplied,_=new Kn(t,e),u=t.get_transparent(),c=0,d=0,f=_.height;d<f;){var g=d++;r=_.offset+_.stride*g;for(var p=0,m=_.width;p<m;){var v=p++;switch(a=n.b[c+3]|n.b[c+2]<<8|n.b[c+1]<<16|n.b[c]<<24,c+=4,i){case 1:var x=a;s=(255&x>>16)<<24|(255&x>>8)<<16|(255&x)<<8|255&x>>24;break;case 2:var y=a;s=(255&y>>8)<<24|(255&y>>16)<<16|(255&y>>24)<<8|255&y;break;default:s=a}u||(s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|255);var w=r+4*v;switch(h&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(ii.a16=ii.__alpha16[255&s],s=((s>>24&255)*ii.a16>>16&255)<<24|((s>>16&255)*ii.a16>>16&255)<<16|((s>>8&255)*ii.a16>>16&255)<<8|255&s)),o){case 0:l[w]=s>>24&255,l[w+1]=s>>16&255,l[w+2]=s>>8&255,l[w+3]=255&s;break;case 1:l[w]=255&s,l[w+1]=s>>24&255,l[w+2]=s>>16&255,l[w+3]=s>>8&255;break;case 2:l[w]=s>>8&255,l[w+1]=s>>16&255,l[w+2]=s>>24&255,l[w+3]=255&s}}}t.dirty=!0}},jn.threshold=function(t,e,n,i,r,a,s,l,o,h){var _,u,c;switch(h){case 1:var d=s;_=(255&d>>16)<<24|(255&d>>8)<<16|(255&d)<<8|255&d>>24;var f=l;u=(255&f>>16)<<24|(255&f>>8)<<16|(255&f)<<8|255&f>>24;var g=a;c=(255&g>>16)<<24|(255&g>>8)<<16|(255&g)<<8|255&g>>24;break;case 2:var p=s;_=(255&p>>8)<<24|(255&p>>16)<<16|(255&p>>24)<<8|255&p;var m=l;u=(255&m>>8)<<24|(255&m>>16)<<16|(255&m>>24)<<8|255&m;var v=a;c=(255&v>>8)<<24|(255&v>>16)<<16|(255&v>>24)<<8|255&v;break;default:_=s,u=l,c=a}var x;switch(r){case"!=":x=0;break;case"<":x=2;break;case"<=":x=3;break;case"==":x=1;break;case">":x=4;break;case">=":x=5;break;default:x=-1}if(-1==x)return 0;var y=e.buffer.data,w=t.buffer.data;if(null==y||null==w)return 0;for(var b,T,E,R,A,I,S=0,C=new Kn(e,n),M=new Kn(t,new Qn(i.x,i.y,C.width,C.height)),D=e.buffer.format,P=t.buffer.format,L=e.buffer.premultiplied,k=t.buffer.premultiplied,B=0,O=M.height;B<O;){var F=B++;b=C.offset+C.stride*F,T=M.offset+M.stride*F;for(var N=0,U=M.width;N<U;){N++;switch(D){case 0:E=(255&y[b])<<24|(255&y[b+1])<<16|(255&y[b+2])<<8|255&y[b+3];break;case 1:E=(255&y[b+1])<<24|(255&y[b+2])<<16|(255&y[b+3])<<8|255&y[b];break;case 2:E=(255&y[b+2])<<24|(255&y[b+1])<<16|(255&y[b])<<8|255&y[b+3]}L&&0!=(255&E)&&255!=(255&E)&&(ii.unmult=255/(255&E),E=(255&ii.__clamp[Math.round((E>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((E>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((E>>8&255)*ii.unmult)])<<8|255&E);var G,X;switch(G=(R=E&u)>>24&255,X=c>>24&255,I=G!=X?G>X?1:-1:(G=R>>16&255)!=(X=c>>16&255)?G>X?1:-1:(G=R>>8&255)!=(X=c>>8&255)?G>X?1:-1:(G=255&R)!=(X=255&c)?G>X?1:-1:0,x){case 0:A=0!=I;break;case 1:A=0==I;break;case 2:A=-1==I;break;case 3:A=0==I||-1==I;break;case 4:A=1==I;break;case 5:A=0==I||1==I;break;default:A=!1}if(A){switch(k&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(ii.a16=ii.__alpha16[255&_],_=((_>>24&255)*ii.a16>>16&255)<<24|((_>>16&255)*ii.a16>>16&255)<<16|((_>>8&255)*ii.a16>>16&255)<<8|255&_)),P){case 0:w[T]=_>>24&255,w[T+1]=_>>16&255,w[T+2]=_>>8&255,w[T+3]=255&_;break;case 1:w[T]=255&_,w[T+1]=_>>24&255,w[T+2]=_>>16&255,w[T+3]=_>>8&255;break;case 2:w[T]=_>>8&255,w[T+1]=_>>16&255,w[T+2]=_>>24&255,w[T+3]=255&_}++S}else if(o)switch(k&&(0==(255&E)?0!=E&&(E=0):255!=(255&E)&&(ii.a16=ii.__alpha16[255&E],E=((E>>24&255)*ii.a16>>16&255)<<24|((E>>16&255)*ii.a16>>16&255)<<16|((E>>8&255)*ii.a16>>16&255)<<8|255&E)),P){case 0:w[T]=E>>24&255,w[T+1]=E>>16&255,w[T+2]=E>>8&255,w[T+3]=255&E;break;case 1:w[T]=255&E,w[T+1]=E>>24&255,w[T+2]=E>>16&255,w[T+3]=E>>8&255;break;case 2:w[T]=E>>8&255,w[T+1]=E>>16&255,w[T+2]=E>>24&255,w[T+3]=255&E}b+=4,T+=4}}return S>0&&(t.dirty=!0),S},jn.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var n,i=t.buffer.format,r=0,a=e.length/4|0;r<a;){var s=r++,l=4*s;switch(i){case 0:n=(255&e[l])<<24|(255&e[l+1])<<16|(255&e[l+2])<<8|255&e[l+3];break;case 1:n=(255&e[l+1])<<24|(255&e[l+2])<<16|(255&e[l+3])<<8|255&e[l];break;case 2:n=(255&e[l+2])<<24|(255&e[l+1])<<16|(255&e[l])<<8|255&e[l+3]}0!=(255&n)&&255!=(255&n)&&(ii.unmult=255/(255&n),n=(255&ii.__clamp[Math.round((n>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((n>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((n>>8&255)*ii.unmult)])<<8|255&n);var o=4*s;switch(i){case 0:e[o]=n>>24&255,e[o+1]=n>>16&255,e[o+2]=n>>8&255,e[o+3]=255&n;break;case 1:e[o]=255&n,e[o+1]=n>>24&255,e[o+2]=n>>16&255,e[o+3]=n>>8&255;break;case 2:e[o]=n>>8&255,e[o+1]=n>>16&255,e[o+2]=n>>24&255,e[o+3]=255&n}}t.buffer.premultiplied=!1,t.dirty=!0}},jn.__pixelCompare=function(t,e){var n,i;return n=t>>24&255,i=e>>24&255,n!=i?n>i?1:-1:(n=t>>16&255,i=e>>16&255,n!=i?n>i?1:-1:(n=t>>8&255,i=e>>8&255,n!=i?n>i?1:-1:(n=255&t,i=255&e,n!=i?n>i?1:-1:0)))};var Kn=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};a["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Kn,Kn.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"],Kn.prototype={x:null,y:null,height:null,width:null,image:null,offset:null,rect:null,stride:null,clip:function(t,e,n,i){this.rect.__contract(t,e,n,i),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(t){return this.offset+this.stride*t},__class__:Kn};var qn={};a["lime.math._ColorMatrix.ColorMatrix_Impl_"]=qn,qn.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"],qn.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},qn._new=function(t){var e;if(null!=t&&20==t.length)e=t;else{var n=qn.__identity;e=null!=n?new wo(n):null}return e},qn.clone=function(t){var e;return e=null!=t?new wo(t):null,qn._new(e)},qn.concat=function(t,e){t[0]+=e[0],t[6]+=e[6],t[12]+=e[12],t[18]+=e[18]},qn.copyFrom=function(t,e){t.set(e)},qn.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},qn.getAlphaTable=function(t){for(var e,n=new bo(256),i=t[18],r=255*t[19],a=0;a<256;){var s=a++;(e=Math.floor(s*i+r))>255&&(e=255),e<0&&(e=0),n[s]=e}return n},qn.getBlueTable=function(t){for(var e,n=new bo(256),i=t[12],r=255*t[14],a=0;a<256;){var s=a++;(e=Math.floor(s*i+r))>255&&(e=255),e<0&&(e=0),n[s]=e}return n},qn.getGreenTable=function(t){for(var e,n=new bo(256),i=t[6],r=255*t[9],a=0;a<256;){var s=a++;(e=Math.floor(s*i+r))>255&&(e=255),e<0&&(e=0),n[s]=e}return n},qn.getRedTable=function(t){for(var e,n=new bo(256),i=t[0],r=255*t[4],a=0;a<256;){var s=a++;(e=Math.floor(s*i+r))>255&&(e=255),e<0&&(e=0),n[s]=e}return n},qn.__toFlashColorTransform=function(t){return null},qn.get_alphaMultiplier=function(t){return t[18]},qn.set_alphaMultiplier=function(t,e){return t[18]=e},qn.get_alphaOffset=function(t){return 255*t[19]},qn.set_alphaOffset=function(t,e){return t[19]=e/255},qn.get_blueMultiplier=function(t){return t[12]},qn.set_blueMultiplier=function(t,e){return t[12]=e},qn.get_blueOffset=function(t){return 255*t[14]},qn.set_blueOffset=function(t,e){return t[14]=e/255},qn.get_color=function(t){return(255*t[4]|0)<<16|(255*t[9]|0)<<8|255*t[14]|0},qn.set_color=function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,qn.get_color(t)},qn.get_greenMultiplier=function(t){return t[6]},qn.set_greenMultiplier=function(t,e){return t[6]=e},qn.get_greenOffset=function(t){return 255*t[9]},qn.set_greenOffset=function(t,e){return t[9]=e/255},qn.get_redMultiplier=function(t){return t[0]},qn.set_redMultiplier=function(t,e){return t[0]=e},qn.get_redOffset=function(t){return 255*t[4]},qn.set_redOffset=function(t,e){return t[4]=e/255},qn.get=function(t,e){return t[e]},qn.set=function(t,e,n){return t[e]=n};var Jn=function(t,e,n,i,r,a){null==a&&(a=0),null==r&&(r=0),null==i&&(i=1),null==n&&(n=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a};a["lime.math.Matrix3"]=Jn,Jn.__name__=["lime","math","Matrix3"],Jn.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new Jn(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var n=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=n;var i=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=i},copyColumnFrom:function(t,e){if(t>2)throw new Ee("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(t>2)throw new Ee("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(t>2)throw new Ee("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(t>2)throw new Ee("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=0),null==n&&(n=0),this.a=t,this.d=e,this.b=n,this.tx=i,this.ty=r},createGradientBox:function(t,e,n,i,r){if(null==r&&(r=0),null==i&&(i=0),null==n&&(n=0),this.a=t/1638.4,this.d=e/1638.4,0!=n){var a=Math.cos(n),s=Math.sin(n);this.b=s*this.d,this.c=-s*this.a,this.a*=a,this.d*=a}else this.b=0,this.c=0;this.tx=i+t/2,this.ty=r+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector2:function(t){return new $n(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var n=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=n}return this},mult:function(t){var e=new Jn(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.concat(t),e},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a*e-this.b*n;this.b=this.a*n+this.b*e,this.a=i;var r=this.c*e-this.d*n;this.d=this.c*n+this.d*e,this.c=r;var a=this.tx*e-this.ty*n;this.ty=this.tx*n+this.ty*e,this.tx=a},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,n,i,r,a){this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a},to3DString:function(t){return null==t&&(t=!1),t?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(t){return new $n(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__transformX:function(t){return t.x*this.a+t.y*this.c+this.tx},__transformY:function(t){return t.x*this.b+t.y*this.d+this.ty},__translateTransformed:function(t){this.tx=t.x*this.a+t.y*this.c+this.tx,this.ty=t.x*this.b+t.y*this.d+this.ty},__class__:Jn};var Zn={};a["lime.math._Matrix4.Matrix4_Impl_"]=Zn,Zn.__name__=["lime","math","_Matrix4","Matrix4_Impl_"],Zn.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},Zn._new=function(t){var e;if(null!=t&&16==t.length)e=t;else{var n=Zn.__identity;e=null!=n?new wo(n):null}return e},Zn.append=function(t,e){var n=t[0],i=t[4],r=t[8],a=t[12],s=t[1],l=t[5],o=t[9],h=t[13],_=t[2],u=t[6],c=t[10],d=t[14],f=t[3],g=t[7],p=t[11],m=t[15],v=Zn.get(e,0),x=Zn.get(e,4),y=Zn.get(e,8),w=Zn.get(e,12),b=Zn.get(e,1),T=Zn.get(e,5),E=Zn.get(e,9),R=Zn.get(e,13),A=Zn.get(e,2),I=Zn.get(e,6),S=Zn.get(e,10),C=Zn.get(e,14),M=Zn.get(e,3),D=Zn.get(e,7),P=Zn.get(e,11),L=Zn.get(e,15);t[0]=n*v+s*x+_*y+f*w,t[1]=n*b+s*T+_*E+f*R,t[2]=n*A+s*I+_*S+f*C,t[3]=n*M+s*D+_*P+f*L,t[4]=i*v+l*x+u*y+g*w,t[5]=i*b+l*T+u*E+g*R,t[6]=i*A+l*I+u*S+g*C,t[7]=i*M+l*D+u*P+g*L,t[8]=r*v+o*x+c*y+p*w,t[9]=r*b+o*T+c*E+p*R,t[10]=r*A+o*I+c*S+p*C,t[11]=r*M+o*D+c*P+p*L,t[12]=a*v+h*x+d*y+m*w,t[13]=a*b+h*T+d*E+m*R,t[14]=a*A+h*I+d*S+m*C,t[15]=a*M+h*D+d*P+m*L},Zn.appendRotation=function(t,e,n,i){var r=Zn.getAxisRotation(n.x,n.y,n.z,e);if(null!=i){var a=i;Zn.appendTranslation(r,a.x,a.y,a.z)}Zn.append(t,r)},Zn.appendScale=function(t,e,n,i){var r,a=[e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1];r=null!=a?new wo(a):null,Zn.append(t,Zn._new(r))},Zn.appendTranslation=function(t,e,n,i){t[12]+=e,t[13]+=n,t[14]+=i},Zn.clone=function(t){var e;return e=null!=t?new wo(t):null,Zn._new(e)},Zn.copyColumnFrom=function(t,e,n){switch(e){case 0:t[0]=n.x,t[1]=n.y,t[2]=n.z,t[3]=n.w;break;case 1:t[4]=n.x,t[5]=n.y,t[6]=n.z,t[7]=n.w;break;case 2:t[8]=n.x,t[9]=n.y,t[10]=n.z,t[11]=n.w;break;case 3:t[12]=n.x,t[13]=n.y,t[14]=n.z,t[15]=n.w;break;default:throw new Ee("Error, Column "+e+" out of bounds [0, ..., 3]")}},Zn.copyColumnTo=function(t,e,n){switch(e){case 0:n.x=t[0],n.y=t[1],n.z=t[2],n.w=t[3];break;case 1:n.x=t[4],n.y=t[5],n.z=t[6],n.w=t[7];break;case 2:n.x=t[8],n.y=t[9],n.z=t[10],n.w=t[11];break;case 3:n.x=t[12],n.y=t[13],n.z=t[14],n.w=t[15];break;default:throw new Ee("Error, Column "+e+" out of bounds [0, ..., 3]")}},Zn.copyFrom=function(t,e){t.set(e)},Zn.copythisFrom=function(t,e,n,i){null==i&&(i=!1),null==n&&(n=0),i&&Zn.transpose(t);for(var r=0,a=e.length-n;r<a;){var s=r++;t[s]=e[s+n]}i&&Zn.transpose(t)},Zn.copythisTo=function(t,e,n,i){null==i&&(i=!1),null==n&&(n=0),i&&Zn.transpose(t);for(var r=0,a=t.length;r<a;){var s=r++;e[s+n]=t[s]}i&&Zn.transpose(t)},Zn.copyRowFrom=function(t,e,n){switch(e){case 0:t[0]=n.x,t[4]=n.y,t[8]=n.z,t[12]=n.w;break;case 1:t[1]=n.x,t[5]=n.y,t[9]=n.z,t[13]=n.w;break;case 2:t[2]=n.x,t[6]=n.y,t[10]=n.z,t[14]=n.w;break;case 3:t[3]=n.x,t[7]=n.y,t[11]=n.z,t[15]=n.w;break;default:throw new Ee("Error, Row "+P.string(O.toFloat(e))+" out of bounds [0, ..., 3]")}},Zn.create2D=function(t,e,n,i){null==i&&(i=0),null==n&&(n=1);var r,a=i*Math.PI/180,s=Math.cos(a),l=Math.sin(a),o=[s*n,-l*n,0,0,l*n,s*n,0,0,0,0,1,0,t,e,0,1];return r=null!=o?new wo(o):null,Zn._new(r)},Zn.createABCD=function(t,e,n,i,r,a){var s,l=[t,e,0,0,n,i,0,0,0,0,1,0,r,a,0,1];return s=null!=l?new wo(l):null,Zn._new(s)},Zn.createOrtho=function(t,e,n,i,r,a){var s,l=1/(e-t),o=1/(i-n),h=1/(a-r),_=[2*l,0,0,0,0,2*o,0,0,0,0,-2*h,0,-(t+e)*l,-(n+i)*o,-(r+a)*h,1];return s=null!=_?new wo(_):null,Zn._new(s)},Zn.copyRowTo=function(t,e,n){switch(e){case 0:n.x=t[0],n.y=t[4],n.z=t[8],n.w=t[12];break;case 1:n.x=t[1],n.y=t[5],n.z=t[9],n.w=t[13];break;case 2:n.x=t[2],n.y=t[6],n.z=t[10],n.w=t[14];break;case 3:n.x=t[3],n.y=t[7],n.z=t[11],n.w=t[15];break;default:throw new Ee("Error, Row "+e+" out of bounds [0, ..., 3]")}},Zn.copyToMatrix4=function(t,e){X.__cast(e,wo).set(t)},Zn.deltaTransformVector=function(t,e){var n=e.x,i=e.y,r=e.z;return new ti(n*t[0]+i*t[4]+r*t[8]+t[3],n*t[1]+i*t[5]+r*t[9]+t[7],n*t[2]+i*t[6]+r*t[10]+t[11],0)},Zn.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},Zn.interpolate=function(t,e,n){for(var i=Zn._new(),r=0;r<16;){var a=r++;Zn.set(i,a,Zn.get(t,a)+(Zn.get(e,a)-Zn.get(t,a))*n)}return i},Zn.interpolateTo=function(t,e,n){for(var i=0;i<16;){var r=i++;t[r]+=(Zn.get(e,r)-t[r])*n}},Zn.invert=function(t){var e=Zn.get_determinant(t),n=Math.abs(e)>1e-11;if(n){e=1/e;var i=t[0],r=t[4],a=t[8],s=t[12],l=t[1],o=t[5],h=t[9],_=t[13],u=t[2],c=t[6],d=t[10],f=t[14],g=t[3],p=t[7],m=t[11],v=t[15];t[0]=e*(o*(d*v-f*m)-h*(c*v-f*p)+_*(c*m-d*p)),t[1]=-e*(l*(d*v-f*m)-h*(u*v-f*g)+_*(u*m-d*g)),t[2]=e*(l*(c*v-f*p)-o*(u*v-f*g)+_*(u*p-c*g)),t[3]=-e*(l*(c*m-d*p)-o*(u*m-d*g)+h*(u*p-c*g)),t[4]=-e*(r*(d*v-f*m)-a*(c*v-f*p)+s*(c*m-d*p)),t[5]=e*(i*(d*v-f*m)-a*(u*v-f*g)+s*(u*m-d*g)),t[6]=-e*(i*(c*v-f*p)-r*(u*v-f*g)+s*(u*p-c*g)),t[7]=e*(i*(c*m-d*p)-r*(u*m-d*g)+a*(u*p-c*g)),t[8]=e*(r*(h*v-_*m)-a*(o*v-_*p)+s*(o*m-h*p)),t[9]=-e*(i*(h*v-_*m)-a*(l*v-_*g)+s*(l*m-h*g)),t[10]=e*(i*(o*v-_*p)-r*(l*v-_*g)+s*(l*p-o*g)),t[11]=-e*(i*(o*m-h*p)-r*(l*m-h*g)+a*(l*p-o*g)),t[12]=-e*(r*(h*f-_*d)-a*(o*f-_*c)+s*(o*d-h*c)),t[13]=e*(i*(h*f-_*d)-a*(l*f-_*u)+s*(l*d-h*u)),t[14]=-e*(i*(o*f-_*c)-r*(l*f-_*u)+s*(l*c-o*u)),t[15]=e*(i*(o*d-h*c)-r*(l*d-h*u)+a*(l*c-o*u))}return n},Zn.pointAt=function(t,e,n,i){null==n&&(n=new ti(0,0,-1)),null==i&&(i=new ti(0,-1,0));var r,a=new ti(n.x-e.x,n.y-e.y,n.z-e.z),s=new ti(i.x,i.y,i.z,i.w),l=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=l&&(a.x/=l,a.y/=l,a.z/=l);var o=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);0!=o&&(s.x/=o,s.y/=o,s.z/=o);var h=new ti(a.x,a.y,a.z,a.w),_=s.x*a.x+s.y*a.y+s.z*a.z;if(h.x*=_,h.y*=_,h.z*=_,s=new ti(s.x-h.x,s.y-h.y,s.z-h.z),Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z)>0){var u=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);0!=u&&(s.x/=u,s.y/=u,s.z/=u)}else s=0!=a.x?new ti(-a.y,a.x,0):new ti(1,0,0);r=new ti(s.y*a.z-s.z*a.y,s.z*a.x-s.x*a.z,s.x*a.y-s.y*a.x,1);var c=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);0!=c&&(r.x/=c,r.y/=c,r.z/=c),t[0]=r.x,t[4]=r.y,t[8]=r.z,t[12]=0,t[1]=s.x,t[5]=s.y,t[9]=s.z,t[13]=0,t[2]=a.x,t[6]=a.y,t[10]=a.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},Zn.prepend=function(t,e){var n=Zn.get(e,0),i=Zn.get(e,4),r=Zn.get(e,8),a=Zn.get(e,12),s=Zn.get(e,1),l=Zn.get(e,5),o=Zn.get(e,9),h=Zn.get(e,13),_=Zn.get(e,2),u=Zn.get(e,6),c=Zn.get(e,10),d=Zn.get(e,14),f=Zn.get(e,3),g=Zn.get(e,7),p=Zn.get(e,11),m=Zn.get(e,15),v=t[0],x=t[4],y=t[8],w=t[12],b=t[1],T=t[5],E=t[9],R=t[13],A=t[2],I=t[6],S=t[10],C=t[14],M=t[3],D=t[7],P=t[11],L=t[15];t[0]=n*v+s*x+_*y+f*w,t[1]=n*b+s*T+_*E+f*R,t[2]=n*A+s*I+_*S+f*C,t[3]=n*M+s*D+_*P+f*L,t[4]=i*v+l*x+u*y+g*w,t[5]=i*b+l*T+u*E+g*R,t[6]=i*A+l*I+u*S+g*C,t[7]=i*M+l*D+u*P+g*L,t[8]=r*v+o*x+c*y+p*w,t[9]=r*b+o*T+c*E+p*R,t[10]=r*A+o*I+c*S+p*C,t[11]=r*M+o*D+c*P+p*L,t[12]=a*v+h*x+d*y+m*w,t[13]=a*b+h*T+d*E+m*R,t[14]=a*A+h*I+d*S+m*C,t[15]=a*M+h*D+d*P+m*L},Zn.prependRotation=function(t,e,n,i){var r=Zn.getAxisRotation(n.x,n.y,n.z,e);if(null!=i){var a=i;Zn.appendTranslation(r,a.x,a.y,a.z)}Zn.prepend(t,r)},Zn.prependScale=function(t,e,n,i){var r,a=[e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1];r=null!=a?new wo(a):null,Zn.prepend(t,Zn._new(r))},Zn.prependTranslation=function(t,e,n,i){var r=Zn._new();Zn.set_position(r,new ti(e,n,i)),Zn.prepend(t,r)},Zn.transformVector=function(t,e){var n=e.x,i=e.y,r=e.z;return new ti(n*t[0]+i*t[4]+r*t[8]+t[12],n*t[1]+i*t[5]+r*t[9]+t[13],n*t[2]+i*t[6]+r*t[10]+t[14],n*t[3]+i*t[7]+r*t[11]+t[15])},Zn.transformVectors=function(t,e,n){for(var i=0;i+3<=e.length;){var r=e[i],a=e[i+1],s=e[i+2];n[i]=r*t[0]+a*t[4]+s*t[8]+t[12],n[i+1]=r*t[1]+a*t[5]+s*t[9]+t[13],n[i+2]=r*t[2]+a*t[6]+s*t[10]+t[14],i+=3}},Zn.transpose=function(t){var e,n=e=null!=t?new wo(t):null;t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11]},Zn.getAxisRotation=function(t,e,n,i){var r=Zn._new(),a=new ti(t,e,n),s=-i*(Math.PI/180),l=Math.cos(s),o=Math.sin(s),h=1-l;Zn.set(r,0,l+a.x*a.x*h),Zn.set(r,5,l+a.y*a.y*h),Zn.set(r,10,l+a.z*a.z*h);var _=a.x*a.y*h,u=a.z*o;return Zn.set(r,4,_+u),Zn.set(r,1,_-u),_=a.x*a.z*h,u=a.y*o,Zn.set(r,8,_-u),Zn.set(r,2,_+u),_=a.y*a.z*h,u=a.x*o,Zn.set(r,9,_+u),Zn.set(r,6,_-u),r},Zn.get_determinant=function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},Zn.get_position=function(t){return new ti(t[12],t[13],t[14])},Zn.set_position=function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},Zn.get=function(t,e){return t[e]},Zn.set=function(t,e,n){return t[e]=n,n};var Qn=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=n,this.height=i};a["lime.math.Rectangle"]=Qn,Qn.__name__=["lime","math","Rectangle"],Qn.prototype={height:null,width:null,x:null,y:null,clone:function(){return new Qn(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,n=this.get_right()>t.get_right()?t.get_right():this.get_right();if(n<=e)return new Qn;var i=this.y<t.y?t.y:this.y,r=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return r<=i?new Qn:new Qn(e,i,n-e,r-i)},intersects:function(t){var e=this.x<t.x?t.x:this.x;if((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)return!1;var n=this.y<t.y?t.y:this.y;return(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())>n},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},transform:function(t){var e=t.a*this.x+t.c*this.y,n=e,i=t.b*this.x+t.d*this.y,r=i,a=t.a*(this.x+this.width)+t.c*this.y,s=t.b*(this.x+this.width)+t.d*this.y;return a<e&&(e=a),s<i&&(i=s),a>n&&(n=a),s>r&&(r=s),a=t.a*(this.x+this.width)+t.c*(this.y+this.height),s=t.b*(this.x+this.width)+t.d*(this.y+this.height),a<e&&(e=a),s<i&&(i=s),a>n&&(n=a),s>r&&(r=s),a=t.a*this.x+t.c*(this.y+this.height),s=t.b*this.x+t.d*(this.y+this.height),a<e&&(e=a),s<i&&(i=s),a>n&&(n=a),s>r&&(r=s),new Qn(e+t.tx,i+t.ty,n-e,r-i)},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,n=this.get_right()<t.get_right()?t.get_right():this.get_right(),i=this.y>t.y?t.y:this.y,r=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new Qn(e,i,n-e,r-i)},__contract:function(t,e,n,i){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+n&&(this.width=t+n-this.x),this.get_bottom()>e+i&&(this.height=e+i-this.y))},__expand:function(t,e,n,i){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=n,void(this.height=i);var r=this.get_right(),a=this.get_bottom();this.x>t&&(this.x=t),this.y>e&&(this.y=e),r<t+n&&(this.width=t+n-this.x),a<e+i&&(this.height=e+i-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new $n(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t,t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new $n(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t,t},get_topLeft:function(){return new $n(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:Qn,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var $n=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};a["lime.math.Vector2"]=$n,$n.__name__=["lime","math","Vector2"],$n.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},$n.interpolate=function(t,e,n){return new $n(e.x+n*(t.x-e.x),e.y+n*(t.y-e.y))},$n.polar=function(t,e){return new $n(t*Math.cos(e),t*Math.sin(e))},$n.prototype={length:null,x:null,y:null,add:function(t){return new $n(t.x+this.x,t.y+this.y)},clone:function(){return new $n(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new $n(this.x-t.x,this.y-t.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:$n,__properties__:{get_length:"get_length"}};var ti=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.w=i,this.x=t,this.y=e,this.z=n};a["lime.math.Vector4"]=ti,ti.__name__=["lime","math","Vector4"],ti.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},ti.X_AXIS=null,ti.Y_AXIS=null,ti.Z_AXIS=null,ti.angleBetween=function(t,e){var n=new ti(t.x,t.y,t.z,t.w),i=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);0!=i&&(n.x/=i,n.y/=i,n.z/=i);var r=new ti(e.x,e.y,e.z,e.w),a=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);return 0!=a&&(r.x/=a,r.y/=a,r.z/=a),Math.acos(n.x*r.x+n.y*r.y+n.z*r.z)},ti.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z;return Math.sqrt(n*n+i*i+r*r)},ti.get_X_AXIS=function(){return new ti(1,0,0)},ti.get_Y_AXIS=function(){return new ti(0,1,0)},ti.get_Z_AXIS=function(){return new ti(0,0,1)},ti.prototype={length:null,lengthSquared:null,w:null,x:null,y:null,z:null,add:function(t){return new ti(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new ti(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new ti(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,n){return null==n&&(n=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!n||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,n){this.x=t,this.y=e,this.z=n},subtract:function(t){return new ti(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:ti,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var ei={};a["lime.math.color._ARGB.ARGB_Impl_"]=ei,ei.__name__=["lime","math","color","_ARGB","ARGB_Impl_"],ei.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},ei.a16=null,ei.unmult=null,ei._new=function(t){return null==t&&(t=0),t},ei.create=function(t,e,n,i){return(255&t)<<24|(255&e)<<16|(255&n)<<8|255&i},ei.multiplyAlpha=function(t){0==(t>>24&255)?t=0:255!=(t>>24&255)&&(ei.a16=ii.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*ei.a16>>16&255)<<16|((t>>8&255)*ei.a16>>16&255)<<8|(255&t)*ei.a16>>16&255)},ei.readUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),i){case 0:t=(255&e[n+1])<<24|(255&e[n+2])<<16|(255&e[n+3])<<8|255&e[n];break;case 1:t=(255&e[n+2])<<24|(255&e[n+3])<<16|(255&e[n])<<8|255&e[n+1];break;case 2:t=(255&e[n+1])<<24|(255&e[n])<<16|(255&e[n+3])<<8|255&e[n+2]}r&&0!=(t>>24&255)&&255!=(t>>24&255)&&(ei.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&ii.__clamp[Math.floor((t>>16&255)*ei.unmult)])<<16|(255&ii.__clamp[Math.floor((t>>8&255)*ei.unmult)])<<8|255&ii.__clamp[Math.floor((255&t)*ei.unmult)])},ei.set=function(t,e,n,i,r){(255&e)<<24|(255&n)<<16|(255&i)<<8|255&r},ei.unmultiplyAlpha=function(t){0!=(t>>24&255)&&255!=(t>>24&255)&&(ei.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&ii.__clamp[Math.floor((t>>16&255)*ei.unmult)])<<16|(255&ii.__clamp[Math.floor((t>>8&255)*ei.unmult)])<<8|255&ii.__clamp[Math.floor((255&t)*ei.unmult)])},ei.writeUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),r&&(0==(t>>24&255)?t=0:255!=(t>>24&255)&&(ei.a16=ii.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*ei.a16>>16&255)<<16|((t>>8&255)*ei.a16>>16&255)<<8|(255&t)*ei.a16>>16&255)),i){case 0:e[n]=t>>16&255,e[n+1]=t>>8&255,e[n+2]=255&t,e[n+3]=t>>24&255;break;case 1:e[n]=t>>24&255,e[n+1]=t>>16&255,e[n+2]=t>>8&255,e[n+3]=255&t;break;case 2:e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255}},ei.__fromBGRA=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},ei.__fromRGBA=function(t){return(255&t)<<24|(255&t>>24)<<16|(255&t>>16)<<8|255&t>>8},ei.get_a=function(t){return t>>24&255},ei.set_a=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},ei.get_b=function(t){return 255&t},ei.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},ei.get_g=function(t){return t>>8&255},ei.set_g=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},ei.get_r=function(t){return t>>16&255},ei.set_r=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e};var ni={};a["lime.math.color._BGRA.BGRA_Impl_"]=ni,ni.__name__=["lime","math","color","_BGRA","BGRA_Impl_"],ni.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},ni.a16=null,ni.unmult=null,ni._new=function(t){return null==t&&(t=0),t},ni.create=function(t,e,n,i){return(255&t)<<24|(255&e)<<16|(255&n)<<8|255&i},ni.multiplyAlpha=function(t){0==(255&t)?t=0:255!=(255&t)&&(ni.a16=ii.__alpha16[255&t],t=((t>>24&255)*ni.a16>>16&255)<<24|((t>>16&255)*ni.a16>>16&255)<<16|((t>>8&255)*ni.a16>>16&255)<<8|255&t)},ni.readUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),i){case 0:t=(255&e[n+2])<<24|(255&e[n+1])<<16|(255&e[n])<<8|255&e[n+3];break;case 1:t=(255&e[n+3])<<24|(255&e[n+2])<<16|(255&e[n+1])<<8|255&e[n];break;case 2:t=(255&e[n])<<24|(255&e[n+1])<<16|(255&e[n+2])<<8|255&e[n+3]}r&&0!=(255&t)&&255!=(255&t)&&(ni.unmult=255/(255&t),t=(255&ii.__clamp[Math.floor((t>>24&255)*ni.unmult)])<<24|(255&ii.__clamp[Math.floor((t>>16&255)*ni.unmult)])<<16|(255&ii.__clamp[Math.floor((t>>8&255)*ni.unmult)])<<8|255&t)},ni.set=function(t,e,n,i,r){(255&e)<<24|(255&n)<<16|(255&i)<<8|255&r},ni.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(ni.unmult=255/(255&t),t=(255&ii.__clamp[Math.floor((t>>24&255)*ni.unmult)])<<24|(255&ii.__clamp[Math.floor((t>>16&255)*ni.unmult)])<<16|(255&ii.__clamp[Math.floor((t>>8&255)*ni.unmult)])<<8|255&t)},ni.writeUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),r&&(0==(255&t)?t=0:255!=(255&t)&&(ni.a16=ii.__alpha16[255&t],t=((t>>24&255)*ni.a16>>16&255)<<24|((t>>16&255)*ni.a16>>16&255)<<16|((t>>8&255)*ni.a16>>16&255)<<8|255&t)),i){case 0:e[n]=t>>8&255,e[n+1]=t>>16&255,e[n+2]=t>>24&255,e[n+3]=255&t;break;case 1:e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255;break;case 2:e[n]=t>>24&255,e[n+1]=t>>16&255,e[n+2]=t>>8&255,e[n+3]=255&t}},ni.__fromARGB=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},ni.__fromRGBA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},ni.get_a=function(t){return 255&t},ni.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},ni.get_b=function(t){return t>>24&255},ni.set_b=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},ni.get_g=function(t){return t>>16&255},ni.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},ni.get_r=function(t){return t>>8&255},ni.set_r=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e};var ii={};a["lime.math.color._RGBA.RGBA_Impl_"]=ii,ii.__name__=["lime","math","color","_RGBA","RGBA_Impl_"],ii.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},ii.__alpha16=null,ii.__clamp=null,ii.a16=null,ii.unmult=null,ii._new=function(t){return null==t&&(t=0),t},ii.create=function(t,e,n,i){return(255&t)<<24|(255&e)<<16|(255&n)<<8|255&i},ii.multiplyAlpha=function(t){0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(ii.a16=ii.__alpha16[255&t],t=((t>>24&255)*ii.a16>>16&255)<<24|((t>>16&255)*ii.a16>>16&255)<<16|((t>>8&255)*ii.a16>>16&255)<<8|255&t)},ii.readUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),i){case 0:t=(255&e[n])<<24|(255&e[n+1])<<16|(255&e[n+2])<<8|255&e[n+3];break;case 1:t=(255&e[n+1])<<24|(255&e[n+2])<<16|(255&e[n+3])<<8|255&e[n];break;case 2:t=(255&e[n+2])<<24|(255&e[n+1])<<16|(255&e[n])<<8|255&e[n+3]}r&&0!=(255&t)&&255!=(255&t)&&(ii.unmult=255/(255&t),t=(255&ii.__clamp[Math.round((t>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((t>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((t>>8&255)*ii.unmult)])<<8|255&t)},ii.set=function(t,e,n,i,r){(255&e)<<24|(255&n)<<16|(255&i)<<8|255&r},ii.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(ii.unmult=255/(255&t),t=(255&ii.__clamp[Math.round((t>>24&255)*ii.unmult)])<<24|(255&ii.__clamp[Math.round((t>>16&255)*ii.unmult)])<<16|(255&ii.__clamp[Math.round((t>>8&255)*ii.unmult)])<<8|255&t)},ii.writeUInt8=function(t,e,n,i,r){switch(null==r&&(r=!1),null==i&&(i=0),r&&(0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(ii.a16=ii.__alpha16[255&t],t=((t>>24&255)*ii.a16>>16&255)<<24|((t>>16&255)*ii.a16>>16&255)<<16|((t>>8&255)*ii.a16>>16&255)<<8|255&t)),i){case 0:e[n]=t>>24&255,e[n+1]=t>>16&255,e[n+2]=t>>8&255,e[n+3]=255&t;break;case 1:e[n]=255&t,e[n+1]=t>>24&255,e[n+2]=t>>16&255,e[n+3]=t>>8&255;break;case 2:e[n]=t>>8&255,e[n+1]=t>>16&255,e[n+2]=t>>24&255,e[n+3]=255&t}},ii.__fromARGB=function(t){return(255&t>>16)<<24|(255&t>>8)<<16|(255&t)<<8|255&t>>24},ii.__fromBGRA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},ii.get_a=function(t){return 255&t},ii.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},ii.get_b=function(t){return t>>8&255},ii.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},ii.get_g=function(t){return t>>16&255},ii.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},ii.get_r=function(t){return t>>24&255},ii.set_r=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e};var ri=function(){this.promise=new ln};a["lime.net.HTTPRequest"]=ri,ri.__name__=["lime","net","HTTPRequest"],ri.prototype={bytes:null,bytesLoaded:null,bytesTotal:null,promise:null,load:function(t){var e=this;this.bytesLoaded=0,this.bytesTotal=0;var n=new XMLHttpRequest;return n.addEventListener("progress",r(this,this.request_onProgress),!1),n.onreadystatechange=function(){4==n.readyState&&(null!=n.status&&n.status>=200&&n.status<=400?(e.bytes=Oi.ofData(n.response),e.promise.complete(e.bytes)):e.promise.error(n.status))},n.open("GET",t,!0),n.responseType="arraybuffer",n.send(""),this.promise.future},curl_onProgress:function(t,e,n,i){return(i>this.bytesLoaded||e>this.bytesLoaded||n>this.bytesTotal||t>this.bytesTotal)&&(i>this.bytesLoaded&&(this.bytesLoaded=0|i),e>this.bytesLoaded&&(this.bytesLoaded=0|e),n>this.bytesTotal&&(this.bytesTotal=0|n),t>this.bytesTotal&&(this.bytesTotal=0|t),this.promise.progress(this.bytesLoaded/this.bytesTotal)),0},curl_onWrite:function(t,e,n){var i=this.bytes;return this.bytes=Oi.alloc(this.bytes.length+t.length),this.bytes.blit(0,i,0,i.length),this.bytes.blit(i.length,t,0,t.length),e*n},request_onProgress:function(t){this.promise.progress(t.loaded/t.total)},__class__:ri};var ai={};a["lime.net.curl._CURL.CURL_Impl_"]=ai,ai.__name__=["lime","net","curl","_CURL","CURL_Impl_"],ai.getDate=function(t,e){return 0},ai.globalCleanup=function(){},ai.globalInit=function(t){return 0},ai.version=function(){return null},ai.versionInfo=function(t){return null},ai.intGt=function(t,e){return t>e};var si=function(){};a["lime.net.curl.CURLEasy"]=si,si.__name__=["lime","net","curl","CURLEasy"],si.cleanup=function(t){},si.duphandle=function(t){return 0},si.escape=function(t,e,n){return null},si.getinfo=function(t,e){return null},si.init=function(){return 0},si.pause=function(t,e){return 0},si.perform=function(t){return 0},si.reset=function(t){},si.setopt=function(t,e,n){return 0},si.strerror=function(t){return null},si.unescape=function(t,e,n,i){return null},si.__writeCallback=function(t,e,n,i){return 0};var li=function(){this.onProgress=new Ye,this.onError=new Ye,this.onComplete=new Ye,this.doWork=new Ye};a["lime.system.BackgroundWorker"]=li,li.__name__=["lime","system","BackgroundWorker"],li.prototype={canceled:null,doWork:null,onComplete:null,onError:null,onProgress:null,__runMessage:null,cancel:function(){this.canceled=!0},run:function(t){this.canceled=!1,this.__runMessage=t,this.__doWork()},sendComplete:function(t){this.canceled||(this.canceled=!0,this.onComplete.dispatch(t))},sendError:function(t){this.canceled||(this.canceled=!0,this.onError.dispatch(t))},sendProgress:function(t){this.canceled||this.onProgress.dispatch(t)},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__update:function(t){},__class__:li};var oi=function(){};a["lime.system.CFFI"]=oi,oi.__name__=["lime","system","CFFI"],oi.available=null,oi.enabled=null,oi.load=function(t,e,n,i){if(null==i&&(i=!1),null==n&&(n=0),!oi.enabled)return D.makeVarArgs(function(t){return{}});return null},oi.__findHaxelib=function(t){return""},oi.__loaderTrace=function(t){},oi.__sysName=function(){return null},oi.__tryLoad=function(t,e,n,i){return null};var hi={};a["lime.system._CFFIPointer.CFFIPointer_Impl_"]=hi,hi.__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"],hi._new=function(t){return t},hi.get=function(t){return 0},hi.equals=function(t,e){return hi.get(t)==e},hi.equalsPointer=function(t,e){return hi.get(t)==hi.get(e)},hi.greaterThan=function(t,e){return hi.get(t)>e},hi.greaterThanPointer=function(t,e){return hi.get(t)>hi.get(e)},hi.greaterThanOrEqual=function(t,e){return hi.get(t)>=e},hi.greaterThanOrEqualPointer=function(t,e){return hi.get(t)>=hi.get(e)},hi.lessThan=function(t,e){return hi.get(t)<e},hi.lessThanPointer=function(t,e){return hi.get(t)<hi.get(e)},hi.lessThanOrEqual=function(t,e){return hi.get(t)<=e},hi.lessThanOrEqualPointer=function(t,e){return hi.get(t)<=hi.get(e)},hi.notEquals=function(t,e){return hi.get(t)!=e},hi.notEqualsPointer=function(t,e){return hi.get(t)!=hi.get(e)};var _i=function(){};a["lime.system.Clipboard"]=_i,_i.__name__=["lime","system","Clipboard"],_i.__properties__={set_text:"set_text",get_text:"get_text"},_i.get_text=function(){return null},_i.set_text=function(t){return null};var ui=function(){};a["lime.system.Display"]=ui,ui.__name__=["lime","system","Display"],ui.prototype={bounds:null,currentMode:null,id:null,dpi:null,name:null,supportedModes:null,__class__:ui};var ci=function(t,e,n,i){this.width=t,this.height=e,this.refreshRate=n,this.pixelFormat=i};a["lime.system.DisplayMode"]=ci,ci.__name__=["lime","system","DisplayMode"],ci.prototype={height:null,pixelFormat:null,refreshRate:null,width:null,__class__:ci};var di=a["lime.system.Endian"]={__ename__:!0,__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};di.LITTLE_ENDIAN=["LITTLE_ENDIAN",0],di.LITTLE_ENDIAN.toString=s,di.LITTLE_ENDIAN.__enum__=di,di.BIG_ENDIAN=["BIG_ENDIAN",1],di.BIG_ENDIAN.toString=s,di.BIG_ENDIAN.__enum__=di;var fi=function(){};a["lime.system.System"]=fi,fi.__name__=["lime","system","System"],fi.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},fi.applicationDirectory=null,fi.applicationStorageDirectory=null,fi.desktopDirectory=null,fi.disableCFFI=null,fi.documentsDirectory=null,fi.endianness=null,fi.fontsDirectory=null,fi.numDisplays=null,fi.userDirectory=null,fi.embed=t.lime.embed=function(t,e,n,i,r){var a=null;a="string"==typeof t?window.document.getElementById(X.__cast(t,String)):null==t?window.document.createElement("div"):t;var s=null;null!=i&&(i=k.replace(i,"#",""),s=P.parseInt(i.indexOf("0x")>-1?i:"0x"+i)),null==e&&(e=0),null==n&&(n=0),l.config.windows[0].background=s,l.config.windows[0].element=a,l.config.windows[0].width=e,l.config.windows[0].height=n,l.config.assetsPrefix=r,l.create()},fi.exit=function(t){},fi.getDisplay=function(t){if(0==t){var e=new ui;return e.id=0,e.name="Generic Display",e.dpi=96,e.currentMode=new ci(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new Qn(0,0,e.currentMode.width,e.currentMode.height),e}return null},fi.getTimer=function(){return(new Date).getTime()},fi.load=function(t,e,n,i){return null==i&&(i=!1),null==n&&(n=0),oi.load(t,e,n,i)},fi.get_allowScreenTimeout=function(){return!0},fi.set_allowScreenTimeout=function(t){return!0},fi.get_applicationDirectory=function(){return null},fi.get_applicationStorageDirectory=function(){return null!=Ge.current&&null!=Ge.current.config&&(null!=Ge.current.config.company&&Ge.current.config.company,null!=Ge.current.config.file&&Ge.current.config.file),null},fi.get_desktopDirectory=function(){return null},fi.get_documentsDirectory=function(){return null},fi.get_fontsDirectory=function(){return null},fi.get_numDisplays=function(){return 1},fi.get_userDirectory=function(){return null},fi.get_endianness=function(){return di.LITTLE_ENDIAN};var gi=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onProgress=new Ye,this.onError=new Ye,this.onComplete=new Ye,this.doWork=new Ye,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};a["lime.system.ThreadPool"]=gi,gi.__name__=["lime","system","ThreadPool"],gi.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onProgress:null,queue:function(t){this.doWork.dispatch(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},__class__:gi};var pi=a["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:!0,__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};pi.COMPLETE=["COMPLETE",0],pi.COMPLETE.toString=s,pi.COMPLETE.__enum__=pi,pi.ERROR=["ERROR",1],pi.ERROR.toString=s,pi.ERROR.__enum__=pi,pi.EXIT=["EXIT",2],pi.EXIT.toString=s,pi.EXIT.__enum__=pi,pi.PROGRESS=["PROGRESS",3],pi.PROGRESS.toString=s,pi.PROGRESS.__enum__=pi,pi.WORK=["WORK",4],pi.WORK.toString=s,pi.WORK.__enum__=pi;var mi=function(t,e){this.type=t,this.state=e};a["lime.system._ThreadPool.ThreadPoolMessage"]=mi,mi.__name__=["lime","system","_ThreadPool","ThreadPoolMessage"],mi.prototype={state:null,type:null,__class__:mi};var vi={};a["lime.text._Glyph.Glyph_Impl_"]=vi,vi.__name__=["lime","text","_Glyph","Glyph_Impl_"],vi._new=function(t){return t};var xi=function(){};a["lime.text.GlyphMetrics"]=xi,xi.__name__=["lime","text","GlyphMetrics"],xi.prototype={advance:null,height:null,horizontalBearing:null,verticalBearing:null,__class__:xi};var yi=function(t,e,n){this.glyph=t,this.advance=e,this.offset=null!=n?n:new $n};a["lime.text.GlyphPosition"]=yi,yi.__name__=["lime","text","GlyphPosition"],yi.prototype={advance:null,glyph:null,offset:null,__class__:yi};var wi={};a["lime.text._TextDirection.TextDirection_Impl_"]=wi,wi.__name__=["lime","text","_TextDirection","TextDirection_Impl_"],wi.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},wi.reverse=function(t){1},wi.toString=function(t){switch(t){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},wi.get_backward=function(t){return 5==(-3&t)},wi.get_forward=function(t){return 4==(-3&t)},wi.get_horizontal=function(t){return 4==(-2&t)},wi.get_vertical=function(t){return 6==(-2&t)};var bi=function(t,e,n,i,r,a){null==a&&(a="en"),null==r&&(r="Zyyy"),null==i&&(i=4),null==n&&(n=12),null==t&&(t=""),this.set_text(t),this.set_font(e),this.set_size(n),this.__direction=i,this.__script=r,this.__language=a,this.positions=[],this.__dirty=!0};a["lime.text.TextLayout"]=bi,bi.__name__=["lime","text","TextLayout"],bi.prototype={font:null,glyphs:null,positions:null,size:null,text:null,__dirty:null,__buffer:null,__direction:null,__handle:null,__language:null,__script:null,__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction?t:(this.__direction=t,this.__dirty=!0,t)},set_font:function(t){return t==this.font?t:(this.font=t,this.__dirty=!0,t)},get_glyphs:function(){for(var t=[],e=0,n=this.get_positions();e<n.length;){var i=n[e];++e,t.push(i.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language?t:(this.__language=t,this.__dirty=!0,t)},get_script:function(){return this.__script},set_script:function(t){return t==this.__script?t:(this.__script=t,this.__dirty=!0,t)},set_size:function(t){return t==this.size?t:(this.size=t,this.__dirty=!0,t)},set_text:function(t){return t==this.text?t:(this.text=t,this.__dirty=!0,t)},__class__:bi,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var Ti={};a["lime.text._TextScript.TextScript_Impl_"]=Ti,Ti.__name__=["lime","text","_TextScript","TextScript_Impl_"],Ti.__properties__={get_rightToLeft:"get_rightToLeft"},Ti.get_rightToLeft=function(t){switch(t){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}};var Ei=function(t){this.onDisconnect=new De,this.onButtonUp=new $e,this.onButtonDown=new $e,this.onAxisMove=new Qe,this.id=t,this.connected=!0};a["lime.ui.Gamepad"]=Ei,Ei.__name__=["lime","ui","Gamepad"],Ei.addMappings=function(t){},Ei.__connect=function(t){if(!Ei.devices.h.hasOwnProperty(t)){var e=new Ei(t);Ei.devices.h[t]=e,Ei.onConnect.dispatch(e)}},Ei.__disconnect=function(t){var e=Ei.devices.h[t];null!=e&&(e.connected=!1),Ei.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Ei.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return Ii.__getDeviceData()[this.id].id},get_name:function(){return Ii.__getDeviceData()[this.id].id},__class__:Ei,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Ri={};a["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=Ri,Ri.__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"],Ri.toString=function(t){switch(t){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+t+")"}};var Ai={};a["lime.ui._GamepadButton.GamepadButton_Impl_"]=Ai,Ai.__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"],Ai.toString=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+t+")"}};var Ii=function(t){this.onTrackballMove=new We,this.onHatMove=new Ke,this.onDisconnect=new De,this.onButtonUp=new je,this.onButtonDown=new je,this.onAxisMove=new We,this.id=t,this.connected=!0};a["lime.ui.Joystick"]=Ii,Ii.__name__=["lime","ui","Joystick"],Ii.__connect=function(t){if(!Ii.devices.h.hasOwnProperty(t)){var e=new Ii(t);Ii.devices.h[t]=e,Ii.onConnect.dispatch(e)}},Ii.__disconnect=function(t){var e=Ii.devices.h[t];null!=e&&(e.connected=!1),Ii.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Ii.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},Ii.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,get_guid:function(){return Ii.__getDeviceData()[this.id].id},get_name:function(){return Ii.__getDeviceData()[this.id].id},get_numAxes:function(){return Ii.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return Ii.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:Ii,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var Si={};a["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=Si,Si.__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"],Si.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},Si._new=function(t){return t},Si.get_center=function(t){return 0==t},Si.set_center=function(t,e){return e&&0,e},Si.get_down=function(t){return(4&t)>0},Si.set_down=function(t,e){return e?4:268435451,e},Si.get_left=function(t){return(8&t)>0},Si.set_left=function(t,e){return e?8:268435447,e},Si.get_right=function(t){return(2&t)>0},Si.set_right=function(t,e){return e?2:268435453,e},Si.get_up=function(t){return(1&t)>0},Si.set_up=function(t,e){return e?1:268435454,e};var Ci={};a["lime.ui._KeyCode.KeyCode_Impl_"]=Ci,Ci.__name__=["lime","ui","_KeyCode","KeyCode_Impl_"],Ci.gt=function(t,e){return t>e},Ci.gte=function(t,e){return t>=e},Ci.lt=function(t,e){return t<e},Ci.lte=function(t,e){return t<=e},Ci.plus=function(t,e){return t+e};var Mi={};a["lime.ui._KeyModifier.KeyModifier_Impl_"]=Mi,Mi.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"],Mi.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},Mi.get_altKey=function(t){return!((256&t)<=0)||(512&t)>0},Mi.set_altKey=function(t,e){return e?768:268434687,e},Mi.get_capsLock=function(t){return!((8192&t)<=0)||(8192&t)>0},Mi.set_capsLock=function(t,e){return e?8192:268427263,e},Mi.get_ctrlKey=function(t){return!((64&t)<=0)||(128&t)>0},Mi.set_ctrlKey=function(t,e){return e?192:268435263,e},Mi.get_metaKey=function(t){return!((1024&t)<=0)||(2048&t)>0},Mi.set_metaKey=function(t,e){return e?3072:268432383,e},Mi.get_numLock=function(t){return!((4096&t)<=0)||(4096&t)>0},Mi.set_numLock=function(t,e){return e?4096:268431359,e},Mi.get_shiftKey=function(t){return!((1&t)<=0)||(2&t)>0},Mi.set_shiftKey=function(t,e){return e?3:268435452,e};var Di=function(){};a["lime.ui.Mouse"]=Di,Di.__name__=["lime","ui","Mouse"],Di.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"},Di.hide=function(){Be.hide()},Di.show=function(){Be.show()},Di.warp=function(t,e,n){Be.warp(t,e,n)},Di.get_cursor=function(){return Be.get_cursor()},Di.set_cursor=function(t){return Be.set_cursor(t)},Di.get_lock=function(){return Be.get_lock()},Di.set_lock=function(t){return Be.set_lock(t)};var Pi=a["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};Pi.ARROW=["ARROW",0],Pi.ARROW.toString=s,Pi.ARROW.__enum__=Pi,Pi.CROSSHAIR=["CROSSHAIR",1],Pi.CROSSHAIR.toString=s,Pi.CROSSHAIR.__enum__=Pi,Pi.DEFAULT=["DEFAULT",2],Pi.DEFAULT.toString=s,Pi.DEFAULT.__enum__=Pi,Pi.MOVE=["MOVE",3],Pi.MOVE.toString=s,Pi.MOVE.__enum__=Pi,Pi.POINTER=["POINTER",4],Pi.POINTER.toString=s,Pi.POINTER.__enum__=Pi,Pi.RESIZE_NESW=["RESIZE_NESW",5],Pi.RESIZE_NESW.toString=s,Pi.RESIZE_NESW.__enum__=Pi,Pi.RESIZE_NS=["RESIZE_NS",6],Pi.RESIZE_NS.toString=s,Pi.RESIZE_NS.__enum__=Pi,Pi.RESIZE_NWSE=["RESIZE_NWSE",7],Pi.RESIZE_NWSE.toString=s,Pi.RESIZE_NWSE.__enum__=Pi,Pi.RESIZE_WE=["RESIZE_WE",8],Pi.RESIZE_WE.toString=s,Pi.RESIZE_WE.__enum__=Pi,Pi.TEXT=["TEXT",9],Pi.TEXT.toString=s,Pi.TEXT.__enum__=Pi,Pi.WAIT=["WAIT",10],Pi.WAIT.toString=s,Pi.WAIT.__enum__=Pi,Pi.WAIT_ARROW=["WAIT_ARROW",11],Pi.WAIT_ARROW.toString=s,Pi.WAIT_ARROW.__enum__=Pi,Pi.CUSTOM=["CUSTOM",12],Pi.CUSTOM.toString=s,Pi.CUSTOM.__enum__=Pi;var Li=function(t,e,n,i,r,a,s){this.x=t,this.y=e,this.id=n,this.dx=i,this.dy=r,this.pressure=a,this.device=s};a["lime.ui.Touch"]=Li,Li.__name__=["lime","ui","Touch"],Li.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:Li};var ki=function(t){this.onTextInput=new Je,this.onTextEdit=new qe,this.onRestore=new De,this.onResize=new ze,this.onMove=new Ve,this.onMouseWheel=new Ve,this.onMouseUp=new He,this.onMouseMoveRelative=new Ve,this.onMouseMove=new Ve,this.onMouseDown=new He,this.onMinimize=new De,this.onLeave=new De,this.onKeyUp=new nn,this.onKeyDown=new nn,this.onFullscreen=new De,this.onFocusOut=new De,this.onFocusIn=new De,this.onEnter=new De,this.onDropFile=new Je,this.onDeactivate=new De,this.onCreate=new De,this.onClose=new De,this.onActivate=new De,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"borderless")&&(this.__borderless=t.borderless),Object.prototype.hasOwnProperty.call(t,"resizable")&&(this.__resizable=t.resizable),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new Fe(this)};a["lime.ui.Window"]=ki,ki.__name__=["lime","ui","Window"],ki.prototype={application:null,config:null,display:null,id:null,onActivate:null,onClose:null,onCreate:null,onDeactivate:null,onDropFile:null,onEnter:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,renderer:null,scale:null,stage:null,backend:null,__borderless:null,__fullscreen:null,__height:null,__maximized:null,__minimized:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,alert:function(t,e){this.backend.alert(t,e)},close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(t,e){this.backend.move(t,e),this.__x=t,this.__y=e},resize:function(t,e){this.backend.resize(t,e),this.__width=t,this.__height=e},setIcon:function(t){null!=t&&this.backend.setIcon(t)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.backend.setBorderless(t)},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(t){return this.backend.setEnableTextEvents(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_maximized:function(){return this.__maximized},set_maximized:function(t){return this.__minimized=!1,this.__maximized=this.backend.setMaximized(t)},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__maximized=!1,this.__minimized=this.backend.setMinimized(t)},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.backend.setResizable(t),this.__resizable},get_scale:function(){return this.__scale},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.backend.setTitle(this.__title)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:ki,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var Bi=a["lime.utils.TAError"]={__ename__:!0,__constructs__:["RangeError"]};Bi.RangeError=["RangeError",0],Bi.RangeError.toString=s,Bi.RangeError.__enum__=Bi;var Oi=function(t,e){me.call(this,e)};a["lime.utils.Bytes"]=Oi,Oi.__name__=["lime","utils","Bytes"],Oi.alloc=function(t){var e=new me(new xo(t));return new Oi(e.length,e.b.bufferValue)},Oi.fastGet=function(t,e){return t.bytes[e]},Oi.ofData=function(t){var e=me.ofData(t);return new Oi(e.length,e.b.bufferValue)},Oi.ofString=function(t){var e=me.ofString(t);return new Oi(e.length,e.b.bufferValue)},Oi.readFile=function(t){return null},Oi.lime_bytes_from_data_pointer=function(t,e){return Oi.cffi_lime_bytes_from_data_pointer(t,e)},Oi.lime_bytes_get_data_pointer=function(t){return Oi.cffi_lime_bytes_get_data_pointer(t)},Oi.lime_bytes_read_file=function(t){return Oi.cffi_lime_bytes_read_file(t)},Oi.__super__=me,Oi.prototype=n(me.prototype,{__class__:Oi});var Fi={};a["lime.utils._Float32Array.Float32Array_Impl_"]=Fi,Fi.__name__=["lime","utils","_Float32Array","Float32Array_Impl_"],Fi.__set=function(t,e,n){return t[e]=n},Fi.__get=function(t,e){return t[e]},Fi.fromBytes=function(t,e,n){return null==e&&(e=0),null==e?new wo(t.b.bufferValue):null==n?new wo(t.b.bufferValue,e):new wo(t.b.bufferValue,e,n)},Fi.toBytes=function(t){return new me(new bo(t.buffer))},Fi.toString=function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Ni=function(){};a["lime.utils.GLUtils"]=Ni,Ni.__name__=["lime","utils","GLUtils"],Ni.compileShader=function(t,e){var n=Wn.context.createShader(e);if(Wn.context.shaderSource(n,t),Wn.context.compileShader(n),0==Wn.context.getShaderParameter(n,35713))switch(e){case 35632:throw new Ee("Error compiling fragment shader");case 35633:throw new Ee("Error compiling vertex shader");default:throw new Ee("Error compiling unknown shader type")}return n},Ni.createProgram=function(t,e){var n=Ni.compileShader(t,35633),i=Ni.compileShader(e,35632),r=Wn.context.createProgram();if(Wn.context.attachShader(r,n),Wn.context.attachShader(r,i),Wn.context.linkProgram(r),0==Wn.context.getProgramParameter(r,35714))throw new Ee("Unable to initialize the shader program.");return r};var Ui={};a["lime.utils._Int16Array.Int16Array_Impl_"]=Ui,Ui.__name__=["lime","utils","_Int16Array","Int16Array_Impl_"],Ui.__set=function(t,e,n){return t[e]=n},Ui.__get=function(t,e){return t[e]},Ui.fromBytes=function(t,e,n){return null==e&&(e=0),null==e?new Int16Array(t.b.bufferValue):null==n?new Int16Array(t.b.bufferValue,e):new Int16Array(t.b.bufferValue,e,n)},Ui.toBytes=function(t){return new me(new bo(t.buffer))},Ui.toString=function(t){return null!=t?"Int16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Gi={};a["lime.utils._Int32Array.Int32Array_Impl_"]=Gi,Gi.__name__=["lime","utils","_Int32Array","Int32Array_Impl_"],Gi.__set=function(t,e,n){return t[e]=n},Gi.__get=function(t,e){return t[e]},Gi.fromBytes=function(t,e,n){return null==e&&(e=0),null==e?new Int32Array(t.b.bufferValue):null==n?new Int32Array(t.b.bufferValue,e):new Int32Array(t.b.bufferValue,e,n)},Gi.toBytes=function(t){return new me(new bo(t.buffer))},Gi.toString=function(t){return null!=t?"Int32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Xi=function(){};a["lime.utils.LZMA"]=Xi,Xi.__name__=["lime","utils","LZMA"],Xi.decode=function(t){return null},Xi.encode=function(t){return null};var Yi={};a["lime.utils._UInt16Array.UInt16Array_Impl_"]=Yi,Yi.__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"],Yi.__set=function(t,e,n){return t[e]=n},Yi.__get=function(t,e){return t[e]},Yi.fromBytes=function(t,e,n){return null==e&&(e=0),null==e?new Uint16Array(t.b.bufferValue):null==n?new Uint16Array(t.b.bufferValue,e):new Uint16Array(t.b.bufferValue,e,n)},Yi.toBytes=function(t){return new me(new bo(t.buffer))},Yi.toString=function(t){return null!=t?"UInt16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Hi={};a["lime.utils._UInt32Array.UInt32Array_Impl_"]=Hi,Hi.__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"],Hi.__set=function(t,e,n){return t[e]=n},Hi.__get=function(t,e){return t[e]},Hi.fromBytes=function(t,e,n){return null==e&&(e=0),null==e?new Uint32Array(t.b.bufferValue):null==n?new Uint32Array(t.b.bufferValue,e):new Uint32Array(t.b.bufferValue,e,n)},Hi.toBytes=function(t){return new me(new bo(t.buffer))},Hi.toString=function(t){return null!=t?"UInt32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Vi={};a["lime.utils._UInt8Array.UInt8Array_Impl_"]=Vi,Vi.__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"],Vi.__set=function(t,e,n){return t[e]=n},Vi.__get=function(t,e){return t[e]},Vi.fromBytes=function(t,e,n){return null==e?new bo(t.b.bufferValue):null==n?new bo(t.b.bufferValue,e):new bo(t.b.bufferValue,e,n)},Vi.toBytes=function(t){return new me(new bo(t.buffer))},Vi.toString=function(t){return null!=t?"UInt8Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Wi=function(){};a["openfl.IAssetCache"]=Wi,Wi.__name__=["openfl","IAssetCache"],Wi.prototype={get_enabled:null,set_enabled:null,clear:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,removeFont:null,removeSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:Wi,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var zi=function(){this.__enabled=!0,this.bitmapData=new ge,this.font=new ge,this.sound=new ge};a["openfl.AssetCache"]=zi,zi.__name__=["openfl","AssetCache"],zi.__interfaces__=[Wi],zi.prototype={bitmapData:null,font:null,sound:null,__enabled:null,clear:function(t){if(null==t)this.bitmapData=new ge,this.font=new ge,this.sound=new ge;else{for(var e=this.bitmapData.keys();e.hasNext();){var n=e.next();k.startsWith(n,t)&&this.bitmapData.remove(n)}for(var i=this.font.keys();i.hasNext();){var r=i.next();k.startsWith(r,t)&&this.font.remove(r)}for(var a=this.sound.keys();a.hasNext();){var s=a.next();k.startsWith(s,t)&&this.sound.remove(s)}}},getBitmapData:function(t){var e=this.bitmapData;return null!=vo[t]?e.getReserved(t):e.h[t]},getFont:function(t){var e=this.font;return null!=vo[t]?e.getReserved(t):e.h[t]},getSound:function(t){var e=this.sound;return null!=vo[t]?e.getReserved(t):e.h[t]},hasBitmapData:function(t){var e=this.bitmapData;return null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasFont:function(t){var e=this.font;return null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasSound:function(t){var e=this.sound;return null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},removeBitmapData:function(t){return this.bitmapData.remove(t)},removeFont:function(t){return this.font.remove(t)},removeSound:function(t){return this.sound.remove(t)},setBitmapData:function(t,e){var n=this.bitmapData;null!=vo[t]?n.setReserved(t,e):n.h[t]=e},setFont:function(t,e){var n=this.font;null!=vo[t]?n.setReserved(t,e):n.h[t]=e},setSound:function(t,e){var n=this.sound;null!=vo[t]?n.setReserved(t,e):n.h[t]=e},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:zi,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var ji=function(){};a["openfl.Assets"]=ji,ji.__name__=["openfl","Assets"],ji.addEventListener=function(t,e,n,i,r){null==r&&(r=!1),null==i&&(i=0),null==n&&(n=!1),Pe.onChange.has(ji.LimeAssets_onChange)||Pe.onChange.add(ji.LimeAssets_onChange),ji.dispatcher.addEventListener(t,e,n,i,r)},ji.dispatchEvent=function(t){return ji.dispatcher.dispatchEvent(t)},ji.exists=function(t,e){return Pe.exists(t,e)},ji.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&ji.cache.get_enabled()&&ji.cache.hasBitmapData(t)){var n=ji.cache.getBitmapData(t);if(ji.isValidBitmapData(n))return n}var i=Pe.getImage(t,!1);if(null!=i){var r=Ia.fromImage(i);return e&&ji.cache.get_enabled()&&ji.cache.setBitmapData(t,r),r}return null},ji.getBytes=function(t){return Bl.fromBytes(Pe.getBytes(t))},ji.getFont=function(t,e){if(null==e&&(e=!0),e&&ji.cache.get_enabled()&&ji.cache.hasFont(t))return ji.cache.getFont(t);var n=Pe.getFont(t,!1);if(null!=n){var i=T.__fromLimeFont(n);return e&&ji.cache.get_enabled()&&ji.cache.setFont(t,i),i}return new T},ji.getLibrary=function(t){return Pe.getLibrary(t)},ji.getMovieClip=function(t){var e=t.substring(0,t.indexOf(":")),n=I.substr(t,t.indexOf(":")+1,null),i=ji.getLibrary(e);if(null!=i)if(i.exists(n,"MOVIE_CLIP")){if(i.isLocal(n,"MOVIE_CLIP"))return i.getMovieClip(n);oe.trace('[openfl.Assets] MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:223,className:"openfl.Assets",methodName:"getMovieClip"})}else oe.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:229,className:"openfl.Assets",methodName:"getMovieClip"});else oe.trace('[openfl.Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:235,className:"openfl.Assets",methodName:"getMovieClip"});return null},ji.getMusic=function(t,e){null==e&&(e=!0);var n=Pe.getPath(t);return null!=n?new sl(new cl(n)):null},ji.getPath=function(t){return Pe.getPath(t)},ji.getSound=function(t,e){if(null==e&&(e=!0),e&&ji.cache.get_enabled()&&ji.cache.hasSound(t)){var n=ji.cache.getSound(t);if(ji.isValidSound(n))return n}var i=Pe.getPath(t);return null!=i?new sl(new cl(i)):null},ji.getText=function(t){return Pe.getText(t)},ji.hasEventListener=function(t){return ji.dispatcher.hasEventListener(t)},ji.isLocal=function(t,e,n){if(null==n&&(n=!0),n&&ji.cache.get_enabled()){if(("IMAGE"==e||null==e)&&ji.cache.hasBitmapData(t))return!0;if(("FONT"==e||null==e)&&ji.cache.hasFont(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&ji.cache.hasSound(t))return!0}var i=t.substring(0,t.indexOf(":")),r=I.substr(t,t.indexOf(":")+1,null),a=ji.getLibrary(i);return null!=a&&a.isLocal(r,e)},ji.isValidBitmapData=function(t){return null!=t&&null!=t.image},ji.isValidSound=function(t){return!0},ji.list=function(t){return Pe.list(t)},ji.loadBitmapData=function(t,e,n){null==e&&(e=!0),null==e&&(e=!0);var i=new ln;if(null!=n&&(i.future.onComplete(n),i.future.onError(function(t){n(null)})),e&&ji.cache.get_enabled()&&ji.cache.hasBitmapData(t)){var a=ji.cache.getBitmapData(t);if(ji.isValidBitmapData(a))return i.complete(a),i.future}return Pe.loadImage(t,!1).onComplete(function(n){if(null!=n){var r=Ia.fromImage(n);e&&ji.cache.get_enabled()&&ji.cache.setBitmapData(t,r),i.complete(r)}else i.error('[Assets] Could not load Image "'+t+'"')}).onError(r(i,i.error)).onProgress(r(i,i.progress)),i.future},ji.loadBytes=function(t,e){var n=new ln,i=Pe.loadBytes(t);return null!=e&&(n.future.onComplete(e),n.future.onError(function(t){e(null)}),i.onComplete(function(t){n.complete(Bl.fromBytes(t))}),i.onProgress(function(t){n.progress(t)}),i.onError(function(t){n.error(t)})),n.future},ji.loadFont=function(t,e,n){null==e&&(e=!0),null==e&&(e=!0);var i=new ln;if(null!=n&&(i.future.onComplete(n),i.future.onError(function(t){n(null)})),e&&ji.cache.get_enabled()&&ji.cache.hasFont(t)){var a=ji.cache.getFont(t);return i.complete(a),i.future}return Pe.loadFont(t).onComplete(function(n){var r=T.__fromLimeFont(n);e&&ji.cache.get_enabled()&&ji.cache.setFont(t,r),i.complete(r)}).onError(r(i,i.error)).onProgress(r(i,i.progress)),i.future},ji.loadLibrary=function(t,e){var n=Pe.loadLibrary(t);return null!=e&&(n.onComplete(e),n.onError(function(t){e(null)})),n},ji.loadMusic=function(t,e,n){return null==e&&(e=!0),null==e&&(e=!0),new an(function(){return ji.getMusic(t,e)})},ji.loadMovieClip=function(t,e){var n=new ln;null!=e&&(n.future.onComplete(e),n.future.onError(function(t){e(null)}));var i=t.substring(0,t.indexOf(":")),r=I.substr(t,t.indexOf(":")+1,null),a=ji.getLibrary(i);return null!=a?a.exists(r,"MOVIE_CLIP")?n.completeWith(a.loadMovieClip(r)):n.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"'):n.error('[Assets] There is no asset library named "'+i+'"'),n.future},ji.loadSound=function(t,e,n){return null==e&&(e=!0),null==e&&(e=!0),new an(function(){return ji.getSound(t,e)})},ji.loadText=function(t,e){var n=Pe.loadText(t);return null!=e&&(n.onComplete(e),n.onError(function(t){e(null)})),n},ji.registerLibrary=function(t,e){Pe.registerLibrary(t,e)},ji.removeEventListener=function(t,e,n){null==n&&(n=!1),ji.dispatcher.removeEventListener(t,e,n)},ji.resolveClass=function(t){return B.resolveClass(t)},ji.resolveEnum=function(t){return B.resolveEnum(t)},ji.unloadLibrary=function(t){Pe.unloadLibrary(t)},ji.LimeAssets_onChange=function(){ji.dispatchEvent(new Nt("change"))};var Ki=function(){v.call(this)};a["openfl.AssetLibrary"]=Ki,Ki.__name__=["openfl","AssetLibrary"],Ki.__super__=v,Ki.prototype=n(v.prototype,{getMovieClip:function(t){return null},loadMovieClip:function(t){var e=this;return new an(function(){return e.getMovieClip(t)})},__class__:Ki});var qi=function(){f.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0,this.enabled=!0};a["openfl.display.MovieClip"]=qi,qi.__name__=["openfl","display","MovieClip"],qi.__super__=f,qi.prototype=n(f.prototype,{currentFrame:null,currentFrameLabel:null,currentLabel:null,currentLabels:null,enabled:null,framesLoaded:null,totalFrames:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__frameScripts:null,__totalFrames:null,addFrameScript:function(t,e){null!=e?(null==this.__frameScripts&&(this.__frameScripts=new ce),this.__frameScripts.h[t]=e):null!=this.__frameScripts&&this.__frameScripts.remove(t)},gotoAndPlay:function(t,e){},gotoAndStop:function(t,e){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:qi,__properties__:n(f.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var Ji=function(){};a["openfl.Lib"]=Ji,Ji.__name__=["openfl","Lib"],Ji.application=null,Ji.as=function(t,e){return X.__instanceof(t,e)?t:null},Ji.attach=function(t){return new qi},Ji.embed=t.openfl.embed=function(t,e,n,i,r){fi.embed(t,e,n,i,r)},Ji.getTimer=function(){return fi.getTimer()},Ji.getURL=function(t,e){null==e&&(e="_blank"),window.open(t.url,e)},Ji.notImplemented=function(t){var e=Ji.__sentWarnings;if(!(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t))){var n=Ji.__sentWarnings;null!=vo[t]?n.setReserved(t,!0):n.h[t]=!0,oe.trace("Warning: "+t+" is not implemented",{fileName:"Lib.hx",lineNumber:113,className:"openfl.Lib",methodName:"notImplemented"})}},Ji.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},Ji.trace=function(t){oe.trace(t,{fileName:"Lib.hx",lineNumber:144,className:"openfl.Lib",methodName:"trace"})};var Zi={};a["openfl._Vector.Vector_Impl_"]=Zi,Zi.__name__=["openfl","_Vector","Vector_Impl_"],Zi.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"},Zi._new=function(t,e){null==e&&(e=!1),null==t&&(t=0);var n=new Qi,i=new Array(t);return n.data=i,n.length=t,n.fixed=e,n},Zi.concat=function(t,e){var n=new Qi;n.length=null!=e?t.length+e.length:t.length,n.fixed=!1;var i=n.length,r=new Array(i);return n.data=r,pe.blit(t.data,0,n.data,0,t.length),null!=e&&pe.blit(e.data,0,n.data,t.length,e.length),n},Zi.copy=function(t){var e=new Qi;e.length=t.length,e.fixed=t.fixed;var n=t.length,i=new Array(n);return e.data=i,pe.blit(t.data,0,e.data,0,t.length),e},Zi.iterator=function(t){return new $i(t)},Zi.join=function(t,e){for(var n="",i=0,r=t.length;i<r;){var a=i++;a>0&&(n+=e),n+=P.string(t.data[a])}return n},Zi.pop=function(t){var e=null;return t.fixed||t.length>0&&(t.length--,e=t.data[t.length]),e},Zi.push=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var n=t.data.length+10,i=new Array(n);pe.blit(t.data,0,i,0,t.data.length),t.data=i}t.data[t.length-1]=e}return t.length},Zi.reverse=function(t){for(var e=t.length,n=new Array(e),i=0,r=t.length;i<r;){var a=i++;n[t.length-1-a]=t.data[a]}t.data=n},Zi.shift=function(t){if(!t.fixed&&t.length>0){t.length--;var e=t.data[0];return pe.blit(t.data,1,t.data,0,t.length),e}return null},Zi.unshift=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var n=t.length+10,i=new Array(n);pe.blit(t.data,0,i,1,t.data.length),t.data=i}else pe.blit(t.data,0,t.data,1,t.length-1);t.data[0]=e}},Zi.slice=function(t,e,n){null==n&&(n=0),null==e&&(e=0),e<0&&(e+=t.length),n<=0&&(n+=t.length),n>t.length&&(n=t.length);var i=n-e;(i<=0||i>t.length)&&(i=t.length);var r=new Qi;r.length=n-e,r.fixed=!0;var a=new Array(i);return r.data=a,pe.blit(t.data,e,r.data,0,i),r},Zi.sort=function(t,e){var n=t.data.slice(0);n.sort(e),t.data=n.slice(0)},Zi.splice=function(t,e,n){e<0&&(e+=t.length),e+n>t.length&&(n=t.length-e),n<0&&(n=0);var i=new Qi;i.length=n,i.fixed=!1;var r=new Array(n);return i.data=r,pe.blit(t.data,e,i.data,0,n),n>0&&(t.length-=n,pe.blit(t.data,e+n,t.data,e,t.length-e)),i},Zi.toString=function(t){return t.data.slice(0).toString()},Zi.indexOf=function(t,e,n){null==n&&(n=0);for(var i=-1,r=n,a=t.length;r<a;){var s=r++;if(t.data[s]==e){i=s;break}}return i},Zi.lastIndexOf=function(t,e,n){null==n&&(n=0);for(var i=-1,r=t.length-1;r>=n;){if(t.data[r]==e){i=r;break}--r}return i},Zi.ofArray=function(t){var e=new Qi;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},Zi.convert=function(t){return t},Zi.get=function(t,e){return t.data[e]},Zi.set=function(t,e,n){if(!t.fixed&&(e>=t.length&&(t.length=e+1),t.data.length<t.length)){var i=t.data.length+10,r=new Array(i);pe.blit(t.data,0,r,0,t.data.length),t.data=r}return t.data[e]=n},Zi.fromArray=function(t){var e=new Qi;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},Zi.toArray=function(t){for(var e=[],n=0,i=t.data.length;n<i;){var r=n++;e.push(t.data[r])}return e},Zi.fromHaxeVector=function(t){var e=new Qi;return e.length=t.length,e.fixed=!0,e.data=t,e},Zi.toHaxeVector=function(t){return t.data},Zi.fromVectorData=function(t){return t},Zi.toVectorData=function(t){return t},Zi.get_length=function(t){return t.length},Zi.set_length=function(t,e){if(!t.fixed){if(e>t.length){var n=new Array(e);pe.blit(t.data,0,n,0,0|Math.min(t.data.length,e)),t.data=n}t.length=e}return e},Zi.get_fixed=function(t){return t.fixed},Zi.set_fixed=function(t,e){return t.fixed=e};var Qi=function(){this.length=0};a["openfl.VectorData"]=Qi,Qi.__name__=["openfl","VectorData"],Qi.prototype={data:null,fixed:null,length:null,__class__:Qi};var $i=function(t){this.index=0,this.vectorData=t};a["openfl.VectorDataIterator"]=$i,$i.__name__=["openfl","VectorDataIterator"],$i.prototype={index:null,vectorData:null,hasNext:function(){return this.index<this.vectorData.length},next:function(){return this.vectorData.data[this.index++]},__class__:$i};var tr=function(t){this.renderSession=t};a["openfl._internal.renderer.AbstractMaskManager"]=tr,tr.__name__=["openfl","_internal","renderer","AbstractMaskManager"],tr.prototype={renderSession:null,pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:tr};var er=function(t,e){this.width=t,this.height=e};a["openfl._internal.renderer.AbstractRenderer"]=er,er.__name__=["openfl","_internal","renderer","AbstractRenderer"],er.prototype={height:null,width:null,transparent:null,viewport:null,renderSession:null,render:function(t){},renderShape:function(t){},setViewport:function(t,e,n,i){},resize:function(t,e){},__class__:er};var nr=function(){this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.ts=[]};a["openfl._internal.renderer.DrawCommandBuffer"]=nr,nr.__name__=["openfl","_internal","renderer","DrawCommandBuffer"],nr.prototype={types:null,b:null,f:null,ff:null,i:null,ii:null,o:null,ts:null,append:function(t){for(var e=new ir(t),n=0,i=t.types;n<i.length;){var r=i[n];switch(++n,r[1]){case 0:var a=e.readBeginBitmapFill();this.beginBitmapFill(rr.get_bitmap(a),rr.get_matrix(a),rr.get_repeat(a),rr.get_smooth(a));break;case 1:var s=e.readBeginFill();this.beginFill(ar.get_color(s),ar.get_alpha(s));break;case 2:var l=e.readBeginGradientFill();this.beginGradientFill(sr.get_type(l),sr.get_colors(l),sr.get_alphas(l),sr.get_ratios(l),sr.get_matrix(l),sr.get_spreadMethod(l),sr.get_interpolationMethod(l),sr.get_focalPointRatio(l));break;case 3:var o=e.readCubicCurveTo();this.cubicCurveTo(lr.get_controlX1(o),lr.get_controlY1(o),lr.get_controlX2(o),lr.get_controlY2(o),lr.get_anchorX(o),lr.get_anchorY(o));break;case 4:var h=e.readCurveTo();this.curveTo(or.get_controlX(h),or.get_controlY(h),or.get_anchorX(h),or.get_anchorY(h));break;case 5:var _=e.readDrawCircle();this.drawCircle(hr.get_x(_),hr.get_y(_),hr.get_radius(_));break;case 6:var u=e.readDrawEllipse();this.drawEllipse(_r.get_x(u),_r.get_y(u),_r.get_width(u),_r.get_height(u));break;case 7:var c=e.readDrawPath();this.drawPath(ur.get_commands(c),ur.get_data(c),ur.get_winding(c));break;case 8:var d=e.readDrawRect();this.drawRect(cr.get_x(d),cr.get_y(d),cr.get_width(d),cr.get_height(d));break;case 9:var f=e.readDrawRoundRect();this.drawRoundRect(dr.get_x(f),dr.get_y(f),dr.get_width(f),dr.get_height(f),dr.get_ellipseWidth(f),dr.get_ellipseHeight(f));break;case 10:var g=e.readDrawTiles();this.drawTiles(fr.get_sheet(g),fr.get_tileData(g),fr.get_smooth(g),fr.get_flags(g),fr.get_shader(g),fr.get_count(g));break;case 11:var p=e.readDrawTriangles();this.drawTriangles(gr.get_vertices(p),gr.get_indices(p),gr.get_uvtData(p),gr.get_culling(p));break;case 12:e.readEndFill();this.endFill();break;case 13:var m=e.readLineBitmapStyle();this.lineBitmapStyle(mr.get_bitmap(m),mr.get_matrix(m),mr.get_repeat(m),mr.get_smooth(m));break;case 14:var v=e.readLineGradientStyle();this.lineGradientStyle(vr.get_type(v),vr.get_colors(v),vr.get_alphas(v),vr.get_ratios(v),vr.get_matrix(v),vr.get_spreadMethod(v),vr.get_interpolationMethod(v),vr.get_focalPointRatio(v));break;case 15:var x=e.readLineStyle();this.lineStyle(xr.get_thickness(x),xr.get_color(x),xr.get_alpha(x),xr.get_pixelHinting(x),xr.get_scaleMode(x),xr.get_caps(x),xr.get_joints(x),xr.get_miterLimit(x));break;case 16:var y=e.readLineTo();this.lineTo(yr.get_x(y),yr.get_y(y));break;case 17:var w=e.readMoveTo();this.moveTo(wr.get_x(w),wr.get_y(w));break;case 18:var b=e.readOverrideMatrix();this.overrideMatrix(br.get_matrix(b))}}return e.destroy(),t},beginBitmapFill:function(t,e,n,i){this.types.push(Tr.BEGIN_BITMAP_FILL),this.o.push(t),this.o.push(e),this.b.push(n),this.b.push(i)},beginFill:function(t,e){this.types.push(Tr.BEGIN_FILL),this.i.push(t),this.f.push(e)},beginGradientFill:function(t,e,n,i,r,a,s,l){this.types.push(Tr.BEGIN_GRADIENT_FILL),this.o.push(t),this.ii.push(e),this.ff.push(n),this.ii.push(i),this.o.push(r),this.o.push(a),this.o.push(s),this.f.push(l)},clear:function(){this.types.splice(0,this.types.length),this.b.splice(0,this.b.length),this.i.splice(0,this.i.length),this.f.splice(0,this.f.length),this.o.splice(0,this.o.length),this.ff.splice(0,this.ff.length),this.ii.splice(0,this.ii.length),this.ts.splice(0,this.ts.length)},copy:function(){var t=new nr;return t.append(this),t},cubicCurveTo:function(t,e,n,i,r,a){this.types.push(Tr.CUBIC_CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(n),this.f.push(i),this.f.push(r),this.f.push(a)},curveTo:function(t,e,n,i){this.types.push(Tr.CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(n),this.f.push(i)},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.f=null,this.o=null,this.ff=null,this.ii=null,this.ts=null},drawCircle:function(t,e,n){this.types.push(Tr.DRAW_CIRCLE),this.f.push(t),this.f.push(e),this.f.push(n)},drawEllipse:function(t,e,n,i){this.types.push(Tr.DRAW_ELLIPSE),this.f.push(t),this.f.push(e),this.f.push(n),this.f.push(i)},drawPath:function(t,e,n){this.types.push(Tr.DRAW_PATH),this.o.push(t),this.o.push(e),this.o.push(n)},drawRect:function(t,e,n,i){this.types.push(Tr.DRAW_RECT),this.f.push(t),this.f.push(e),this.f.push(n),this.f.push(i)},drawRoundRect:function(t,e,n,i,r,a){this.types.push(Tr.DRAW_ROUND_RECT),this.f.push(t),this.f.push(e),this.f.push(n),this.f.push(i),this.f.push(r),this.o.push(a)},drawTiles:function(t,e,n,i,r,a){this.types.push(Tr.DRAW_TILES),this.ts.push(t),this.ff.push(e),this.b.push(n),this.i.push(i),this.o.push(r),this.i.push(a)},drawTriangles:function(t,e,n,i){this.types.push(Tr.DRAW_TRIANGLES),this.o.push(t),this.o.push(e),this.o.push(n),this.o.push(i)},endFill:function(){this.types.push(Tr.END_FILL)},lineBitmapStyle:function(t,e,n,i){this.types.push(Tr.LINE_BITMAP_STYLE),this.o.push(t),this.o.push(e),this.b.push(n),this.b.push(i)},lineGradientStyle:function(t,e,n,i,r,a,s,l){this.types.push(Tr.LINE_GRADIENT_STYLE),this.o.push(t),this.ii.push(e),this.ff.push(n),this.ii.push(i),this.o.push(r),this.o.push(a),this.o.push(s),this.f.push(l)},lineStyle:function(t,e,n,i,r,a,s,l){this.types.push(Tr.LINE_STYLE),this.o.push(t),this.i.push(e),this.f.push(n),this.b.push(i),this.o.push(r),this.o.push(a),this.o.push(s),this.f.push(l)},lineTo:function(t,e){this.types.push(Tr.LINE_TO),this.f.push(t),this.f.push(e)},moveTo:function(t,e){this.types.push(Tr.MOVE_TO),this.f.push(t),this.f.push(e)},overrideMatrix:function(t){this.types.push(Tr.OVERRIDE_MATRIX),this.o.push(t)},get_length:function(){return this.types.length},__class__:nr,__properties__:{get_length:"get_length"}};var ir=function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=Tr.UNKNOWN};a["openfl._internal.renderer.DrawCommandReader"]=ir,ir.__name__=["openfl","_internal","renderer","DrawCommandReader"],ir.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev[1]){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=5,this.oPos+=1;break;case 10:this.tsPos+=1,this.ffPos+=1,this.bPos+=1,this.iPos+=2,this.oPos+=1;break;case 11:this.oPos+=4;break;case 12:break;case 13:this.oPos+=2,this.bPos+=2;break;case 14:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 15:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 16:case 17:this.fPos+=2;break;case 18:this.oPos+=1}},bool:function(t){return this.buffer.b[this.bPos+t]},destroy:function(){this.buffer=null,this.reset()},fArr:function(t){return this.buffer.ff[this.ffPos+t]},float:function(t){return this.buffer.f[this.fPos+t]},iArr:function(t){return this.buffer.ii[this.iiPos+t]},int:function(t){return this.buffer.i[this.iPos+t]},obj:function(t){return this.buffer.o[this.oPos+t]},readBeginBitmapFill:function(){return this.advance(),this.prev=Tr.BEGIN_BITMAP_FILL,rr._new(this)},readBeginFill:function(){return this.advance(),this.prev=Tr.BEGIN_FILL,ar._new(this)},readBeginGradientFill:function(){return this.advance(),this.prev=Tr.BEGIN_GRADIENT_FILL,sr._new(this)},readCubicCurveTo:function(){return this.advance(),this.prev=Tr.CUBIC_CURVE_TO,lr._new(this)},readCurveTo:function(){return this.advance(),this.prev=Tr.CURVE_TO,or._new(this)},readDrawCircle:function(){return this.advance(),this.prev=Tr.DRAW_CIRCLE,hr._new(this)},readDrawEllipse:function(){return this.advance(),this.prev=Tr.DRAW_ELLIPSE,_r._new(this)},readDrawPath:function(){return this.advance(),this.prev=Tr.DRAW_PATH,ur._new(this)},readDrawRect:function(){return this.advance(),this.prev=Tr.DRAW_RECT,cr._new(this)},readDrawRoundRect:function(){return this.advance(),this.prev=Tr.DRAW_ROUND_RECT,dr._new(this)},readDrawTiles:function(){return this.advance(),this.prev=Tr.DRAW_TILES,fr._new(this)},readDrawTriangles:function(){return this.advance(),this.prev=Tr.DRAW_TRIANGLES,gr._new(this)},readEndFill:function(){return this.advance(),this.prev=Tr.END_FILL,pr._new(this)},readLineBitmapStyle:function(){return this.advance(),this.prev=Tr.LINE_BITMAP_STYLE,mr._new(this)},readLineGradientStyle:function(){return this.advance(),this.prev=Tr.LINE_GRADIENT_STYLE,vr._new(this)},readLineStyle:function(){return this.advance(),this.prev=Tr.LINE_STYLE,xr._new(this)},readLineTo:function(){return this.advance(),this.prev=Tr.LINE_TO,yr._new(this)},readMoveTo:function(){return this.advance(),this.prev=Tr.MOVE_TO,wr._new(this)},readOverrideMatrix:function(){return this.advance(),this.prev=Tr.OVERRIDE_MATRIX,br._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(t){this.advance(),this.prev=t},tileSheet:function(t){return this.buffer.ts[this.tsPos+t]},__class__:ir};var rr={};a["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=rr,rr.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"],rr.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},rr._new=function(t){return t},rr.get_bitmap=function(t){return t.obj(0)},rr.get_matrix=function(t){return t.obj(1)},rr.get_repeat=function(t){return t.bool(0)},rr.get_smooth=function(t){return t.bool(1)};var ar={};a["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=ar,ar.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"],ar.__properties__={get_alpha:"get_alpha",get_color:"get_color"},ar._new=function(t){return t},ar.get_color=function(t){return t.int(0)},ar.get_alpha=function(t){return t.float(0)};var sr={};a["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=sr,sr.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"],sr.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},sr._new=function(t){return t},sr.get_type=function(t){return t.obj(0)},sr.get_colors=function(t){return t.iArr(0)},sr.get_alphas=function(t){return t.fArr(0)},sr.get_ratios=function(t){return t.iArr(1)},sr.get_matrix=function(t){return t.obj(1)},sr.get_spreadMethod=function(t){return t.obj(2)},sr.get_interpolationMethod=function(t){return t.obj(3)},sr.get_focalPointRatio=function(t){return t.float(0)};var lr={};a["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=lr,lr.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"],lr.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},lr._new=function(t){return t},lr.get_controlX1=function(t){return t.float(0)},lr.get_controlY1=function(t){return t.float(1)},lr.get_controlX2=function(t){return t.float(2)},lr.get_controlY2=function(t){return t.float(3)},lr.get_anchorX=function(t){return t.float(4)},lr.get_anchorY=function(t){return t.float(5)};var or={};a["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=or,or.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"],or.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},or._new=function(t){return t},or.get_controlX=function(t){return t.float(0)},or.get_controlY=function(t){return t.float(1)},or.get_anchorX=function(t){return t.float(2)},or.get_anchorY=function(t){return t.float(3)};var hr={};a["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=hr,hr.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"],hr.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},hr._new=function(t){return t},hr.get_x=function(t){return t.float(0)},hr.get_y=function(t){return t.float(1)},hr.get_radius=function(t){return t.float(2)};var _r={};a["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=_r,_r.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"],_r.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},_r._new=function(t){return t},_r.get_x=function(t){return t.float(0)},_r.get_y=function(t){return t.float(1)},_r.get_width=function(t){return t.float(2)},_r.get_height=function(t){return t.float(3)};var ur={};a["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=ur,ur.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"],ur.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"},ur._new=function(t){return t},ur.get_commands=function(t){return t.obj(0)},ur.get_data=function(t){return t.obj(1)},ur.get_winding=function(t){return t.obj(2)};var cr={};a["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=cr,cr.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"],cr.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},cr._new=function(t){return t},cr.get_x=function(t){return t.float(0)},cr.get_y=function(t){return t.float(1)},cr.get_width=function(t){return t.float(2)},cr.get_height=function(t){return t.float(3)};var dr={};a["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=dr,dr.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"],dr.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},dr._new=function(t){return t},dr.get_x=function(t){return t.float(0)},dr.get_y=function(t){return t.float(1)},dr.get_width=function(t){return t.float(2)},dr.get_height=function(t){return t.float(3)},dr.get_ellipseWidth=function(t){return t.float(4)},dr.get_ellipseHeight=function(t){return t.obj(0)};var fr={};a["openfl._internal.renderer._DrawCommandReader.DrawTilesView_Impl_"]=fr,fr.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTilesView_Impl_"],fr.__properties__={get_count:"get_count",get_shader:"get_shader",get_flags:"get_flags",get_smooth:"get_smooth",get_tileData:"get_tileData",get_sheet:"get_sheet"},fr._new=function(t){return t},fr.get_sheet=function(t){return t.tileSheet(0)},fr.get_tileData=function(t){return t.fArr(0)},fr.get_smooth=function(t){return t.bool(0)},fr.get_flags=function(t){return t.int(0)},fr.get_shader=function(t){return t.obj(0)},fr.get_count=function(t){return t.int(1)};var gr={};a["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=gr,gr.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"],gr.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},gr._new=function(t){return t},gr.get_vertices=function(t){return t.obj(0)},gr.get_indices=function(t){return t.obj(1)},gr.get_uvtData=function(t){return t.obj(2)},gr.get_culling=function(t){return t.obj(3)};var pr={};a["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=pr,pr.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"],pr._new=function(t){return t};var mr={};a["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=mr,mr.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"],mr.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},mr._new=function(t){return t},mr.get_bitmap=function(t){return t.obj(0)},mr.get_matrix=function(t){return t.obj(1)},mr.get_repeat=function(t){return t.bool(0)},mr.get_smooth=function(t){return t.bool(1)};var vr={};a["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=vr,vr.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"],vr.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},vr._new=function(t){return t},vr.get_type=function(t){return t.obj(0)},vr.get_colors=function(t){return t.iArr(0)},vr.get_alphas=function(t){return t.fArr(0)},vr.get_ratios=function(t){return t.iArr(1)},vr.get_matrix=function(t){return t.obj(1)},vr.get_spreadMethod=function(t){return t.obj(2)},vr.get_interpolationMethod=function(t){return t.obj(3)},vr.get_focalPointRatio=function(t){return t.float(0)};var xr={};a["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=xr,xr.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"],xr.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},xr._new=function(t){return t},xr.get_thickness=function(t){return t.obj(0)},xr.get_color=function(t){return t.int(0)},xr.get_alpha=function(t){return t.float(0)},xr.get_pixelHinting=function(t){return t.bool(0)},xr.get_scaleMode=function(t){return t.obj(1)},xr.get_caps=function(t){return t.obj(2)},xr.get_joints=function(t){return t.obj(3)},xr.get_miterLimit=function(t){return t.float(1)};var yr={};a["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=yr,yr.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"],yr.__properties__={get_y:"get_y",get_x:"get_x"},yr._new=function(t){return t},yr.get_x=function(t){return t.float(0)},yr.get_y=function(t){return t.float(1)};var wr={};a["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=wr,wr.__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"],wr.__properties__={get_y:"get_y",get_x:"get_x"},wr._new=function(t){return t},wr.get_x=function(t){return t.float(0)},wr.get_y=function(t){return t.float(1)};var br={};a["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=br,br.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"],br.__properties__={get_matrix:"get_matrix"},br._new=function(t){return t},br.get_matrix=function(t){return t.obj(0)};var Tr=a["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:["BEGIN_BITMAP_FILL","BEGIN_FILL","BEGIN_GRADIENT_FILL","CUBIC_CURVE_TO","CURVE_TO","DRAW_CIRCLE","DRAW_ELLIPSE","DRAW_PATH","DRAW_RECT","DRAW_ROUND_RECT","DRAW_TILES","DRAW_TRIANGLES","END_FILL","LINE_BITMAP_STYLE","LINE_GRADIENT_STYLE","LINE_STYLE","LINE_TO","MOVE_TO","OVERRIDE_MATRIX","UNKNOWN"]};Tr.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0],Tr.BEGIN_BITMAP_FILL.toString=s,Tr.BEGIN_BITMAP_FILL.__enum__=Tr,Tr.BEGIN_FILL=["BEGIN_FILL",1],Tr.BEGIN_FILL.toString=s,Tr.BEGIN_FILL.__enum__=Tr,Tr.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2],Tr.BEGIN_GRADIENT_FILL.toString=s,Tr.BEGIN_GRADIENT_FILL.__enum__=Tr,Tr.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3],Tr.CUBIC_CURVE_TO.toString=s,Tr.CUBIC_CURVE_TO.__enum__=Tr,Tr.CURVE_TO=["CURVE_TO",4],Tr.CURVE_TO.toString=s,Tr.CURVE_TO.__enum__=Tr,Tr.DRAW_CIRCLE=["DRAW_CIRCLE",5],Tr.DRAW_CIRCLE.toString=s,Tr.DRAW_CIRCLE.__enum__=Tr,Tr.DRAW_ELLIPSE=["DRAW_ELLIPSE",6],Tr.DRAW_ELLIPSE.toString=s,Tr.DRAW_ELLIPSE.__enum__=Tr,Tr.DRAW_PATH=["DRAW_PATH",7],Tr.DRAW_PATH.toString=s,Tr.DRAW_PATH.__enum__=Tr,Tr.DRAW_RECT=["DRAW_RECT",8],Tr.DRAW_RECT.toString=s,Tr.DRAW_RECT.__enum__=Tr,Tr.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9],Tr.DRAW_ROUND_RECT.toString=s,Tr.DRAW_ROUND_RECT.__enum__=Tr,Tr.DRAW_TILES=["DRAW_TILES",10],Tr.DRAW_TILES.toString=s,Tr.DRAW_TILES.__enum__=Tr,Tr.DRAW_TRIANGLES=["DRAW_TRIANGLES",11],Tr.DRAW_TRIANGLES.toString=s,Tr.DRAW_TRIANGLES.__enum__=Tr,Tr.END_FILL=["END_FILL",12],Tr.END_FILL.toString=s,Tr.END_FILL.__enum__=Tr,Tr.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13],Tr.LINE_BITMAP_STYLE.toString=s,Tr.LINE_BITMAP_STYLE.__enum__=Tr,Tr.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14],Tr.LINE_GRADIENT_STYLE.toString=s,Tr.LINE_GRADIENT_STYLE.__enum__=Tr,Tr.LINE_STYLE=["LINE_STYLE",15],Tr.LINE_STYLE.toString=s,Tr.LINE_STYLE.__enum__=Tr,Tr.LINE_TO=["LINE_TO",16],Tr.LINE_TO.toString=s,Tr.LINE_TO.__enum__=Tr,Tr.MOVE_TO=["MOVE_TO",17],Tr.MOVE_TO.toString=s,Tr.MOVE_TO.__enum__=Tr,Tr.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18],Tr.OVERRIDE_MATRIX.toString=s,Tr.OVERRIDE_MATRIX.__enum__=Tr,Tr.UNKNOWN=["UNKNOWN",19],Tr.UNKNOWN.toString=s,Tr.UNKNOWN.__enum__=Tr;var Er=function(){};a["openfl._internal.renderer.GraphicsPaths"]=Er,Er.__name__=["openfl","_internal","renderer","GraphicsPaths"],Er.ellipse=function(t,e,n,i,r,a){for(var s=2*Math.PI/a,l=0,o=a+1;l<o;){var h=l++;t.push(e+Math.sin(s*h)*i),t.push(n+Math.cos(s*h)*r)}},Er.cubicCurveTo=function(t,e,n,i,r,a,s){for(var l=0,o=0,h=0,_=0,u=0,c=t[t.length-2],d=t[t.length-1],f=0,g=0,p=0,m=1;m<21;)f=(h=(o=(l=1-(p=m++/20))*l)*l)*c+3*o*p*e+3*l*(_=p*p)*i+(u=_*p)*a,g=h*d+3*o*p*n+3*l*_*r+u*s,t.push(f),t.push(g)},Er.curveTo=function(t,e,n,i,r){for(var a=0,s=0,l=t[t.length-2],o=t[t.length-1],h=0,_=0,u=0,c=1;c<21;)h=(a=l+(e-l)*(u=c++/20))+(e+(i-e)*u-a)*u,_=(s=o+(n-o)*u)+(n+(r-n)*u-s)*u,t.push(h),t.push(_)},Er.roundRectangle=function(t,e,n,i,r,a,s){var l=e+i,o=n+r,h=a*Er.SIN45-a,_=a*Er.TAN22-a,u=s*Er.SIN45-s,c=s*Er.TAN22-s;t.push(l),t.push(o-s),Er.curveTo(t,l,o+c,l+h,o+u),Er.curveTo(t,l+_,o,l-a,o),t.push(e+a),t.push(o),Er.curveTo(t,e-_,o,e-h,o+u),Er.curveTo(t,e,o+c,e,o-s),t.push(e),t.push(n+s),Er.curveTo(t,e,n-c,e-h,n-u),Er.curveTo(t,e-_,n,e+a,n),t.push(l-a),t.push(n),Er.curveTo(t,l+_,n,l+h,n-u),Er.curveTo(t,l,n-c,l,n+s),t.push(l),t.push(o-s)};var Rr=function(){};a["openfl._internal.renderer.PolyK"]=Rr,Rr.__name__=["openfl","_internal","renderer","PolyK"],Rr.triangulate=function(t,e){var n=!0,i=e.length>>1;if(i<3)return[];for(var r=[],a=0,s=i;a<s;){var l=a++;r.push(l)}for(var o=r,h=0,_=i,u=!1;_>3;){var c=o[h%_],d=o[(h+1)%_],f=o[(h+2)%_],g=e[2*c],p=e[2*c+1],m=e[2*d],v=e[2*d+1],x=e[2*f],y=e[2*f+1];if(u=!1,Rr._convex(g,p,m,v,x,y,n)){u=!0;for(var w=0,b=_;w<b;){var T=o[w++];if(T!=c&&T!=d&&T!=f&&Rr._PointInTriangle(e[2*T],e[2*T+1],g,p,m,v,x,y)){u=!1;break}}}if(u)t.push(c),t.push(d),t.push(f),o.splice((h+1)%_,1),--_,h=0;else if(h++>3*_){if(!n)return oe.trace("Warning: shape too complex to fill",{fileName:"PolyK.hx",lineNumber:104,className:"openfl._internal.renderer.PolyK",methodName:"triangulate"}),[];t=[];for(var E=[],R=0,A=i;R<A;){var I=R++;E.push(I)}o=E,h=0,_=i,n=!1}}return t.push(o[0]),t.push(o[1]),t.push(o[2]),t},Rr._PointInTriangle=function(t,e,n,i,r,a,s,l){var o=s-n|0,h=l-i|0,_=r-n|0,u=a-i|0,c=t-n|0,d=e-i|0,f=o*o+h*h,g=o*_+h*u,p=o*c+h*d,m=_*_+u*u,v=_*c+u*d,x=1/(f*m-g*g),y=(m*p-g*v)*x,w=(f*v-g*p)*x;return y>=0&&w>=0&&y+w<1},Rr._convex=function(t,e,n,i,r,a,s){return(e-i)*(r-n)+(n-t)*(a-i)>=0==s};var Ar=function(){this.activeTextures=0};a["openfl._internal.renderer.RenderSession"]=Ar,Ar.__name__=["openfl","_internal","renderer","RenderSession"],Ar.prototype={cairo:null,context:null,element:null,gl:null,renderer:null,roundPixels:null,transformProperty:null,transformOriginProperty:null,vendorPrefix:null,z:null,projectionMatrix:null,drawCount:null,currentBlendMode:null,activeTextures:null,shaderManager:null,maskManager:null,filterManager:null,blendModeManager:null,spriteBatch:null,stencilManager:null,defaultFramebuffer:null,__class__:Ar};var Ir=function(){};a["openfl._internal.renderer.cairo.CairoBitmap"]=Ir,Ir.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"],Ir.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var n=e.cairo;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask);var i=t.__renderTransform,r=t.get_scrollRect();if(e.roundPixels){var a=i.__toMatrix3();a.tx=Math.round(a.tx),a.ty=Math.round(a.ty),n.set_matrix(a)}else n.set_matrix(i.__toMatrix3());var s=t.bitmapData.getSurface();if(null!=s){var l=kn.createForSurface(s);kn.set_filter(l,t.smoothing?1:3),null!=r?(n.pushGroup(),n.set_source(l),n.newPath(),n.rectangle(r.x,r.y,r.width,r.height),n.fill(),n.popGroupToSource()):n.set_source(l),1==t.__worldAlpha?n.paint():n.paintWithAlpha(t.__worldAlpha)}null!=t.__mask&&e.maskManager.popMask()}}};var Sr=function(){};a["openfl._internal.renderer.cairo.CairoGraphics"]=Sr,Sr.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"],Sr.bitmapFill=null,Sr.bitmapRepeat=null,Sr.bounds=null,Sr.cairo=null,Sr.fillPattern=null,Sr.fillPatternMatrix=null,Sr.graphics=null,Sr.hasFill=null,Sr.hasStroke=null,Sr.hitTesting=null,Sr.inversePendingMatrix=null,Sr.pendingMatrix=null,Sr.strokePattern=null,Sr.closePath=function(){null!=Sr.strokePattern&&(Sr.cairo.closePath(),Sr.cairo.set_source(Sr.strokePattern),Sr.hitTesting||Sr.cairo.strokePreserve(),Sr.cairo.newPath())},Sr.createGradientPattern=function(t,e,n,i,r,a,s,l){var o=null;switch(t){case 0:null==r&&(r=new W);var h=r.transformPoint(new V(-819.2,0)),_=r.transformPoint(new V(819.2,0));h.x+=Sr.graphics.__bounds.x,_.x+=Sr.graphics.__bounds.x,h.y+=Sr.graphics.__bounds.y,_.y+=Sr.graphics.__bounds.y,o=kn.createLinear(h.x,h.y,_.x,_.y);break;case 1:null==r&&(r=new W);var u=r.transformPoint(new V(1638.4,0)),c=r.tx+Sr.graphics.__bounds.x,d=r.ty+Sr.graphics.__bounds.y;o=kn.createRadial(c,d,0,c,d,(u.x-r.tx)/2)}for(var f=0,g=e.length;f<g;){var p=f++,m=e[p],v=n[p],x=((16711680&m)>>>16)/255,y=((65280&m)>>>8)/255,w=(255&m)/255,b=i[p]/255;b<0&&(b=0),b>1&&(b=1),kn.addColorStopRGBA(o,b,x,y,w,v)}var T=kn.get_matrix(o);return T.tx=Sr.bounds.x,T.ty=Sr.bounds.y,kn.set_matrix(o,T),o},Sr.createImagePattern=function(t,e,n){var i=kn.createForSurface(t.getSurface());return n&&kn.set_extend(i,1),Sr.fillPatternMatrix=e,i},Sr.drawRoundRect=function(t,e,n,i,r,a){null==a&&(a=r),a*=.5,(r*=.5)>n/2&&(r=n/2),a>i/2&&(a=i/2);var s=t+n,l=e+i,o=-r+r*Sr.SIN45,h=-r+r*Sr.TAN22,_=-a+a*Sr.SIN45,u=-a+a*Sr.TAN22;Sr.cairo.moveTo(s,l-a),Sr.quadraticCurveTo(s,l+u,s+o,l+_),Sr.quadraticCurveTo(s+h,l,s-r,l),Sr.cairo.lineTo(t+r,l),Sr.quadraticCurveTo(t-h,l,t-o,l+_),Sr.quadraticCurveTo(t,l+u,t,l-a),Sr.cairo.lineTo(t,e+a),Sr.quadraticCurveTo(t,e-u,t-o,e-_),Sr.quadraticCurveTo(t-h,e,t+r,e),Sr.cairo.lineTo(s-r,e),Sr.quadraticCurveTo(s+h,e,s+o,e-_),Sr.quadraticCurveTo(s,e-u,s,e+a),Sr.cairo.lineTo(s,l-a)},Sr.endFill=function(){Sr.cairo.newPath(),Sr.playCommands(Sr.fillCommands,!1),Sr.fillCommands.clear()},Sr.endStroke=function(){Sr.cairo.newPath(),Sr.playCommands(Sr.strokeCommands,!0),Sr.cairo.closePath(),Sr.strokeCommands.clear()},Sr.hitTest=function(t,e,n){return!1},Sr.isCCW=function(t,e,n,i,r,a){return(n-t)*(a-e)-(i-e)*(r-t)<0},Sr.normalizeUVT=function(t,e){null==e&&(e=!1);for(var n=-1/0,i=-1/0,r=t.length,a=1,s=r+1;a<s;){var l=a++;e&&l%3==0||n<(i=t.data[l-1])&&(n=i)}var o=new Qi,h=new Array(0);o.data=h,o.length=0,o.fixed=!1;for(var _=o,u=1,c=r+1;u<c;){var d=u++;if(!e||d%3!=0){var f=t.data[d-1]/n;if(!_.fixed){if(_.length++,_.data.length<_.length){var g=_.data.length+10,p=new Array(g);pe.blit(_.data,0,p,0,_.data.length),_.data=p}_.data[_.length-1]=f}}}return{max:n,uvt:_}},Sr.playCommands=function(t,e){if(null==e&&(e=!1),0!=t.get_length()){Sr.bounds=Sr.graphics.__bounds;var n=Sr.bounds.x,i=Sr.bounds.y,r=0,a=0,s=!1,l=0,o=0;Sr.cairo.set_fillRule(1),Sr.cairo.set_antialias(3);var h=!1,_=new ir(t),u=0,c=t.types;try{for(;u<c.length;){var d=c[u];switch(++u,d[1]){case 0:var f=_.readBeginBitmapFill();Sr.fillPattern=Sr.createImagePattern(rr.get_bitmap(f),rr.get_matrix(f),rr.get_repeat(f)),Sr.bitmapFill=rr.get_bitmap(f),Sr.bitmapRepeat=rr.get_repeat(f),Sr.hasFill=!0;break;case 1:var g=_.readBeginFill();ar.get_alpha(g)<.005?Sr.hasFill=!1:(null!=Sr.fillPattern&&(Sr.fillPatternMatrix=null),Sr.fillPattern=kn.createRGBA(((16711680&ar.get_color(g))>>>16)/255,((65280&ar.get_color(g))>>>8)/255,(255&ar.get_color(g))/255,ar.get_alpha(g)),Sr.hasFill=!0),Sr.bitmapFill=null;break;case 2:var p=_.readBeginGradientFill();null!=Sr.fillPattern&&(Sr.fillPatternMatrix=null),Sr.fillPattern=Sr.createGradientPattern(sr.get_type(p),sr.get_colors(p),sr.get_alphas(p),sr.get_ratios(p),sr.get_matrix(p),sr.get_spreadMethod(p),sr.get_interpolationMethod(p),sr.get_focalPointRatio(p)),Sr.hasFill=!0,Sr.bitmapFill=null;break;case 3:var m=_.readCubicCurveTo();h=!0,Sr.cairo.curveTo(lr.get_controlX1(m)-n,lr.get_controlY1(m)-i,lr.get_controlX2(m)-n,lr.get_controlY2(m)-i,lr.get_anchorX(m)-n,lr.get_anchorY(m)-i);break;case 4:var v=_.readCurveTo();h=!0,Sr.quadraticCurveTo(or.get_controlX(v)-n,or.get_controlY(v)-i,or.get_anchorX(v)-n,or.get_anchorY(v)-i);break;case 5:var x=_.readDrawCircle();h=!0,Sr.cairo.moveTo(hr.get_x(x)-n+hr.get_radius(x),hr.get_y(x)-i),Sr.cairo.arc(hr.get_x(x)-n,hr.get_y(x)-i,hr.get_radius(x),0,2*Math.PI);break;case 6:var y=_.readDrawEllipse();h=!0;var w=_r.get_x(y),b=_r.get_y(y),T=_r.get_width(y),E=_r.get_height(y),R=T/2*.5522848,A=E/2*.5522848,I=(w-=n)+T,S=(b-=i)+E,C=w+T/2,M=b+E/2;Sr.cairo.moveTo(w,M),Sr.cairo.curveTo(w,M-A,C-R,b,C,b),Sr.cairo.curveTo(C+R,b,I,M-A,I,M),Sr.cairo.curveTo(I,M+A,C+R,S,C,S),Sr.cairo.curveTo(C-R,S,w,M+A,w,M);break;case 8:var D=_.readDrawRect();h=!0,Sr.cairo.rectangle(cr.get_x(D)-n,cr.get_y(D)-i,cr.get_width(D),cr.get_height(D));break;case 9:var P=_.readDrawRoundRect();h=!0,Sr.drawRoundRect(dr.get_x(P)-n,dr.get_y(P)-i,dr.get_width(P),dr.get_height(P),dr.get_ellipseWidth(P),dr.get_ellipseHeight(P));break;case 10:var L=_.readDrawTiles(),k=(1&fr.get_flags(L))>0,B=(2&fr.get_flags(L))>0,O=Sr.bounds.x,F=Sr.bounds.y,N=(16&fr.get_flags(L))>0,U=(4&fr.get_flags(L))>0,G=(8&fr.get_flags(L))>0,X=(32&fr.get_flags(L))>0,Y=(64&fr.get_flags(L))>0,H=(65536&fr.get_flags(L))>0,V=(4194304&fr.get_flags(L))>0;N&&(k=!1,B=!1);var W=0,z=0,j=0,K=0,q=3;X&&(q=Y?8:6),k&&(W=q,++q),B&&(z=q,++q),N&&(K=q,q+=4),U&&(q,q+=3),G&&(j=q,++q);var J=fr.get_tileData(L).length;fr.get_count(L)>=0&&J>fr.get_count(L)&&(J=fr.get_count(L));var Z,Q=0,$=null,tt=null,et=-1;for(fr.get_sheet(L).__bitmap.__sync(),Z=fr.get_sheet(L).__bitmap.getSurface(),Sr.cairo.save(),H&&Sr.cairo.set_operator(12),V&&Sr.cairo.set_operator(16);Q<J;){var nt=0|fr.get_tileData(L)[Q+2],it=X?-1:nt;if(X||it==et?X&&(($=fr.get_sheet(L).__rectTile).setTo(fr.get_tileData(L)[Q+2],fr.get_tileData(L)[Q+3],fr.get_tileData(L)[Q+4],fr.get_tileData(L)[Q+5]),tt=fr.get_sheet(L).__point,Y?tt.setTo(fr.get_tileData(L)[Q+6],fr.get_tileData(L)[Q+7]):tt.setTo(0,0)):($=fr.get_sheet(L).__tileRects[it],tt=fr.get_sheet(L).__centerPoints[it],et=it),null!=$&&$.width>0&&$.height>0&&null!=tt){if(Sr.cairo.identityMatrix(),N){var rt=new Jn(fr.get_tileData(L)[Q+K],fr.get_tileData(L)[Q+K+1],fr.get_tileData(L)[Q+K+2],fr.get_tileData(L)[Q+K+3],0,0);Sr.cairo.set_matrix(rt)}if(Sr.cairo.translate(fr.get_tileData(L)[Q]-O,fr.get_tileData(L)[Q+1]-F),B&&Sr.cairo.rotate(fr.get_tileData(L)[Q+z]),k){var at=fr.get_tileData(L)[Q+W];Sr.cairo.scale(at,at)}Sr.cairo.setSourceSurface(Z,0,0),G?Sr.hitTesting||Sr.cairo.paintWithAlpha(fr.get_tileData(L)[Q+j]):Sr.hitTesting||Sr.cairo.paint()}Q+=q}(H||V)&&Sr.cairo.set_operator(2),Sr.cairo.restore();break;case 11:var st=_.readDrawTriangles(),lt=gr.get_vertices(st),ot=gr.get_indices(st),ht=gr.get_uvtData(st),_t=null==Sr.bitmapFill;if(_t&&null!=ht)throw"__break__";var ut=0,ct=0;if(!_t){if(null==ht){var dt=new Qi,ft=new Array(0);dt.data=ft,dt.length=0,dt.fixed=!1,ht=dt;for(var gt=0,pt=lt.length/2|0;gt<pt;){var mt=gt++,vt=lt.data[2*mt]/Sr.bitmapFill.width;if(!ht.fixed){if(ht.length++,ht.data.length<ht.length){var xt=ht.data.length+10,yt=new Array(xt);pe.blit(ht.data,0,yt,0,ht.data.length),ht.data=yt}ht.data[ht.length-1]=vt}var wt=lt.data[2*mt+1]/Sr.bitmapFill.height;if(!ht.fixed){if(ht.length++,ht.data.length<ht.length){var bt=ht.data.length+10,Tt=new Array(bt);pe.blit(ht.data,0,Tt,0,ht.data.length),ht.data=Tt}ht.data[ht.length-1]=wt}}}var Et=gr.get_uvtData(st).length!=lt.length,Rt=Sr.normalizeUVT(ht,Et),At=Rt.max;ht=Rt.uvt,At>1?(ut=0|Sr.bounds.width,ct=0|Sr.bounds.height):(ut=Sr.bitmapFill.width,ct=Sr.bitmapFill.height)}var It,St,Ct,Mt,Dt,Pt,Lt,kt,Bt,Ot,Ft,Nt,Ut,Gt,Xt,Yt,Ht,Vt,Wt,zt,jt,Kt,qt,Jt,Zt,Qt,$t,te,ee=0,ne=ot.length;for(Sr.cairo.set_antialias(1);ee<ne;){switch(It=ee,St=ee+1,Ct=ee+2,Mt=2*ot.data[It],Dt=2*ot.data[It]+1,Pt=2*ot.data[St],Lt=2*ot.data[St]+1,kt=2*ot.data[Ct],Bt=2*ot.data[Ct]+1,Ot=lt.data[Mt],Ft=lt.data[Dt],Nt=lt.data[Pt],Ut=lt.data[Lt],Gt=lt.data[kt],Xt=lt.data[Bt],gr.get_culling(st)){case 0:if((Nt-Ot)*(Xt-Ft)-(Ut-Ft)*(Gt-Ot)<0){ee+=3;continue}break;case 2:if(!((Nt-Ot)*(Xt-Ft)-(Ut-Ft)*(Gt-Ot)<0)){ee+=3;continue}}if(_t)Sr.cairo.newPath(),Sr.cairo.moveTo(Ot,Ft),Sr.cairo.lineTo(Nt,Ut),Sr.cairo.lineTo(Gt,Xt),Sr.cairo.closePath(),Sr.hitTesting||Sr.cairo.fillPreserve(),ee+=3;else if(Sr.cairo.identityMatrix(),Sr.cairo.newPath(),Sr.cairo.moveTo(Ot,Ft),Sr.cairo.lineTo(Nt,Ut),Sr.cairo.lineTo(Gt,Xt),Sr.cairo.closePath(),Yt=ht.data[Mt]*ut,Vt=ht.data[Pt]*ut,zt=ht.data[kt]*ut,Ht=ht.data[Dt]*ct,Wt=ht.data[Lt]*ct,jt=ht.data[Bt]*ct,0!=(Kt=Yt*(jt-Wt)-Vt*jt+zt*Wt+(Vt-zt)*Ht)){var ie=new Jn(qt=-(Ht*(Gt-Nt)-Wt*Gt+jt*Nt+(Wt-jt)*Ot)/Kt,Jt=(Wt*Xt+Ht*(Ut-Xt)-jt*Ut+(jt-Wt)*Ft)/Kt,Zt=(Yt*(Gt-Nt)-Vt*Gt+zt*Nt+(Vt-zt)*Ot)/Kt,Qt=-(Vt*Xt+Yt*(Ut-Xt)-zt*Ut+(zt-Vt)*Ft)/Kt,$t=(Yt*(jt*Nt-Wt*Gt)+Ht*(Vt*Gt-zt*Nt)+(zt*Wt-Vt*jt)*Ot)/Kt,te=(Yt*(jt*Ut-Wt*Xt)+Ht*(Vt*Xt-zt*Ut)+(zt*Wt-Vt*jt)*Ft)/Kt);Sr.cairo.set_matrix(ie),Sr.cairo.set_source(Sr.fillPattern),Sr.hitTesting||Sr.cairo.fill(),ee+=3}else ee+=3}break;case 13:var re=_.readLineBitmapStyle();e&&Sr.hasStroke&&Sr.closePath(),Sr.cairo.moveTo(r-n,a-i),Sr.strokePattern=Sr.createImagePattern(mr.get_bitmap(re),mr.get_matrix(re),mr.get_repeat(re)),Sr.hasStroke=!0;break;case 14:var ae=_.readLineGradientStyle();e&&Sr.hasStroke&&Sr.closePath(),Sr.cairo.moveTo(r-n,a-i),Sr.strokePattern=Sr.createGradientPattern(vr.get_type(ae),vr.get_colors(ae),vr.get_alphas(ae),vr.get_ratios(ae),vr.get_matrix(ae),vr.get_spreadMethod(ae),vr.get_interpolationMethod(ae),vr.get_focalPointRatio(ae)),Sr.hasStroke=!0;break;case 15:var se=_.readLineStyle();if(e&&Sr.hasStroke&&Sr.closePath(),Sr.cairo.moveTo(r-n,a-i),null==xr.get_thickness(se))Sr.hasStroke=!1;else{if(Sr.hasStroke=!0,Sr.cairo.set_lineWidth(xr.get_thickness(se)>0?xr.get_thickness(se):1),null==xr.get_joints(se))Sr.cairo.set_lineJoin(1);else{var le,oe=Sr.cairo;switch(xr.get_joints(se)){case 0:le=2;break;case 1:le=0;break;default:le=1}oe.set_lineJoin(le)}if(null==xr.get_caps(se))Sr.cairo.set_lineCap(1);else{var he,_e=Sr.cairo;switch(xr.get_caps(se)){case 0:he=0;break;case 2:he=2;break;default:he=1}_e.set_lineCap(he)}Sr.cairo.set_miterLimit(xr.get_miterLimit(se));var ue=((16711680&xr.get_color(se))>>>16)/255,ce=((65280&xr.get_color(se))>>>8)/255,de=(255&xr.get_color(se))/255;1==xr.get_alpha(se)?Sr.strokePattern=kn.createRGB(ue,ce,de):Sr.strokePattern=kn.createRGBA(ue,ce,de,xr.get_alpha(se))}break;case 16:var fe=_.readLineTo();h=!0,Sr.cairo.lineTo(yr.get_x(fe)-n,yr.get_y(fe)-i),r=yr.get_x(fe),a=yr.get_y(fe);break;case 17:var ge=_.readMoveTo();Sr.cairo.moveTo(wr.get_x(ge)-n,wr.get_y(ge)-i),r=wr.get_x(ge),a=wr.get_y(ge),s=!0,l=wr.get_x(ge),o=wr.get_y(ge);break;default:_.skip(d)}}}catch(t){if("__break__"!=t)throw t}if(_.destroy(),h&&(e&&Sr.hasStroke&&(Sr.hasFill&&s?Sr.cairo.lineTo(l-n,o-i):s&&r==l&&a==o&&Sr.cairo.closePath(),Sr.cairo.set_source(Sr.strokePattern),Sr.hitTesting||Sr.cairo.strokePreserve()),!e&&Sr.hasFill)){if(Sr.cairo.translate(-Sr.bounds.x,-Sr.bounds.y),null!=Sr.fillPatternMatrix){var me=Sr.fillPatternMatrix.clone();me.invert(),null!=Sr.pendingMatrix&&me.concat(Sr.pendingMatrix),kn.set_matrix(Sr.fillPattern,me.__toMatrix3())}Sr.cairo.set_source(Sr.fillPattern),null!=Sr.pendingMatrix?(Sr.cairo.transform(Sr.pendingMatrix.__toMatrix3()),Sr.hitTesting||Sr.cairo.fillPreserve(),Sr.cairo.transform(Sr.inversePendingMatrix.__toMatrix3())):Sr.hitTesting||Sr.cairo.fillPreserve(),Sr.cairo.translate(Sr.bounds.x,Sr.bounds.y),Sr.cairo.closePath()}}},Sr.quadraticCurveTo=function(t,e,n,i){var r=null;Sr.cairo.get_hasCurrentPoint()?r=Sr.cairo.get_currentPoint():(Sr.cairo.moveTo(t,e),r=new $n(t,e));var a=r.x+.6666666666666666*(t-r.x),s=r.y+.6666666666666666*(e-r.y),l=n+.6666666666666666*(t-n),o=i+.6666666666666666*(e-i);Sr.cairo.curveTo(a,s,l,o,n,i)},Sr.render=function(t,e){},Sr.renderMask=function(t,e){if(0!=t.__commands.get_length()){for(var n=e.cairo,i=new ir(t.__commands),r=0,a=t.__commands.types;r<a.length;){var s=a[r];switch(++r,s[1]){case 3:var l=i.readCubicCurveTo();n.curveTo(lr.get_controlX1(l)-0,lr.get_controlY1(l)-0,lr.get_controlX2(l)-0,lr.get_controlY2(l)-0,lr.get_anchorX(l)-0,lr.get_anchorY(l)-0),lr.get_anchorX(l),lr.get_anchorX(l);break;case 4:var o=i.readCurveTo();Sr.quadraticCurveTo(or.get_controlX(o)-0,or.get_controlY(o)-0,or.get_anchorX(o)-0,or.get_anchorY(o)-0),or.get_anchorX(o),or.get_anchorY(o);break;case 5:var h=i.readDrawCircle();n.arc(hr.get_x(h)-0,hr.get_y(h)-0,hr.get_radius(h),0,2*Math.PI);break;case 6:var _=i.readDrawEllipse(),u=_r.get_x(_),c=_r.get_y(_),d=_r.get_width(_),f=_r.get_height(_),g=d/2*.5522848,p=f/2*.5522848,m=(u-=0)+d,v=(c-=0)+f,x=u+d/2,y=c+f/2;n.moveTo(u,y),n.curveTo(u,y-p,x-g,c,x,c),n.curveTo(x+g,c,m,y-p,m,y),n.curveTo(m,y+p,x+g,v,x,v),n.curveTo(x-g,v,u,y+p,u,y);break;case 8:var w=i.readDrawRect();n.rectangle(cr.get_x(w)-0,cr.get_y(w)-0,cr.get_width(w),cr.get_height(w));break;case 9:var b=i.readDrawRoundRect();Sr.drawRoundRect(dr.get_x(b)-0,dr.get_y(b)-0,dr.get_width(b),dr.get_height(b),dr.get_ellipseWidth(b),dr.get_ellipseHeight(b));break;case 16:var T=i.readLineTo();n.lineTo(yr.get_x(T)-0,yr.get_y(T)-0),yr.get_x(T),yr.get_y(T);break;case 17:var E=i.readMoveTo();n.moveTo(wr.get_x(E)-0,wr.get_y(E)-0),wr.get_x(E),wr.get_y(E);break;default:i.skip(s)}}i.destroy()}};var Cr=function(t){tr.call(this,t)};a["openfl._internal.renderer.cairo.CairoMaskManager"]=Cr,Cr.__name__=["openfl","_internal","renderer","cairo","CairoMaskManager"],Cr.__super__=tr,Cr.prototype=n(tr.prototype,{pushMask:function(t){var e=this.renderSession.cairo;e.save();var n=t.__getWorldTransform();e.set_matrix(n.__toMatrix3()),e.newPath(),t.__renderCairoMask(this.renderSession),e.clip()},pushRect:function(t,e){var n=this.renderSession.cairo;n.save(),n.set_matrix(new Jn(e.a,e.c,e.b,e.d,e.tx,e.ty)),n.newPath(),n.rectangle(t.x,t.y,t.width,t.height),n.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.cairo.restore()},__class__:Cr});var Mr=function(t,e,n){er.call(this,t,e),this.cairo=n,this.renderSession=new Ar,this.renderSession.cairo=n,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new Cr(this.renderSession)};a["openfl._internal.renderer.cairo.CairoRenderer"]=Mr,Mr.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"],Mr.__super__=er,Mr.prototype=n(er.prototype,{cairo:null,render:function(t){this.cairo.identityMatrix(),t.__clearBeforeRender&&(this.cairo.setSourceRGB(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2]),this.cairo.paint()),t.__renderCairo(this.renderSession)},renderDisplayObject:function(t){this.cairo.identityMatrix(),t.__renderCairo(this.renderSession)},__class__:Mr});var Dr=function(){};a["openfl._internal.renderer.cairo.CairoShape"]=Dr,Dr.__name__=["openfl","_internal","renderer","cairo","CairoShape"],Dr.render=function(t,e){};var Pr=function(){};a["openfl._internal.renderer.cairo.CairoTextField"]=Pr,Pr.__name__=["openfl","_internal","renderer","cairo","CairoTextField"],Pr.render=function(t,e){};var Lr=function(){};a["openfl._internal.renderer.canvas.CanvasBitmap"]=Lr,Lr.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"],Lr.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var n=e.context;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask),t.bitmapData.__sync(),n.globalAlpha=t.__worldAlpha;var i=t.__renderTransform,r=t.get_scrollRect();e.roundPixels?n.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):n.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),t.smoothing||(n.mozImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1),null==r?n.drawImage(t.bitmapData.image.get_src(),0,0):n.drawImage(t.bitmapData.image.get_src(),r.x,r.y,r.width,r.height,r.x,r.y,r.width,r.height),t.smoothing||(n.mozImageSmoothingEnabled=!0,n.msImageSmoothingEnabled=!0,n.imageSmoothingEnabled=!0),null!=t.__mask&&e.maskManager.popMask()}}};var kr=function(){};a["openfl._internal.renderer.canvas.CanvasGraphics"]=kr,kr.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"],kr.bitmapFill=null,kr.bitmapStroke=null,kr.bitmapRepeat=null,kr.bounds=null,kr.graphics=null,kr.hasFill=null,kr.hasStroke=null,kr.hitTesting=null,kr.inversePendingMatrix=null,kr.pendingMatrix=null,kr.context=null,kr.closePath=function(){null!=kr.context.strokeStyle&&(kr.context.closePath(),kr.context.stroke(),kr.context.beginPath())},kr.createBitmapFill=function(t,e){return t.__sync(),kr.context.createPattern(t.image.get_src(),e?"repeat":"no-repeat")},kr.createGradientPattern=function(t,e,n,i,r,a,s,l){var o=null;switch(t){case 0:var h=null!=r?r:new W,_=h.transformPoint(new V(-819.2,0)),u=h.transformPoint(new V(819.2,0));o=kr.context.createLinearGradient(_.x,_.y,u.x,u.y);break;case 1:null==r&&(r=new W);var c=r.transformPoint(new V(1638.4,0));o=kr.context.createRadialGradient(r.tx,r.ty,0,r.tx,r.ty,(c.x-r.tx)/2)}for(var d=0,f=e.length;d<f;){var g=d++,p=e[g],m=n[g],v=(16711680&p)>>>16,x=(65280&p)>>>8,y=255&p,w=i[g]/255;w<0&&(w=0),w>1&&(w=1),o.addColorStop(w,"rgba("+v+", "+x+", "+y+", "+m+")")}return o},kr.createTempPatternCanvas=function(t,e,n,i){var r=window.document.createElement("canvas"),a=r.getContext("2d");r.width=n,r.height=i;var s=t.image.get_src();return a.fillStyle=a.createPattern(s,e?"repeat":"no-repeat"),a.beginPath(),a.moveTo(0,0),a.lineTo(0,i),a.lineTo(n,i),a.lineTo(n,0),a.lineTo(0,0),a.closePath(),kr.hitTesting||a.fill(),r},kr.drawRoundRect=function(t,e,n,i,r,a){null==a&&(a=r),a*=.5,(r*=.5)>n/2&&(r=n/2),a>i/2&&(a=i/2);var s=t+n,l=e+i,o=-r+r*kr.SIN45,h=-r+r*kr.TAN22,_=-a+a*kr.SIN45,u=-a+a*kr.TAN22;kr.context.moveTo(s,l-a),kr.context.quadraticCurveTo(s,l+u,s+o,l+_),kr.context.quadraticCurveTo(s+h,l,s-r,l),kr.context.lineTo(t+r,l),kr.context.quadraticCurveTo(t-h,l,t-o,l+_),kr.context.quadraticCurveTo(t,l+u,t,l-a),kr.context.lineTo(t,e+a),kr.context.quadraticCurveTo(t,e-u,t-o,e-_),kr.context.quadraticCurveTo(t-h,e,t+r,e),kr.context.lineTo(s-r,e),kr.context.quadraticCurveTo(s+h,e,s+o,e-_),kr.context.quadraticCurveTo(s,e-u,s,e+a),kr.context.lineTo(s,l-a)},kr.endFill=function(){kr.context.beginPath(),kr.playCommands(kr.fillCommands,!1),kr.fillCommands.clear()},kr.endStroke=function(){kr.context.beginPath(),kr.playCommands(kr.strokeCommands,!0),kr.context.closePath(),kr.strokeCommands.clear()},kr.hitTest=function(t,e,n){if(0==t.__commands.get_length()||null==kr.bounds||kr.bounds.width<=0||kr.bounds.height<=0)return!1;kr.hitTesting=!0,e-=kr.bounds.x,n-=kr.bounds.y,null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),kr.context=t.__context,kr.fillCommands.clear(),kr.strokeCommands.clear(),kr.hasFill=!1,kr.hasStroke=!1,kr.bitmapFill=null,kr.bitmapRepeat=!1,kr.context.beginPath();for(var i=new ir(t.__commands),r=0,a=t.__commands.types;r<a.length;){var s=a[r];switch(++r,s[1]){case 0:case 1:case 2:if(kr.endFill(),kr.endStroke(),kr.hasFill&&kr.context.isPointInPath(e,n))return i.destroy(),!0;if(kr.hasStroke&&kr.context.isPointInStroke(e,n))return i.destroy(),!0;if(s==Tr.BEGIN_BITMAP_FILL){var l=i.readBeginBitmapFill();kr.fillCommands.beginBitmapFill(rr.get_bitmap(l),rr.get_matrix(l),rr.get_repeat(l),rr.get_smooth(l)),kr.strokeCommands.beginBitmapFill(rr.get_bitmap(l),rr.get_matrix(l),rr.get_repeat(l),rr.get_smooth(l))}else if(s==Tr.BEGIN_GRADIENT_FILL){var o=i.readBeginGradientFill();kr.fillCommands.beginGradientFill(sr.get_type(o),sr.get_colors(o),sr.get_alphas(o),sr.get_ratios(o),sr.get_matrix(o),sr.get_spreadMethod(o),sr.get_interpolationMethod(o),sr.get_focalPointRatio(o)),kr.strokeCommands.beginGradientFill(sr.get_type(o),sr.get_colors(o),sr.get_alphas(o),sr.get_ratios(o),sr.get_matrix(o),sr.get_spreadMethod(o),sr.get_interpolationMethod(o),sr.get_focalPointRatio(o))}else{var h=i.readBeginFill();kr.fillCommands.beginFill(ar.get_color(h),1),kr.strokeCommands.beginFill(ar.get_color(h),1)}break;case 3:var _=i.readCubicCurveTo();kr.fillCommands.cubicCurveTo(lr.get_controlX1(_),lr.get_controlY1(_),lr.get_controlX2(_),lr.get_controlY2(_),lr.get_anchorX(_),lr.get_anchorY(_)),kr.strokeCommands.cubicCurveTo(lr.get_controlX1(_),lr.get_controlY1(_),lr.get_controlX2(_),lr.get_controlY2(_),lr.get_anchorX(_),lr.get_anchorY(_));break;case 4:var u=i.readCurveTo();kr.fillCommands.curveTo(or.get_controlX(u),or.get_controlY(u),or.get_anchorX(u),or.get_anchorY(u)),kr.strokeCommands.curveTo(or.get_controlX(u),or.get_controlY(u),or.get_anchorX(u),or.get_anchorY(u));break;case 5:var c=i.readDrawCircle();kr.fillCommands.drawCircle(hr.get_x(c),hr.get_y(c),hr.get_radius(c)),kr.strokeCommands.drawCircle(hr.get_x(c),hr.get_y(c),hr.get_radius(c));break;case 6:var d=i.readDrawEllipse();kr.fillCommands.drawEllipse(_r.get_x(d),_r.get_y(d),_r.get_width(d),_r.get_height(d)),kr.strokeCommands.drawEllipse(_r.get_x(d),_r.get_y(d),_r.get_width(d),_r.get_height(d));break;case 8:var f=i.readDrawRect();kr.fillCommands.drawRect(cr.get_x(f),cr.get_y(f),cr.get_width(f),cr.get_height(f)),kr.strokeCommands.drawRect(cr.get_x(f),cr.get_y(f),cr.get_width(f),cr.get_height(f));break;case 9:var g=i.readDrawRoundRect();kr.fillCommands.drawRoundRect(dr.get_x(g),dr.get_y(g),dr.get_width(g),dr.get_height(g),dr.get_ellipseWidth(g),dr.get_ellipseHeight(g)),kr.strokeCommands.drawRoundRect(dr.get_x(g),dr.get_y(g),dr.get_width(g),dr.get_height(g),dr.get_ellipseWidth(g),dr.get_ellipseHeight(g));break;case 12:if(i.readEndFill(),kr.endFill(),kr.endStroke(),kr.hasFill&&kr.context.isPointInPath(e,n))return i.destroy(),!0;if(kr.hasStroke&&kr.context.isPointInStroke(e,n))return i.destroy(),!0;kr.hasFill=!1,kr.bitmapFill=null;break;case 13:var p=i.readLineBitmapStyle();kr.strokeCommands.lineBitmapStyle(mr.get_bitmap(p),mr.get_matrix(p),mr.get_repeat(p),mr.get_smooth(p));break;case 14:var m=i.readLineGradientStyle();kr.strokeCommands.lineGradientStyle(vr.get_type(m),vr.get_colors(m),vr.get_alphas(m),vr.get_ratios(m),vr.get_matrix(m),vr.get_spreadMethod(m),vr.get_interpolationMethod(m),vr.get_focalPointRatio(m));break;case 15:var v=i.readLineStyle();kr.strokeCommands.lineStyle(xr.get_thickness(v),xr.get_color(v),1,xr.get_pixelHinting(v),xr.get_scaleMode(v),xr.get_caps(v),xr.get_joints(v),xr.get_miterLimit(v));break;case 16:var x=i.readLineTo();kr.fillCommands.lineTo(yr.get_x(x),yr.get_y(x)),kr.strokeCommands.lineTo(yr.get_x(x),yr.get_y(x));break;case 17:var y=i.readMoveTo();kr.fillCommands.moveTo(wr.get_x(y),wr.get_y(y)),kr.strokeCommands.moveTo(wr.get_x(y),wr.get_y(y));break;default:i.skip(s)}}return kr.fillCommands.get_length()>0&&kr.endFill(),kr.strokeCommands.get_length()>0&&kr.endStroke(),i.destroy(),!(!kr.hasFill||!kr.context.isPointInPath(e,n))||!(!kr.hasStroke||!kr.context.isPointInStroke(e,n))},kr.isCCW=function(t,e,n,i,r,a){return(n-t)*(a-e)-(i-e)*(r-t)<0},kr.normalizeUVT=function(t,e){null==e&&(e=!1);for(var n=-1/0,i=-1/0,r=t.length,a=1,s=r+1;a<s;){var l=a++;e&&l%3==0||n<(i=t.data[l-1])&&(n=i)}var o=new Qi,h=new Array(0);o.data=h,o.length=0,o.fixed=!1;for(var _=o,u=1,c=r+1;u<c;){var d=u++;if(!e||d%3!=0){var f=t.data[d-1]/n;if(!_.fixed){if(_.length++,_.data.length<_.length){var g=_.data.length+10,p=new Array(g);pe.blit(_.data,0,p,0,_.data.length),_.data=p}_.data[_.length-1]=f}}}return{max:n,uvt:_}},kr.playCommands=function(t,e){null==e&&(e=!1),kr.bounds=kr.graphics.__bounds;for(var n=kr.bounds.x,i=kr.bounds.y,r=0,a=0,s=!1,l=0,o=0,h=new ir(t),_=0,u=t.types;_<u.length;){var c=u[_];switch(++_,c[1]){case 0:var d=h.readBeginBitmapFill(),f=rr.get_bitmap(d);kr.context.fillStyle=kr.createBitmapFill(f,!0),kr.hasFill=!0,null!=rr.get_matrix(d)?(kr.pendingMatrix=rr.get_matrix(d),kr.inversePendingMatrix=rr.get_matrix(d).clone(),kr.inversePendingMatrix.invert()):(kr.pendingMatrix=null,kr.inversePendingMatrix=null);break;case 1:var g=h.readBeginFill();if(ar.get_alpha(g)<.005)kr.hasFill=!1;else{if(1==ar.get_alpha(g)){var p=k.hex(ar.get_color(g),6);kr.context.fillStyle="#"+p}else{var m="rgba("+((16711680&ar.get_color(g))>>>16)+", "+((65280&ar.get_color(g))>>>8)+", "+(255&ar.get_color(g))+", "+ar.get_alpha(g);kr.context.fillStyle=m+")"}kr.bitmapFill=null,kr.hasFill=!0}break;case 2:var v=h.readBeginGradientFill(),x=sr.get_type(v),y=sr.get_colors(v),w=sr.get_alphas(v),b=sr.get_ratios(v),T=sr.get_matrix(v),E=sr.get_spreadMethod(v),R=sr.get_interpolationMethod(v),A=sr.get_focalPointRatio(v);kr.context.fillStyle=kr.createGradientPattern(x,y,w,b,T,E,R,A),kr.bitmapFill=null,kr.hasFill=!0;break;case 3:var I=h.readCubicCurveTo();kr.context.bezierCurveTo(lr.get_controlX1(I)-n,lr.get_controlY1(I)-i,lr.get_controlX2(I)-n,lr.get_controlY2(I)-i,lr.get_anchorX(I)-n,lr.get_anchorY(I)-i);break;case 4:var S=h.readCurveTo();kr.context.quadraticCurveTo(or.get_controlX(S)-n,or.get_controlY(S)-i,or.get_anchorX(S)-n,or.get_anchorY(S)-i);break;case 5:var C=h.readDrawCircle();kr.context.moveTo(hr.get_x(C)-n+hr.get_radius(C),hr.get_y(C)-i),kr.context.arc(hr.get_x(C)-n,hr.get_y(C)-i,hr.get_radius(C),0,2*Math.PI,!0);break;case 6:var M=h.readDrawEllipse(),D=_r.get_x(M),P=_r.get_y(M),L=_r.get_width(M),B=_r.get_height(M),O=L/2*.5522848,F=B/2*.5522848,N=(D-=n)+L,U=(P-=i)+B,G=D+L/2,X=P+B/2;kr.context.moveTo(D,X),kr.context.bezierCurveTo(D,X-F,G-O,P,G,P),kr.context.bezierCurveTo(G+O,P,N,X-F,N,X),kr.context.bezierCurveTo(N,X+F,G+O,U,G,U),kr.context.bezierCurveTo(G-O,U,D,X+F,D,X);break;case 8:var Y=h.readDrawRect(),H=!1;if(null!=kr.bitmapFill){var W=0,z=0,j=0,K=0,q=!0;if(null!=kr.pendingMatrix)if(0!=kr.pendingMatrix.b||0!=kr.pendingMatrix.c)q=!1;else{var J=kr.inversePendingMatrix.transformPoint(new V(cr.get_x(Y),cr.get_y(Y))),Z=kr.inversePendingMatrix.transformPoint(new V(cr.get_x(Y)+cr.get_width(Y),cr.get_y(Y)+cr.get_height(Y)));W=J.y,K=J.x,j=Z.y,z=Z.x}else W=cr.get_y(Y),K=cr.get_x(Y),j=cr.get_y(Y)+cr.get_height(Y),z=cr.get_x(Y)+cr.get_width(Y);q&&W>=0&&K>=0&&z<=kr.bitmapFill.width&&j<=kr.bitmapFill.height&&(H=!0,kr.hitTesting||kr.context.drawImage(kr.bitmapFill.image.get_src(),K,W,z-K,j-W,cr.get_x(Y)-n,cr.get_y(Y)-i,cr.get_width(Y),cr.get_height(Y)))}H||kr.context.rect(cr.get_x(Y)-n,cr.get_y(Y)-i,cr.get_width(Y),cr.get_height(Y));break;case 9:var Q=h.readDrawRoundRect();kr.drawRoundRect(dr.get_x(Q)-n,dr.get_y(Q)-i,dr.get_width(Q),dr.get_height(Q),dr.get_ellipseWidth(Q),dr.get_ellipseHeight(Q));break;case 13:var $=h.readLineBitmapStyle();e&&kr.hasStroke&&kr.closePath(),kr.context.moveTo(r-n,a-i);var tt=mr.get_bitmap($),et=mr.get_repeat($);kr.context.strokeStyle=kr.createBitmapFill(tt,et),kr.hasStroke=!0;break;case 14:var nt=h.readLineGradientStyle();e&&kr.hasStroke&&kr.closePath(),kr.context.moveTo(r-n,a-i);var it=vr.get_type(nt),rt=vr.get_colors(nt),at=vr.get_alphas(nt),st=vr.get_ratios(nt),lt=vr.get_matrix(nt),ot=vr.get_spreadMethod(nt),ht=vr.get_interpolationMethod(nt),_t=vr.get_focalPointRatio(nt);kr.context.strokeStyle=kr.createGradientPattern(it,rt,at,st,lt,ot,ht,_t),kr.hasStroke=!0;break;case 15:var ut=h.readLineStyle();if(e&&kr.hasStroke&&(kr.context.closePath(),kr.hitTesting||kr.context.stroke(),kr.context.beginPath()),kr.context.moveTo(r-n,a-i),null==xr.get_thickness(ut))kr.hasStroke=!1;else{var ct=xr.get_thickness(ut)>0?xr.get_thickness(ut):1;kr.context.lineWidth=ct;var dt=null==xr.get_joints(ut)?"round":qa.toString(xr.get_joints(ut)).toLowerCase();kr.context.lineJoin=dt;var ft;if(ft=null==xr.get_caps(ut)?"round":0==xr.get_caps(ut)?"butt":Ma.toString(xr.get_caps(ut)).toLowerCase(),kr.context.lineCap=ft,kr.context.miterLimit=xr.get_miterLimit(ut),1==xr.get_alpha(ut)){var gt=k.hex(16777215&xr.get_color(ut),6);kr.context.strokeStyle="#"+gt}else{var pt="rgba("+((16711680&xr.get_color(ut))>>>16)+", "+((65280&xr.get_color(ut))>>>8)+", "+(255&xr.get_color(ut))+", "+xr.get_alpha(ut);kr.context.strokeStyle=pt+")"}kr.hasStroke=!0}break;case 16:var mt=h.readLineTo();kr.context.lineTo(yr.get_x(mt)-n,yr.get_y(mt)-i),r=yr.get_x(mt),a=yr.get_y(mt);break;case 17:var vt=h.readMoveTo();kr.context.moveTo(wr.get_x(vt)-n,wr.get_y(vt)-i),r=wr.get_x(vt),a=wr.get_y(vt),s=!0,l=wr.get_x(vt),o=wr.get_y(vt);break;default:h.skip(c)}}h.destroy(),e&&kr.hasStroke&&(kr.hasFill&&s?kr.context.lineTo(l-n,o-i):s&&r==l&&a==o&&kr.context.closePath(),kr.hitTesting||kr.context.stroke()),e||(kr.hasFill||null!=kr.bitmapFill)&&(kr.context.translate(-kr.bounds.x,-kr.bounds.y),null!=kr.pendingMatrix?(kr.context.transform(kr.pendingMatrix.a,kr.pendingMatrix.b,kr.pendingMatrix.c,kr.pendingMatrix.d,kr.pendingMatrix.tx,kr.pendingMatrix.ty),kr.hitTesting||kr.context.fill(),kr.context.transform(kr.inversePendingMatrix.a,kr.inversePendingMatrix.b,kr.inversePendingMatrix.c,kr.inversePendingMatrix.d,kr.inversePendingMatrix.tx,kr.inversePendingMatrix.ty)):kr.hitTesting||kr.context.fill(),kr.context.translate(kr.bounds.x,kr.bounds.y),kr.context.closePath())},kr.render=function(t,e){if(t.__dirty){if(kr.hitTesting=!1,kr.graphics=t,kr.bounds=t.__bounds,!t.__visible||0==t.__commands.get_length()||null==kr.bounds||kr.bounds.width<=0||kr.bounds.height<=0)t.__canvas=null,t.__context=null,t.__bitmap=null;else{null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),kr.context=t.__context,t.__canvas.width=Math.ceil(kr.bounds.width),t.__canvas.height=Math.ceil(kr.bounds.height),kr.fillCommands.clear(),kr.strokeCommands.clear(),kr.hasFill=!1,kr.hasStroke=!1,kr.bitmapFill=null,kr.bitmapRepeat=!1;var n=new ir(t.__commands),i=0,r=t.__commands.types;try{for(;i<r.length;){var a=r[i];switch(++i,a[1]){case 0:case 1:case 2:if(kr.endFill(),kr.endStroke(),a==Tr.BEGIN_BITMAP_FILL){var s=n.readBeginBitmapFill();kr.fillCommands.beginBitmapFill(rr.get_bitmap(s),rr.get_matrix(s),rr.get_repeat(s),rr.get_smooth(s)),kr.strokeCommands.beginBitmapFill(rr.get_bitmap(s),rr.get_matrix(s),rr.get_repeat(s),rr.get_smooth(s))}else if(a==Tr.BEGIN_GRADIENT_FILL){var l=n.readBeginGradientFill();kr.fillCommands.beginGradientFill(sr.get_type(l),sr.get_colors(l),sr.get_alphas(l),sr.get_ratios(l),sr.get_matrix(l),sr.get_spreadMethod(l),sr.get_interpolationMethod(l),sr.get_focalPointRatio(l)),kr.strokeCommands.beginGradientFill(sr.get_type(l),sr.get_colors(l),sr.get_alphas(l),sr.get_ratios(l),sr.get_matrix(l),sr.get_spreadMethod(l),sr.get_interpolationMethod(l),sr.get_focalPointRatio(l))}else{var o=n.readBeginFill();kr.fillCommands.beginFill(ar.get_color(o),ar.get_alpha(o)),kr.strokeCommands.beginFill(ar.get_color(o),ar.get_alpha(o))}break;case 3:var h=n.readCubicCurveTo();kr.fillCommands.cubicCurveTo(lr.get_controlX1(h),lr.get_controlY1(h),lr.get_controlX2(h),lr.get_controlY2(h),lr.get_anchorX(h),lr.get_anchorY(h)),kr.strokeCommands.cubicCurveTo(lr.get_controlX1(h),lr.get_controlY1(h),lr.get_controlX2(h),lr.get_controlY2(h),lr.get_anchorX(h),lr.get_anchorY(h));break;case 4:var _=n.readCurveTo();kr.fillCommands.curveTo(or.get_controlX(_),or.get_controlY(_),or.get_anchorX(_),or.get_anchorY(_)),kr.strokeCommands.curveTo(or.get_controlX(_),or.get_controlY(_),or.get_anchorX(_),or.get_anchorY(_));break;case 5:var u=n.readDrawCircle();kr.fillCommands.drawCircle(hr.get_x(u),hr.get_y(u),hr.get_radius(u)),kr.strokeCommands.drawCircle(hr.get_x(u),hr.get_y(u),hr.get_radius(u));break;case 6:var c=n.readDrawEllipse();kr.fillCommands.drawEllipse(_r.get_x(c),_r.get_y(c),_r.get_width(c),_r.get_height(c)),kr.strokeCommands.drawEllipse(_r.get_x(c),_r.get_y(c),_r.get_width(c),_r.get_height(c));break;case 8:var d=n.readDrawRect();kr.fillCommands.drawRect(cr.get_x(d),cr.get_y(d),cr.get_width(d),cr.get_height(d)),kr.strokeCommands.drawRect(cr.get_x(d),cr.get_y(d),cr.get_width(d),cr.get_height(d));break;case 9:var f=n.readDrawRoundRect();kr.fillCommands.drawRoundRect(dr.get_x(f),dr.get_y(f),dr.get_width(f),dr.get_height(f),dr.get_ellipseWidth(f),dr.get_ellipseHeight(f)),kr.strokeCommands.drawRoundRect(dr.get_x(f),dr.get_y(f),dr.get_width(f),dr.get_height(f),dr.get_ellipseWidth(f),dr.get_ellipseHeight(f));break;case 10:var g=n.readDrawTiles(),p=(1&fr.get_flags(g))>0,m=kr.bounds.x,v=kr.bounds.y,x=(2&fr.get_flags(g))>0,y=(16&fr.get_flags(g))>0,w=(4&fr.get_flags(g))>0,b=(8&fr.get_flags(g))>0,T=(32&fr.get_flags(g))>0,E=(64&fr.get_flags(g))>0,R=(65536&fr.get_flags(g))>0;y&&(p=!1,x=!1);var A=0,I=0,S=0,C=0,M=3;T&&(M=E?8:6),p&&(A=M,++M),x&&(I=M,++M),y&&(C=M,M+=4),w&&(M,M+=3),b&&(S=M,++M);var D=fr.get_tileData(g).length;fr.get_count(g)>=0&&D>fr.get_count(g)&&(D=fr.get_count(g));var P,L=0,k=null,B=null,O=-1;for(fr.get_sheet(g).__bitmap.__sync(),P=fr.get_sheet(g).__bitmap.image.get_src(),R&&(kr.context.globalCompositeOperation="lighter");L<D;){var F=T?-1:0|fr.get_tileData(g)[L+2];if(T||F==O?T&&((k=fr.get_sheet(g).__rectTile).setTo(fr.get_tileData(g)[L+2],fr.get_tileData(g)[L+3],fr.get_tileData(g)[L+4],fr.get_tileData(g)[L+5]),B=fr.get_sheet(g).__point,E?B.setTo(fr.get_tileData(g)[L+6],fr.get_tileData(g)[L+7]):B.setTo(0,0)):(k=fr.get_sheet(g).__tileRects[F],B=fr.get_sheet(g).__centerPoints[F],O=F),null!=k&&k.width>0&&k.height>0&&null!=B){kr.context.save(),kr.context.translate(fr.get_tileData(g)[L]-m,fr.get_tileData(g)[L+1]-v),x&&kr.context.rotate(fr.get_tileData(g)[L+I]);var N=1;if(p&&(N=fr.get_tileData(g)[L+A]),y&&kr.context.transform(fr.get_tileData(g)[L+C],fr.get_tileData(g)[L+C+1],fr.get_tileData(g)[L+C+2],fr.get_tileData(g)[L+C+3],0,0),b){var U=fr.get_tileData(g);kr.context.globalAlpha=U[L+S]}kr.context.imageSmoothingEnabled=fr.get_smooth(g),kr.context.drawImage(P,k.x,k.y,k.width,k.height,-B.x*N,-B.y*N,k.width*N,k.height*N),kr.context.restore()}L+=M}R&&(kr.context.globalCompositeOperation="source-over");break;case 11:kr.endFill(),kr.endStroke();var G=n.readDrawTriangles(),X=gr.get_vertices(G),Y=gr.get_indices(G),H=gr.get_uvtData(G),V=null,W=null==kr.bitmapFill;if(W&&null!=H)throw"__break__";if(!W){if(null==H){var z=new Qi,j=new Array(0);z.data=j,z.length=0,z.fixed=!1,H=z;for(var K=0,q=X.length/2|0;K<q;){var J=K++,Z=X.data[2*J]/kr.bitmapFill.width;if(!H.fixed){if(H.length++,H.data.length<H.length){var Q=H.data.length+10,$=new Array(Q);pe.blit(H.data,0,$,0,H.data.length),H.data=$}H.data[H.length-1]=Z}var tt=X.data[2*J+1]/kr.bitmapFill.height;if(!H.fixed){if(H.length++,H.data.length<H.length){var et=H.data.length+10,nt=new Array(et);pe.blit(H.data,0,nt,0,H.data.length),H.data=nt}H.data[H.length-1]=tt}}}var it=H.length!=X.length,rt=kr.normalizeUVT(H,it),at=rt.max;H=rt.uvt,V=at>1?kr.createTempPatternCanvas(kr.bitmapFill,kr.bitmapRepeat,0|kr.bounds.width,0|kr.bounds.height):kr.createTempPatternCanvas(kr.bitmapFill,kr.bitmapRepeat,kr.bitmapFill.width,kr.bitmapFill.height)}for(var st,lt,ot,ht,_t,ut,ct,dt,ft,gt,pt,mt,vt,xt,yt,wt,bt,Tt,Et,Rt,At,It,St,Ct,Mt,Dt,Pt,Lt,kt=0,Bt=Y.length;kt<Bt;){switch(st=kt,lt=kt+1,ot=kt+2,ht=2*Y.data[st],_t=2*Y.data[st]+1,ut=2*Y.data[lt],ct=2*Y.data[lt]+1,dt=2*Y.data[ot],ft=2*Y.data[ot]+1,gt=X.data[ht],pt=X.data[_t],mt=X.data[ut],vt=X.data[ct],xt=X.data[dt],yt=X.data[ft],gr.get_culling(G)){case 0:if((mt-gt)*(yt-pt)-(vt-pt)*(xt-gt)<0){kt+=3;continue}break;case 2:if(!((mt-gt)*(yt-pt)-(vt-pt)*(xt-gt)<0)){kt+=3;continue}}W?(kr.context.beginPath(),kr.context.moveTo(gt,pt),kr.context.lineTo(mt,vt),kr.context.lineTo(xt,yt),kr.context.closePath(),kr.hitTesting||kr.context.fill(),kt+=3):(kr.context.save(),kr.context.beginPath(),kr.context.moveTo(gt,pt),kr.context.lineTo(mt,vt),kr.context.lineTo(xt,yt),kr.context.closePath(),kr.context.clip(),wt=H.data[ht]*V.width,Tt=H.data[ut]*V.width,Rt=H.data[dt]*V.width,bt=H.data[_t]*V.height,Et=H.data[ct]*V.height,0!=(It=wt*((At=H.data[ft]*V.height)-Et)-Tt*At+Rt*Et+(Tt-Rt)*bt)?(St=-(bt*(xt-mt)-Et*xt+At*mt+(Et-At)*gt)/It,Ct=(Et*yt+bt*(vt-yt)-At*vt+(At-Et)*pt)/It,Mt=(wt*(xt-mt)-Tt*xt+Rt*mt+(Tt-Rt)*gt)/It,Dt=-(Tt*yt+wt*(vt-yt)-Rt*vt+(Rt-Tt)*pt)/It,Pt=(wt*(At*mt-Et*xt)+bt*(Tt*xt-Rt*mt)+(Rt*Et-Tt*At)*gt)/It,Lt=(wt*(At*vt-Et*yt)+bt*(Tt*yt-Rt*vt)+(Rt*Et-Tt*At)*pt)/It,kr.context.transform(St,Ct,Mt,Dt,Pt,Lt),kr.context.drawImage(V,0,0),kr.context.restore(),kt+=3):kt+=3)}break;case 12:n.readEndFill(),kr.endFill(),kr.endStroke(),kr.hasFill=!1,kr.bitmapFill=null;break;case 13:var Ot=n.readLineBitmapStyle();kr.strokeCommands.lineBitmapStyle(mr.get_bitmap(Ot),mr.get_matrix(Ot),mr.get_repeat(Ot),mr.get_smooth(Ot));break;case 14:var Ft=n.readLineGradientStyle();kr.strokeCommands.lineGradientStyle(vr.get_type(Ft),vr.get_colors(Ft),vr.get_alphas(Ft),vr.get_ratios(Ft),vr.get_matrix(Ft),vr.get_spreadMethod(Ft),vr.get_interpolationMethod(Ft),vr.get_focalPointRatio(Ft));break;case 15:var Nt=n.readLineStyle();kr.strokeCommands.lineStyle(xr.get_thickness(Nt),xr.get_color(Nt),xr.get_alpha(Nt),xr.get_pixelHinting(Nt),xr.get_scaleMode(Nt),xr.get_caps(Nt),xr.get_joints(Nt),xr.get_miterLimit(Nt));break;case 16:var Ut=n.readLineTo();kr.fillCommands.lineTo(yr.get_x(Ut),yr.get_y(Ut)),kr.strokeCommands.lineTo(yr.get_x(Ut),yr.get_y(Ut));break;case 17:var Gt=n.readMoveTo();kr.fillCommands.moveTo(wr.get_x(Gt),wr.get_y(Gt)),kr.strokeCommands.moveTo(wr.get_x(Gt),wr.get_y(Gt));break;default:n.skip(a)}}}catch(t){if("__break__"!=t)throw t}kr.fillCommands.get_length()>0&&kr.endFill(),kr.strokeCommands.get_length()>0&&kr.endStroke(),n.destroy(),t.__bitmap=Ia.fromCanvas(t.__canvas)}t.set___dirty(!1)}},kr.renderMask=function(t,e){if(0!=t.__commands.get_length()){kr.context=e.context;for(var n=new ir(t.__commands),i=0,r=t.__commands.types;i<r.length;){var a=r[i];switch(++i,a[1]){case 3:var s=n.readCubicCurveTo();kr.context.bezierCurveTo(lr.get_controlX1(s)-0,lr.get_controlY1(s)-0,lr.get_controlX2(s)-0,lr.get_controlY2(s)-0,lr.get_anchorX(s)-0,lr.get_anchorY(s)-0),lr.get_anchorX(s),lr.get_anchorY(s);break;case 4:var l=n.readCurveTo();kr.context.quadraticCurveTo(or.get_controlX(l)-0,or.get_controlY(l)-0,or.get_anchorX(l)-0,or.get_anchorY(l)-0),or.get_anchorX(l),or.get_anchorY(l);break;case 5:var o=n.readDrawCircle();kr.context.arc(hr.get_x(o)-0,hr.get_y(o)-0,hr.get_radius(o),0,2*Math.PI,!0);break;case 6:var h=n.readDrawEllipse(),_=_r.get_x(h),u=_r.get_y(h),c=_r.get_width(h),d=_r.get_height(h),f=c/2*.5522848,g=d/2*.5522848,p=(_-=0)+c,m=(u-=0)+d,v=_+c/2,x=u+d/2;kr.context.moveTo(_,x),kr.context.bezierCurveTo(_,x-g,v-f,u,v,u),kr.context.bezierCurveTo(v+f,u,p,x-g,p,x),kr.context.bezierCurveTo(p,x+g,v+f,m,v,m),kr.context.bezierCurveTo(v-f,m,_,x+g,_,x);break;case 8:var y=n.readDrawRect();kr.context.rect(cr.get_x(y)-0,cr.get_y(y)-0,cr.get_width(y),cr.get_height(y));break;case 9:var w=n.readDrawRoundRect();kr.drawRoundRect(dr.get_x(w)-0,dr.get_y(w)-0,dr.get_width(w),dr.get_height(w),dr.get_ellipseWidth(w),dr.get_ellipseHeight(w));break;case 16:var b=n.readLineTo();kr.context.lineTo(yr.get_x(b)-0,yr.get_y(b)-0),yr.get_x(b),yr.get_y(b);break;case 17:var T=n.readMoveTo();kr.context.moveTo(wr.get_x(T)-0,wr.get_y(T)-0),wr.get_x(T),wr.get_y(T);break;default:n.skip(a)}}n.destroy()}};var Br=function(t){tr.call(this,t)};a["openfl._internal.renderer.canvas.CanvasMaskManager"]=Br,Br.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"],Br.__super__=tr,Br.prototype=n(tr.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var n=t.__getWorldTransform();e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var n=this.renderSession.context;n.save(),n.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Br});var Or=function(t,e,n){er.call(this,t,e),this.context=n,this.renderSession=new Ar,this.renderSession.context=n,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new Br(this.renderSession)};a["openfl._internal.renderer.canvas.CanvasRenderer"]=Or,Or.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"],Or.__super__=er,Or.prototype=n(er.prototype,{context:null,render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:Or});var Fr=function(){};a["openfl._internal.renderer.canvas.CanvasShape"]=Fr,Fr.__name__=["openfl","_internal","renderer","canvas","CanvasShape"],Fr.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var n=t.__graphics;if(null!=n&&(kr.render(n,e),null!=n.__canvas)){var i=e.context,r=t.get_scrollRect();if(n.__bounds.width>0&&n.__bounds.height>0&&(null==r||r.width>0&&r.height>0)){null!=t.__mask&&e.maskManager.pushMask(t.__mask),i.globalAlpha=t.__worldAlpha;var a=t.__renderTransform;e.roundPixels?i.setTransform(a.a,a.b,a.c,a.d,0|a.tx,0|a.ty):i.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty),null==r?i.drawImage(n.__canvas,n.__bounds.x,n.__bounds.y):i.drawImage(n.__canvas,Math.ceil(n.__bounds.x+r.x),Math.ceil(n.__bounds.y+r.y),r.width,r.height,Math.ceil(n.__bounds.x+r.x),Math.ceil(n.__bounds.y+r.y),r.width,r.height),null!=t.__mask&&e.maskManager.popMask()}}}};var Nr=function(){};a["openfl._internal.renderer.canvas.CanvasTextField"]=Nr,Nr.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"],Nr.context=null,Nr.disableInputMode=function(t){},Nr.enableInputMode=function(t){if(t.__cursorPosition=-1,null==t.__hiddenInput){t.__hiddenInput=window.document.createElement("input");var e=t.__hiddenInput;e.type="text",e.style.position="absolute",e.style.opacity="0",e.style.color="transparent",e.style.left="0px",e.style.top="50%",new A("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(e.style.fontSize="0px",e.style.width="0px",e.style.height="0px"):(e.style.width="1px",e.style.height="1px"),e.style.pointerEvents="none",e.style.zIndex="-10000000",t.maxChars>0&&(e.maxLength=t.maxChars),window.document.body.appendChild(e),e.value=t.text}},Nr.render=function(t,e){if(t.__dirty){var n=t.__textEngine;if(t.__updateLayout(),(null==n.text||""==n.text)&&!n.background&&!n.border&&!n.__hasFocus||(n.width<=0||n.height<=0)&&2!=n.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.set___dirty(!1),t.__dirty=!1;else{var i=n.bounds;null!=t.__graphics&&null!=t.__graphics.__canvas||(null==t.__graphics&&(t.__graphics=new ka),t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d"),t.__graphics.__bounds=new z(0,0,i.width,i.height));var r=t.__graphics;if(Nr.context=r.__context,null!=n.text&&""!=n.text||n.__hasFocus){var a=n.text;if(n.displayAsPassword){for(var s="",l=0,o=a.length;l<o;){l++;s+="*"}a=s}if(r.__canvas.width=Math.ceil(i.width),r.__canvas.height=Math.ceil(i.height),0!=n.antiAliasType||1!=n.gridFitType?(r.__context.mozImageSmoothingEnabled=!0,r.__context.msImageSmoothingEnabled=!0,r.__context.imageSmoothingEnabled=!0):(r.__context.mozImageSmoothingEnabled=!1,r.__context.msImageSmoothingEnabled=!1,r.__context.imageSmoothingEnabled=!1),n.border||n.background){if(Nr.context.rect(.5,.5,i.width-1,i.height-1),n.background){var h=k.hex(n.backgroundColor,6);Nr.context.fillStyle="#"+h,Nr.context.fill()}if(n.border){Nr.context.lineWidth=1;var _=k.hex(n.borderColor,6);Nr.context.strokeStyle="#"+_,Nr.context.stroke()}}Nr.context.textBaseline="top",Nr.context.textAlign="start";for(var u=-t.get_scrollH(),c=0,d=0,f=t.get_scrollV()-1;d<f;){var g=d++;c-=n.lineHeights[g]}for(var p,m=0,v=new A("(iPad|iPhone|iPod|Firefox)","g").match(window.navigator.userAgent),x=0,y=n.layoutGroups;x<y.length;){var w=y[x];if(++x,!(w.lineIndex<t.get_scrollV()-1)){if(w.lineIndex>t.get_scrollV()+n.bottomScrollV-2)break;Nr.context.font=ba.getFont(w.format);var b=k.hex(w.format.color,6);if(Nr.context.fillStyle="#"+b,v&&(m=.185*w.format.size),Nr.context.fillText(a.substring(w.startIndex,w.endIndex),w.offsetX+u,w.offsetY+m+c),t.__caretIndex>-1&&n.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&w.startIndex<=t.__caretIndex&&w.endIndex>=t.__caretIndex){p=0;for(var T=0,E=t.__caretIndex-w.startIndex;T<E;){var R=T++;if(w.advances.length<=R)break;p+=w.advances[R]}Nr.context.fillRect(w.offsetX+p,w.offsetY,1,w.height)}}else if(w.startIndex<=t.__caretIndex&&w.endIndex>=t.__caretIndex||w.startIndex<=t.__selectionIndex&&w.endIndex>=t.__selectionIndex){var I=0|Math.min(t.__selectionIndex,t.__caretIndex),S=0|Math.max(t.__selectionIndex,t.__caretIndex);w.startIndex>I&&(I=w.startIndex),w.endIndex<S&&(S=w.endIndex);var C,M;C=t.getCharBoundaries(I),S>=n.text.length?(M=t.getCharBoundaries(n.text.length-1)).x+=M.width+2:M=t.getCharBoundaries(S),null!=C&&null!=M&&(Nr.context.fillStyle="#000000",Nr.context.fillRect(C.x,C.y,M.x-C.x,w.height),Nr.context.fillStyle="#FFFFFF",Nr.context.fillText(a.substring(I,S),u+C.x,w.offsetY+m+c))}}}}else if(r.__canvas.width=Math.ceil(i.width),r.__canvas.height=Math.ceil(i.height),n.border||n.background){if(n.border?Nr.context.rect(.5,.5,i.width-1,i.height-1):Nr.context.rect(0,0,i.width,i.height),n.background){var D=k.hex(n.backgroundColor,6);Nr.context.fillStyle="#"+D,Nr.context.fill()}if(n.border){Nr.context.lineWidth=1,Nr.context.lineCap="square";var P=k.hex(n.borderColor,6);Nr.context.strokeStyle="#"+P,Nr.context.stroke()}}r.__bitmap=Ia.fromCanvas(t.__graphics.__canvas),t.__dirty=!1,r.set___dirty(!1)}}};var Ur=function(t,e,n){throw er.call(this,t,e),new Ee("ConsoleRenderer not supported")};a["openfl._internal.renderer.console.ConsoleRenderer"]=Ur,Ur.__name__=["openfl","_internal","renderer","console","ConsoleRenderer"],Ur.__super__=er,Ur.prototype=n(er.prototype,{render:function(t){},__class__:Ur});var Gr=function(){};a["openfl._internal.renderer.dom.DOMBitmap"]=Gr,Gr.__name__=["openfl","_internal","renderer","dom","DOMBitmap"],Gr.render=function(t,e){null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=t.bitmapData&&t.bitmapData.__isValid?null!=t.bitmapData.image.buffer.__srcImage?Gr.renderImage(t,e):Gr.renderCanvas(t,e):(null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null,t.__style=null),null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null))},Gr.renderCanvas=function(t,e){null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null),null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),t.smoothing||(t.__context.mozImageSmoothingEnabled=!1,t.__context.msImageSmoothingEnabled=!1,t.__context.imageSmoothingEnabled=!1),Yr.initializeElement(t,t.__canvas,e)),t.bitmapData.__sync(),t.__canvas.width=t.bitmapData.width,t.__canvas.height=t.bitmapData.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(t.bitmapData.image.buffer.__srcCanvas,0,0),Yr.applyStyle(t,e,!0,!1,!0)},Gr.renderImage=function(t,e){null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null),null==t.__image&&(t.__image=window.document.createElement("img"),t.__image.src=t.bitmapData.image.buffer.__srcImage.src,Yr.initializeElement(t,t.__image,e)),Yr.applyStyle(t,e,!0,!0,!0)};var Xr=function(t){tr.call(this,t)};a["openfl._internal.renderer.dom.DOMMaskManager"]=Xr,Xr.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"],Xr.__super__=tr,Xr.prototype=n(tr.prototype,{pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},__class__:Xr});var Yr=function(t,e,n){er.call(this,t,e),this.element=n,this.renderSession=new Ar,this.renderSession.element=n,this.renderSession.roundPixels=!0;var i=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1],lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}();this.renderSession.vendorPrefix=i.lowercase,this.renderSession.transformProperty="webkit"==i.lowercase?"-webkit-transform":"transform",this.renderSession.transformOriginProperty="webkit"==i.lowercase?"-webkit-transform-origin":"transform-origin",this.renderSession.maskManager=new Xr(this.renderSession),this.renderSession.renderer=this};a["openfl._internal.renderer.dom.DOMRenderer"]=Yr,Yr.__name__=["openfl","_internal","renderer","dom","DOMRenderer"],Yr.applyStyle=function(t,e,n,i,r){var a=t.__style;if(n&&t.__worldTransformChanged){var s=t.__worldTransform;a.setProperty(e.transformProperty,e.roundPixels?"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+(0|s.tx)+", "+(0|s.ty)+", 0, 1)":"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+s.tx+", "+s.ty+", 0, 1)",null)}if(t.__worldZ!=++e.z&&(t.__worldZ=e.z,a.setProperty("z-index",null==t.__worldZ?"null":""+t.__worldZ,null)),i&&t.__worldAlphaChanged&&(t.__worldAlpha<1?a.setProperty("opacity",null==t.__worldAlpha?"null":""+t.__worldAlpha,null):a.removeProperty("opacity")),r&&t.__worldClipChanged)if(null==t.__worldClip)a.removeProperty("clip");else{var l=z.__temp,o=W.__temp;o.copyFrom(t.__worldTransform),o.invert(),t.__worldClip.__transform(l,o),a.setProperty("clip","rect("+l.y+"px, "+l.get_right()+"px, "+l.get_bottom()+"px, "+l.x+"px)",null)}},Yr.initializeElement=function(t,e,n){var i=t.__style=e.style;i.setProperty("position","absolute",null),i.setProperty("top","0",null),i.setProperty("left","0",null),i.setProperty(n.transformOriginProperty,"0 0 0",null),n.element.appendChild(e),t.__worldAlphaChanged=!0,t.__worldClipChanged=!0,t.__worldTransformChanged=!0,t.__worldVisibleChanged=!0,t.__worldZ=-1},Yr.__super__=er,Yr.prototype=n(er.prototype,{element:null,render:function(t){this.element.style.background=t.__colorString,this.renderSession.z=1,t.__renderDOM(this.renderSession)},__class__:Yr});var Hr=function(){};a["openfl._internal.renderer.dom.DOMShape"]=Hr,Hr.__name__=["openfl","_internal","renderer","dom","DOMShape"],Hr.render=function(t,e){var n=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=n){if((n.__dirty||t.__worldAlphaChanged||null==t.__canvas&&null!=n.__canvas)&&(kr.render(n,e),null!=n.__canvas?(null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),Yr.initializeElement(t,t.__canvas,e)),t.__canvas.width=n.__canvas.width,t.__canvas.height=n.__canvas.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(n.__canvas,0,0)):null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)),null!=t.__canvas){if(t.__worldTransformChanged||n.__transformDirty){n.__transformDirty=!1;var i=W.__temp;i.identity(),i.translate(n.__bounds.x,n.__bounds.y),i.concat(t.__worldTransform),t.__style.setProperty(e.transformProperty,e.roundPixels?"matrix3d("+i.a+", "+i.b+", 0, 0, "+i.c+", "+i.d+", 0, 0, 0, 0, 1, 0, "+(0|i.tx)+", "+(0|i.ty)+", 0, 1)":"matrix3d("+i.a+", "+i.b+", 0, 0, "+i.c+", "+i.d+", 0, 0, 0, 0, 1, 0, "+i.tx+", "+i.ty+", 0, 1)",null)}Yr.applyStyle(t,e,!1,!1,!0)}}else null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)};var Vr=function(){};a["openfl._internal.renderer.dom.DOMTextField"]=Vr,Vr.__name__=["openfl","_internal","renderer","dom","DOMTextField"],Vr.measureText=function(t){var e=t.__textEngine,n=t.__div;if(null==n){n=window.document.createElement("div");var i=new RegExp("\n","g".split("u").join(""));n.innerHTML=e.text.replace(i,"<br>"),n.style.setProperty("font",ba.getFont(t.__textFormat),null),n.style.setProperty("pointer-events","none",null),n.style.position="absolute",n.style.top="110%",window.document.body.appendChild(n)}e.__measuredWidth=n.clientWidth,null==t.__div&&(n.style.width=P.string(e.width-4)+"px"),e.__measuredHeight=n.clientHeight,null==t.__div&&window.document.body.removeChild(n)},Vr.render=function(t,e){var n=t.__textEngine;if(null!=t.stage&&t.__worldVisible&&t.__renderable){if(t.__dirty||null==t.__div)if(""!=n.text||n.background||n.border||1==n.type){null==t.__div&&(t.__div=window.document.createElement("div"),Yr.initializeElement(t,t.__div,e),t.__style.setProperty("outline","none",null),t.__div.addEventListener("input",function(e){e.preventDefault(),t.get_htmlText()!=t.__div.innerHTML&&(t.set_htmlText(t.__div.innerHTML),t.__dirty=!1)},!0)),n.selectable?t.__style.setProperty("cursor","text",null):t.__style.setProperty("cursor","inherit",null),t.__div.contentEditable=1==n.type;var i=t.__style;switch(t.__div.innerHTML=n.text,n.background?i.setProperty("background-color","#"+k.hex(n.backgroundColor,6),null):i.removeProperty("background-color"),n.border?i.setProperty("border","solid 1px #"+k.hex(n.borderColor,6),null):i.removeProperty("border"),i.setProperty("font",ba.getFont(t.__textFormat),null),i.setProperty("color","#"+k.hex(t.__textFormat.color,6),null),2!=n.autoSize?i.setProperty("width","auto",null):i.setProperty("width",n.width+"px",null),i.setProperty("height",n.height+"px",null),t.__textFormat.align){case 0:i.setProperty("text-align","center",null);break;case 4:i.setProperty("text-align","right",null);break;default:i.setProperty("text-align","left",null)}t.__dirty=!1}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null);null!=t.__div&&Yr.applyStyle(t,e,!0,!0,!1)}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null,t.__style=null)};var Wr=function(){};a["openfl._internal.renderer.opengl.GLBitmap"]=Wr,Wr.__name__=["openfl","_internal","renderer","opengl","GLBitmap"],Wr.render=function(t,e){!t.__renderable||t.__worldAlpha<=0||null==t.bitmapData||!t.bitmapData.__isValid||e.spriteBatch.renderBitmapData(t.bitmapData,t.smoothing,t.__renderTransform,t.__worldColorTransform,t.__worldAlpha,t.__blendMode,t.__shader,t.pixelSnapping)},Wr.pushFramebuffer=function(t,e,n,i,r,a,s){null==s&&(s=!0),null==a&&(a=!1),null==r&&(r=!0);var l=t.gl;if(null==l)return null;var o=t.renderer,h=t.spriteBatch,_=0|n.x,u=0|n.y,c=0|n.width,d=0|n.height;return h.finish(),Wr.fbData.length<=0&&Wr.fbData.push({texture:null,viewPort:null,transparent:o.transparent}),null==e&&(e=new ga(l,c,d,i,s)),e.resize(c,d),o.transparent=r,t.maskManager.saveState(),l.bindFramebuffer(l.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),o.setViewport(_,u,c,d),l.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(10),a&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null),Wr.fbData.push({texture:e,viewPort:n,transparent:r}),e},Wr.drawBitmapDrawable=function(t,e,n,i,r,a,s){var l=Wr.fbData[Wr.fbData.length-1];if(null==l)throw new Ee("No data to draw to");var o=t.gl;if(null!=o){var h=l.viewPort,_=(t.renderer,t.spriteBatch),c=null!=e,d=null==s?new z(h.x,h.y,h.width,h.height):s.clone();if(_.begin(t,c?null:d),c){e.__worldTransform.identity();var f=e.__worldTransform,g=h.height,p=f.tx,m=f.ty;f.tx=0,f.ty=0,f.scale(1,-1),f.translate(0,g),f.tx+=p,f.ty-=m,e.__renderGL(t),_.stop(),null!=e.__texture&&o.deleteTexture(e.__texture),e.__texture=null,_.start(d)}var v=n.__worldColorTransform,x=n.__blendMode,y=n.__cacheAsBitmap,w=null!=i?i.clone():new W,b=h.height,T=w.tx,E=w.ty;w.tx=0,w.ty=0,w.scale(1,-1),w.translate(0,b),w.tx+=T,w.ty-=E,n.__worldColorTransform=null!=r?r:new J,n.__blendMode=a,u.__cacheAsBitmapMode=!0,n.__updateTransforms(w),n.__updateChildren(!1),n.__cacheAsBitmap=!1,n.__renderGL(t),n.__cacheAsBitmap=y,n.__worldColorTransform=v,n.__blendMode=x,u.__cacheAsBitmapMode=!1,n.__updateTransforms(),n.__updateChildren(!1)}},Wr.popFramebuffer=function(t,e){var n=t.gl;if(null!=n){t.spriteBatch.finish(),Wr.fbData.pop();var i=Wr.fbData[Wr.fbData.length-1];if(null==i)throw new Ee("oh");var r,a,s,l;null==i.viewPort?(r=a=0,s=t.renderer.width,l=t.renderer.height):(r=Math.floor(i.viewPort.x),a=Math.floor(i.viewPort.y),s=Math.ceil(i.viewPort.width),l=Math.ceil(i.viewPort.height)),null!=e&&(e.width==s&&e.height==l||e.resize(s,l),n.readPixels(r,a,s,l,n.RGBA,n.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0));var o;if(null==i.texture)o=t.defaultFramebuffer;else{var h=i.texture;o=(h.__swapped?h.__texture1:h.__texture0).frameBuffer}n.bindFramebuffer(n.FRAMEBUFFER,o),t.renderer.setViewport(r,a,s,l),t.renderer.transparent=i.transparent,t.maskManager.restoreState()}},Wr.flipMatrix=function(t,e){var n=t.tx,i=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=n,t.ty-=i};var zr=function(t,e,n,i,r,a){null==a&&(a=!1),null==r&&(r=!1),null==i&&(i=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,er.call(this,t,e),this.transparent=i,this.preserveDrawingBuffer=a,this.width=t,this.height=e,this.viewport=new z,this.options={alpha:i,antialias:r,premultipliedAlpha:i,stencil:!0,preserveDrawingBuffer:a},this._glContextId=zr.glContextId++,this.gl=n,this.defaultFramebuffer=null,zr.glContexts[this._glContextId]=n,this.projectionMatrix=new W,this.projection=new V,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new V(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new ma(n),this.spriteBatch=new va(n),this.filterManager=new ra(n,this.transparent),this.stencilManager=new ya(n),this.blendModeManager=new $r(n),this.renderSession=new Ar,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new aa(this.renderSession),this.renderSession.maskManager=this.maskManager,this.shaderManager.setShader(this.shaderManager.defaultShader),n.disable(n.DEPTH_TEST),n.disable(n.CULL_FACE),n.enable(n.BLEND),n.colorMask(!0,!0,!0,this.transparent)};a["openfl._internal.renderer.opengl.GLRenderer"]=zr,zr.__name__=["openfl","_internal","renderer","opengl","GLRenderer"],zr.renderBitmap=function(t,e,n){if(null==n&&(n=!0),t.__renderable&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var i=z.__temp,r=W.__temp;i.setEmpty(),r.identity(),t.__getBounds(i,r);var a=t.__graphics.__bitmap;r.translate(t.__graphics.__bounds.x,t.__graphics.__bounds.y),r.concat(t.__renderTransform),e.spriteBatch.renderBitmapData(a,n,r,t.__worldColorTransform,t.__worldAlpha,t.__blendMode,null,0)}},zr.__super__=er,zr.prototype=n(er.prototype,{blendModeManager:null,contextLost:null,defaultFramebuffer:null,filterManager:null,gl:null,_glContextId:null,maskManager:null,offset:null,options:null,preserveDrawingBuffer:null,projection:null,shaderManager:null,spriteBatch:null,stencilManager:null,view:null,projectionMatrix:null,__stage:null,vpX:null,vpY:null,vpWidth:null,vpHeight:null,destroy:function(){zr.glContexts[this._glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},setViewport:function(t,e,n,i){this.vpX==t&&this.vpY==e&&this.vpWidth==n&&this.vpHeight==i||(this.vpX=t,this.vpY=e,this.vpWidth=n,this.vpHeight=i,this.gl.viewport(t,e,n,i),this.setOrtho(t,e,n,i),this.viewport.setTo(t,e,n,i))},setOrtho:function(t,e,n,i){var r=this.projectionMatrix;r.identity(),r.a=1/n*2,r.d=-1/i*2,r.tx=-1-t*r.a,r.ty=1-e*r.d},handleContextLost:function(t){t.preventDefault(),this.contextLost=!0},handleContextRestored:function(){var t=this.gl;zr.glContextId++,this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=t,this.defaultFramebuffer=null,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.colorMask(!0,!0,!0,this.transparent),this.setViewport(0,0,this.width,this.height),this.contextLost=!1},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,n){this.renderSession.blendModeManager.setBlendMode(10),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,n),t.__renderGL(this.renderSession),this.spriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,er.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},__class__:zr});var jr=function(t){this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new ge,this.attributes=new ge,this.ID=jr.UID++,this.gl=t,this.program=null};a["openfl._internal.renderer.opengl.shaders2.Shader"]=jr,jr.__name__=["openfl","_internal","renderer","opengl","shaders2","Shader"],jr.compileProgram=function(t,e,n){var i=ma.compiledShadersCache,r=ue.encode(e+n);if(null!=vo[r]?i.existsReserved(r):i.h.hasOwnProperty(r))return null!=vo[r]?i.getReserved(r):i.h[r];var a=jr.compileShader(t,e,t.VERTEX_SHADER),s=jr.compileShader(t,n,t.FRAGMENT_SHADER),l=t.createProgram();return null!=a&&null!=s&&(t.attachShader(l,a),t.attachShader(l,s),t.linkProgram(l),t.deleteShader(a),t.deleteShader(s),0==t.getProgramParameter(l,t.LINK_STATUS))?(oe.trace("Could not compile the program:\n\t"+t.getProgramInfoLog(l),{fileName:"Shader.hx",lineNumber:226,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),oe.trace("VERTEX:\n"+e+"\nFRAGMENT:\n"+n,{fileName:"Shader.hx",lineNumber:227,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),null):(null!=vo[r]?i.setReserved(r,l):i.h[r]=l,l)},jr.compileShader=function(t,e,n){var i=e,r=t.createShader(n);return t.shaderSource(r,i),t.compileShader(r),0==t.getShaderParameter(r,t.COMPILE_STATUS)?(oe.trace("Could not compile the shader:\n\t"+t.getShaderInfoLog(r),{fileName:"Shader.hx",lineNumber:244,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),oe.trace(e,{fileName:"Shader.hx",lineNumber:245,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),null):r},jr.prototype={gl:null,vertexSrc:null,fragmentSrc:null,attributes:null,uniforms:null,compiled:null,ID:null,program:null,wrapS:null,wrapT:null,smooth:null,blendMode:null,vertexString:null,fragmentString:null,init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new Ee("No vertex or fragment source provided");this.program=jr.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program),this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var n,i,r,a,s=t.keys();s.hasNext();){var l=s.next();if(i=this.getUniformLocation(l),null!=(n=null!=vo[l]?t.getReserved(l):t.h[l])&&(r=n.value,a=n.bitmap,null!=r||null!=a))switch(n.internalType){case 1:switch(n.size){case 1:this.gl.uniform1i(i,0|r[0]);break;case 2:this.gl.uniform2i(i,0|r[0],0|r[1]);break;case 3:this.gl.uniform3i(i,0|r[0],0|r[1],0|r[2]);break;case 4:this.gl.uniform4i(i,0|r[0],0|r[1],0|r[2],0|r[3])}break;case 2:switch(n.size){case 1:this.gl.uniform1f(i,r[0]);break;case 2:this.gl.uniform2f(i,r[0],r[1]);break;case 3:this.gl.uniform3f(i,r[0],r[1],r[2]);break;case 4:this.gl.uniform4f(i,r[0],r[1],r[2],r[3])}break;case 3:switch(n.size){case 2:var o,h=this.gl,_=n.transpose,u=n.value;o=null!=u?new wo(u):null,h.uniformMatrix2fv(i,_,o);break;case 3:var c,d=this.gl,f=n.transpose,g=n.value;c=null!=g?new wo(g):null,d.uniformMatrix3fv(i,f,c);break;case 4:var p,m=this.gl,v=n.transpose,x=n.value;p=null!=x?new wo(x):null,m.uniformMatrix4fv(i,v,p)}break;case 4:if(null==a||!a.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+e.activeTextures),this.gl.bindTexture(this.gl.TEXTURE_2D,a.getTexture(this.gl)),this.gl.uniform1i(i,e.activeTextures),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,n.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,n.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,n.repeatX),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,n.repeatY),e.activeTextures++}}},getAttribLocation:function(t){if(null==this.program)throw new Ee("Shader isn't initialized");var e=this.attributes;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this.attributes;return null!=vo[t]?n.getReserved(t):n.h[t]}var i=this.gl.getAttribLocation(this.program,t),r=this.attributes;return null!=vo[t]?r.setReserved(t,i):r.h[t]=i,i},getUniformLocation:function(t){if(null==this.program)throw new Ee("Shader isn't initialized");var e=this.uniforms;if(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=this.uniforms;return null!=vo[t]?n.getReserved(t):n.h[t]}var i=this.gl.getUniformLocation(this.program,t),r=this.uniforms;return null!=vo[t]?r.setReserved(t,i):r.h[t]=i,i},enableVertexAttribute:function(t,e,n){var i=this.getAttribLocation(t.name);this.gl.enableVertexAttribArray(i),this.gl.vertexAttribPointer(i,t.components,t.type,t.normalized,e,4*n)},disableVertexAttribute:function(t,e){null==e&&(e=!0);var n=this.getAttribLocation(t.name);if(this.gl.disableVertexAttribArray(n),e)switch(t.components){case 1:this.gl.vertexAttrib1fv(n,t.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(n,t.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(n,t.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(n,t.defaultValue.subarray(0,4))}},bindVertexArray:function(t){for(var e=0,n=t.get_stride(),i=0,r=t.attributes;i<r.length;){var a=r[i];if(++i,a.enabled){this.enableVertexAttribute(a,n,e);var s;switch(a.type){case 5120:case 5121:s=1;break;case 5122:case 5123:s=2;break;default:s=4}e+=Math.floor(a.components*s/4)}else this.disableVertexAttribute(a,!0)}},unbindVertexArray:function(t){for(var e=0,n=t.attributes;e<n.length;){var i=n[e];++e,this.disableVertexAttribute(i,!1)}},__class__:jr};var Kr=function(t){jr.call(this,t),this.vertexSrc=Kr.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Kr,Kr.__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultShader"],Kr.__super__=jr,Kr.prototype=n(jr.prototype,{init:function(t){null==t&&(t=!1),jr.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Kr});var qr=function(t){jr.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=qr,qr.__name__=["openfl","_internal","renderer","opengl","shaders2","DrawTrianglesShader"],qr.__super__=jr,qr.prototype=n(jr.prototype,{init:function(t){null==t&&(t=!1),jr.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:qr});var Jr=function(t){jr.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.FillShader"]=Jr,Jr.__name__=["openfl","_internal","renderer","opengl","shaders2","FillShader"],Jr.__super__=jr,Jr.prototype=n(jr.prototype,{init:function(t){null==t&&(t=!1),jr.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Jr});var Zr=function(t){jr.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Zr,Zr.__name__=["openfl","_internal","renderer","opengl","shaders2","PatternFillShader"],Zr.__super__=jr,Zr.prototype=n(jr.prototype,{init:function(t){null==t&&(t=!1),jr.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Zr});var Qr=function(t){jr.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Qr,Qr.__name__=["openfl","_internal","renderer","opengl","shaders2","PrimitiveShader"],Qr.__super__=jr,Qr.prototype=n(jr.prototype,{init:function(t){null==t&&(t=!1),jr.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Qr});var $r=function(t){this.gl=t,this.currentBlendMode=null};a["openfl._internal.renderer.opengl.utils.BlendModeManager"]=$r,$r.__name__=["openfl","_internal","renderer","opengl","utils","BlendModeManager"],$r.prototype={currentBlendMode:null,gl:null,destroy:function(){this.gl=null},setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=10,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t,t){case 0:this.gl.blendEquation(32774),this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774),this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774),this.gl.blendFunc(1,769);break;case 14:this.gl.blendEquation(32779),this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:$r};var ta=function(t){null==t&&(t=!0),this.type=fa.Polygon,this.points=null,this.winding=0,this.isRemovable=!0,this.fillIndex=0,this.line=new na,this.fill=ia.None,t&&(this.points=[])};a["openfl._internal.renderer.opengl.utils.DrawPath"]=ta,ta.__name__=["openfl","_internal","renderer","opengl","utils","DrawPath"],ta.getStack=function(t,e){return ea.build(t,e)},ta.prototype={line:null,fill:null,fillIndex:null,isRemovable:null,winding:null,points:null,type:null,update:function(t,e,n,i){this.updateLine(t),this.fill=e,this.fillIndex=n,this.winding=i},updateLine:function(t){this.line.width=t.width,this.line.color=t.color,this.line.alpha=null==t.alpha?1:t.alpha,this.line.scaleMode=null==t.scaleMode?2:t.scaleMode,this.line.caps=null==t.caps?1:t.caps,this.line.joints=null==t.joints?2:t.joints,this.line.miterLimit=t.miterLimit},__class__:ta};var ea=function(){};a["openfl._internal.renderer.opengl.utils.PathBuiler"]=ea,ea.__name__=["openfl","_internal","renderer","opengl","utils","PathBuiler"],ea.__currentPath=null,ea.__drawPaths=null,ea.__line=null,ea.__fill=null,ea.closePath=function(){var t=null==ea.__currentPath.points?0:ea.__currentPath.points.length;if(!(t<=0)&&ea.__currentPath.type==fa.Polygon&&ea.__currentPath.fill!=ia.None){var e=ea.__currentPath.points[0],n=ea.__currentPath.points[1],i=ea.__currentPath.points[t-2],r=ea.__currentPath.points[t-1];if(e!=i||n!=r){var a=ea.__currentPath.points,s=!0;if(a.length>1){var l=a[a.length-2],o=a[a.length-1];l==e&&o==n&&(s=!1)}1==s&&(ea.__currentPath.points.push(e),ea.__currentPath.points.push(n))}}},ea.endFill=function(){ea.__fill=ia.None,ea.__fillIndex++},ea.moveTo=function(t,e){!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(t),ea.__currentPath.points.push(e),ea.__drawPaths.push(ea.__currentPath)},ea.lineTo=function(t,e){var n=ea.__currentPath.points,i=!0;if(n.length>1){var r=n[n.length-2],a=n[n.length-1];r==t&&a==e&&(i=!1)}1==i&&(ea.__currentPath.points.push(t),ea.__currentPath.points.push(e))},ea.curveTo=function(t,e,n,i){null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath)),Er.curveTo(ea.__currentPath.points,t,e,n,i)},ea.cubicCurveTo=function(t,e,n,i,r,a){null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath));for(var s=ea.__currentPath.points,l=0,o=0,h=0,_=0,u=0,c=s[s.length-2],d=s[s.length-1],f=0,g=0,p=0,m=1;m<21;)f=(h=(o=(l=1-(p=m++/20))*l)*l)*c+3*o*p*t+3*l*(_=p*p)*n+(u=_*p)*r,g=h*d+3*o*p*e+3*l*_*i+u*a,s.push(f),s.push(g)},ea.graphicDataPop=function(){!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop()},ea.build=function(t,e){var n=null,i=t.__bounds;if(ea.__drawPaths=[],ea.__currentPath=new ta,ea.__line=new na,ea.__fill=ia.None,ea.__fillIndex=0,null==(n=t.__glStack[zr.glContextId])&&(n=t.__glStack[zr.glContextId]=new oa(e)),t.__visible&&0!=t.__commands.get_length()&&null!=i&&0!=i.width&&0!=i.height){for(var r=new ir(t.__commands),a=0,s=t.__commands.types;a<s.length;){var l=s[a];switch(++a,l[1]){case 0:var o=r.readBeginBitmapFill();ea.endFill(),ea.__fill=null!=rr.get_bitmap(o)?ia.Texture(rr.get_bitmap(o),rr.get_matrix(o),rr.get_repeat(o),rr.get_smooth(o)):ia.None,null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.points=[],ea.__currentPath.type=fa.Polygon,ea.__drawPaths.push(ea.__currentPath));break;case 1:var h=r.readBeginFill();ea.endFill(),ea.__fill=ar.get_alpha(h)>0?ia.Color(16777215&ar.get_color(h),ar.get_alpha(h)):ia.None,null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.points=[],ea.__currentPath.type=fa.Polygon,ea.__drawPaths.push(ea.__currentPath));break;case 3:var _=r.readCubicCurveTo(),u=lr.get_controlX1(_),c=lr.get_controlY1(_),d=lr.get_controlX2(_),f=lr.get_controlY2(_),g=lr.get_anchorX(_),p=lr.get_anchorY(_);null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath));for(var m=ea.__currentPath.points,v=0,x=0,y=0,w=0,b=0,T=m[m.length-2],E=m[m.length-1],R=0,A=0,I=0,S=1;S<21;)R=(y=(x=(v=1-(I=S++/20))*v)*v)*T+3*x*I*u+3*v*(w=I*I)*d+(b=w*I)*g,A=y*E+3*x*I*c+3*v*w*f+b*p,m.push(R),m.push(A);break;case 4:var C=r.readCurveTo(),M=or.get_controlX(C),D=or.get_controlY(C),P=or.get_anchorX(C),L=or.get_anchorY(C);null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath)),Er.curveTo(ea.__currentPath.points,M,D,P,L);break;case 5:var k=r.readDrawCircle();!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Circle;var B=hr.get_x(k),O=hr.get_y(k),F=hr.get_radius(k);ea.__currentPath.points=[B,O,F],ea.__drawPaths.push(ea.__currentPath);break;case 6:var N=r.readDrawEllipse();!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Ellipse;var U=_r.get_x(N),G=_r.get_y(N),X=_r.get_width(N),Y=_r.get_height(N);ea.__currentPath.points=[U,G,X,Y],ea.__drawPaths.push(ea.__currentPath);break;case 7:var H=r.readDrawPath();switch(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ur.get_winding(H)){case"evenOdd":ea.__currentWinding=0;break;case"nonZero":ea.__currentWinding=1;break;default:ea.__currentWinding=0}for(var V,W,z,j,K,q,J=0,Z=0,Q=ur.get_commands(H).length;Z<Q;){var $=Z++;switch(ur.get_commands(H).data[$]){case 1:K=ur.get_data(H).data[J],q=ur.get_data(H).data[J+1],J+=2,!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(K),ea.__currentPath.points.push(q),ea.__drawPaths.push(ea.__currentPath);break;case 2:K=ur.get_data(H).data[J],q=ur.get_data(H).data[J+1],J+=2;var tt=ea.__currentPath.points,et=!0;if(tt.length>1){var nt=tt[tt.length-2],it=tt[tt.length-1];nt==K&&it==q&&(et=!1)}1==et&&(ea.__currentPath.points.push(K),ea.__currentPath.points.push(q));break;case 3:V=ur.get_data(H).data[J],W=ur.get_data(H).data[J+1],K=ur.get_data(H).data[J+2],q=ur.get_data(H).data[J+3],J+=4,null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath)),Er.curveTo(ea.__currentPath.points,V,W,K,q);break;case 4:K=ur.get_data(H).data[J+2],q=ur.get_data(H).data[J+3],J+=4,!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(K),ea.__currentPath.points.push(q),ea.__drawPaths.push(ea.__currentPath);break;case 5:K=ur.get_data(H).data[J+2],q=ur.get_data(H).data[J+3],J+=4;var rt=ea.__currentPath.points,at=!0;if(rt.length>1){var st=rt[rt.length-2],lt=rt[rt.length-1];st==K&&lt==q&&(at=!1)}1==at&&(ea.__currentPath.points.push(K),ea.__currentPath.points.push(q));break;case 6:V=ur.get_data(H).data[J],W=ur.get_data(H).data[J+1],z=ur.get_data(H).data[J+2],j=ur.get_data(H).data[J+3],K=ur.get_data(H).data[J+4],q=ur.get_data(H).data[J+5],J+=6,null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length||(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(0),ea.__currentPath.points.push(0),ea.__drawPaths.push(ea.__currentPath));for(var ot=ea.__currentPath.points,ht=0,_t=0,ut=0,ct=0,dt=0,ft=ot[ot.length-2],gt=ot[ot.length-1],pt=0,mt=0,vt=0,xt=1;xt<21;)pt=(ut=(_t=(ht=1-(vt=xt++/20))*ht)*ht)*ft+3*_t*vt*V+3*ht*(ct=vt*vt)*z+(dt=ct*vt)*K,mt=ut*gt+3*_t*vt*W+3*ht*ct*j+dt*q,ot.push(pt),ot.push(mt)}}ea.__currentWinding=0;break;case 8:var yt=r.readDrawRect();!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Rectangle(!1);var wt=cr.get_x(yt),bt=cr.get_y(yt),Tt=cr.get_width(yt),Et=cr.get_height(yt);ea.__currentPath.points=[wt,bt,Tt,Et],ea.__drawPaths.push(ea.__currentPath);break;case 9:var Rt=r.readDrawRoundRect(),At=dr.get_x(Rt),It=dr.get_y(Rt),St=dr.get_width(Rt),Ct=dr.get_height(Rt),Mt=dr.get_ellipseWidth(Rt),Dt=dr.get_ellipseHeight(Rt);null==Dt&&(Dt=Mt),Dt*=.5,(Mt*=.5)>St/2&&(Mt=St/2),Dt>Ct/2&&(Dt=Ct/2),!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Rectangle(!0),ea.__currentPath.points=[At,It,St,Ct,Mt,Dt],ea.__drawPaths.push(ea.__currentPath);break;case 10:var Pt=r.readDrawTiles();!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__fillIndex++,ea.__currentPath=new ta(!1),ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding);var Lt=fr.get_sheet(Pt),kt=fr.get_tileData(Pt),Bt=fr.get_smooth(Pt),Ot=fr.get_flags(Pt),Ft=fr.get_shader(Pt),Nt=fr.get_count(Pt);ea.__currentPath.type=fa.DrawTiles(Lt,kt,Bt,Ot,Ft,Nt),ea.__currentPath.isRemovable=!1,ea.__drawPaths.push(ea.__currentPath);break;case 11:var Ut=r.readDrawTriangles(),Gt=gr.get_uvtData(Ut),Xt=gr.get_vertices(Ut),Yt=gr.get_indices(Ut),Ht=gr.get_culling(Ut);if(1==ea.__fill[1]&&null!=Gt)continue;if(!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),null==Gt){var Vt=new Qi,Wt=new Array(0);Vt.data=Wt,Vt.length=0,Vt.fixed=!1,Gt=Vt;var zt=ea.__fill;if(2==zt[1])for(var jt=zt[2],Kt=0,qt=Xt.length/2|0;Kt<qt;){var Jt=Kt++,Zt=Xt.data[2*Jt]/jt.width;if(!Gt.fixed){if(Gt.length++,Gt.data.length<Gt.length){var Qt=Gt.data.length+10,$t=new Array(Qt);pe.blit(Gt.data,0,$t,0,Gt.data.length),Gt.data=$t}Gt.data[Gt.length-1]=Zt}var te=Xt.data[2*Jt+1]/jt.height;if(!Gt.fixed){if(Gt.length++,Gt.data.length<Gt.length){var ee=Gt.data.length+10,ne=new Array(ee);pe.blit(Gt.data,0,ne,0,Gt.data.length),Gt.data=ne}Gt.data[Gt.length-1]=te}}}ea.__currentPath.type=fa.DrawTriangles(Xt,Yt,Gt,Ht,null,0),ea.__currentPath.isRemovable=!1,ea.__drawPaths.push(ea.__currentPath);break;case 12:r.readEndFill();ea.endFill();break;case 15:var ie=r.readLineStyle();ea.__line=new na,null==xr.get_thickness(ie)||isNaN(xr.get_thickness(ie))||xr.get_thickness(ie)<0?ea.__line.width=0:0==xr.get_thickness(ie)?ea.__line.width=1:ea.__line.width=xr.get_thickness(ie),!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__line.color=xr.get_color(ie),ea.__line.alpha=xr.get_alpha(ie),ea.__line.scaleMode=xr.get_scaleMode(ie),ea.__line.caps=xr.get_caps(ie),ea.__line.joints=xr.get_joints(ie),ea.__line.miterLimit=xr.get_miterLimit(ie),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.points=[],ea.__currentPath.type=fa.Polygon,ea.__drawPaths.push(ea.__currentPath);break;case 16:var re=r.readLineTo(),ae=yr.get_x(re),se=yr.get_y(re),le=ea.__currentPath.points,oe=!0;if(le.length>1){var he=le[le.length-2],_e=le[le.length-1];he==ae&&_e==se&&(oe=!1)}1==oe&&(ea.__currentPath.points.push(ae),ea.__currentPath.points.push(se));break;case 17:var ue=r.readMoveTo(),ce=wr.get_x(ue),de=wr.get_y(ue);!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding),ea.__currentPath.type=fa.Polygon,ea.__currentPath.points.push(ce),ea.__currentPath.points.push(de),ea.__drawPaths.push(ea.__currentPath);break;case 18:var fe=r.readOverrideMatrix();!ea.__currentPath.isRemovable||null!=ea.__currentPath.points&&0!=ea.__currentPath.points.length?ea.closePath():ea.__drawPaths.pop(),ea.__currentPath=new ta,ea.__currentPath.update(ea.__line,ea.__fill,ea.__fillIndex,ea.__currentWinding);var ge=br.get_matrix(fe);ea.__currentPath.type=fa.OverrideMatrix(ge),ea.__currentPath.isRemovable=!1,ea.__drawPaths.push(ea.__currentPath);break;default:r.skip(l)}}ea.closePath(),r.destroy()}return t.__drawPaths=ea.__drawPaths,n};var na=function(){this.width=0,this.color=0,this.alpha=1,this.scaleMode=2,this.caps=1,this.joints=2,this.miterLimit=3};a["openfl._internal.renderer.opengl.utils.LineStyle"]=na,na.__name__=["openfl","_internal","renderer","opengl","utils","LineStyle"],na.prototype={width:null,color:null,alpha:null,scaleMode:null,caps:null,joints:null,miterLimit:null,__class__:na};var ia=a["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:!0,__constructs__:["None","Color","Texture","Gradient"]};ia.None=["None",0],ia.None.toString=s,ia.None.__enum__=ia,ia.Color=function(t,e){var n=["Color",1,t,e];return n.__enum__=ia,n.toString=s,n},ia.Texture=function(t,e,n,i){var r=["Texture",2,t,e,n,i];return r.__enum__=ia,r.toString=s,r},ia.Gradient=["Gradient",3],ia.Gradient.toString=s,ia.Gradient.__enum__=ia;var ra=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};a["openfl._internal.renderer.opengl.utils.FilterManager"]=ra,ra.__name__=["openfl","_internal","renderer","opengl","utils","FilterManager"],ra.prototype={buffer:null,colorArray:null,colorBuffer:null,defaultShader:null,filterStack:null,gl:null,height:null,indexBuffer:null,offsetX:null,offsetY:null,renderSession:null,texturePool:null,transparent:null,uvArray:null,uvBuffer:null,vertexArray:null,vertexBuffer:null,width:null,applyFilterPass:function(t,e,n,i){},begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},destroy:function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0,n=this.texturePool;e<n.length;){var i=n[e];++e,i.destroy()}this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer();var e,n=[0,0,1,0,0,1,1,1];e=null!=n?new wo(n):null,this.vertexArray=e,t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var i,r=[0,0,1,0,0,1,1,1];i=null!=r?new wo(r):null,this.uvArray=i,t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var a,s=[1,16777215,1,16777215,1,16777215,1,16777215];a=null!=s?new wo(s):null,this.colorArray=a,t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var l,o=t.ELEMENT_ARRAY_BUFFER,h=[0,1,2,1,3,2];l=null!=h?new Uint16Array(h):null,t.bufferData(o,l,t.STATIC_DRAW)},popFilter:function(){},pushFilter:function(t){},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:ra};var aa=function(t){tr.call(this,t),this.setContext(t.gl),this.clips=[]};a["openfl._internal.renderer.opengl.utils.GLMaskManager"]=aa,aa.__name__=["openfl","_internal","renderer","opengl","utils","GLMaskManager"],aa.__super__=tr,aa.prototype=n(tr.prototype,{gl:null,clips:null,currentClip:null,savedClip:null,destroy:function(){this.gl=null},pushRect:function(t,e){if(null!=t){var n=e.clone(),i=this.renderSession.renderer.viewport.height,r=n.tx,a=n.ty;n.tx=0,n.ty=0,n.scale(1,-1),n.translate(0,i),n.tx+=r,n.ty-=a;var s=t.clone();s.__transform(s,n),null!=this.currentClip&&(s=this.currentClip.intersection(s));var l=null==this.currentClip||s.isEmpty()||this.currentClip.containsRect(s);this.clips.push(s),this.currentClip=s,l&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(t){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.pushMask(t,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.popMask(null,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop(),this.clips.pop(),this.currentClip=this.clips[this.clips.length-1],this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:aa});var sa=function(t,e,n,i,r){if(null==n&&(n=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=n,this.name=i,null==r){var a;a=null!=t?new wo(t):null,this.defaultValue=a}else this.defaultValue=r};a["openfl._internal.renderer.opengl.utils.VertexAttribute"]=sa,sa.__name__=["openfl","_internal","renderer","opengl","utils","VertexAttribute"],sa.prototype={components:null,normalized:null,type:null,name:null,enabled:null,defaultValue:null,copy:function(){return new sa(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},get_elements:function(){var t;switch(this.type){case 5120:case 5121:t=1;break;case 5122:case 5123:t=2;break;default:t=4}return Math.floor(this.components*t/4)},__class__:sa,__properties__:{get_elements:"get_elements"}};var la=function(){};a["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=la,la.__name__=["openfl","_internal","renderer","opengl","utils","GraphicsRenderer"],la.lastVertsBuffer=null,la.lastBucketMode=null,la.lastTexture=null,la.lastTextureRepeat=null,la.lastTextureSmooth=null,la.overrideMatrix=null,la.buildCircle=function(t,e,n){null==n&&(n=!1);var i=t.points,r=i[0],a=i[1],s=i[2],l=3==i.length?s:i[3];t.type==fa.Ellipse&&(r+=s/=2,a+=l/=2),n&&(r-=la.objectBounds.x,a-=la.objectBounds.y);var o=2*Math.PI/40,h=la.prepareBucket(t,e),_=h.getData(ca.Fill);if(null!=_){var u=_.verts,c=_.indices,d=u.length/2|0;c.push(d);for(var f=0;f<41;){var g=f++;u.push(r),u.push(a),u.push(r+Math.sin(o*g)*s),u.push(a+Math.cos(o*g)*l),c.push(d++),c.push(d++)}c.push(d-1)}if(t.line.width>0){var p=t.points;t.points=[];for(var m=t.points,v=2*Math.PI/40,x=0;x<41;){var y=x++;m.push(r+Math.sin(v*y)*s),m.push(a+Math.cos(v*y)*l)}la.buildLine(t,h),t.points=p}},la.buildComplexPoly=function(t,e,n){null==n&&(n=!1);var i=null;if(t.points.length>=6){var r=t.points.slice();if(n)for(var a=0,s=r.length/2|0;a<s;){var l=a++;r[2*l]-=la.objectBounds.x,r[2*l+1]-=la.objectBounds.y}var o=(i=la.prepareBucket(t,e)).getData(ca.Fill);o.drawMode=e.gl.TRIANGLE_FAN,o.verts=r;for(var h=o.indices,_=0,u=r.length/2|0;_<u;){var c=_++;h.push(c)}}t.line.width>0&&(null==i&&(i=la.prepareBucket(t,e)),la.buildLine(t,i,n))},la.buildLine=function(t,e,n){null==n&&(n=!1);var i=t.points;if(0!=i.length){var r=e.getData(ca.Line);if(n)for(var a=0,s=i.length/2|0;a<s;){var l=a++;i[2*l]-=la.objectBounds.x,i[2*l+1]-=la.objectBounds.y}var o=new V(i[0],i[1]),h=new V(i[i.length-2|0],i[i.length-1|0]);if(o.x==h.x&&o.y==h.y){(i=i.slice()).pop(),i.pop();var _=(h=new V(i[i.length-2|0],i[i.length-1|0])).x+.5*(o.x-h.x),u=h.y+.5*(o.y-h.y);i.unshift(u),i.unshift(_),i.push(_),i.push(u)}var c,d,f,g,p,m,v,x,y,w,b,T,E,R,A,I,S,C,M,D,P,L,k=r.verts,B=r.indices,O=i.length/2|0,F=i.length,N=k.length/6|0,U=t.line.width/2,G=t.line.color,X=null==G?[1,1,1]:[(G>>16&255)/255,(G>>8&255)/255,(255&G)/255],Y=t.line.alpha,H=X[0],W=X[1],z=X[2];f=i[0],g=i[1],p=i[2],y=-(g-(m=i[3])),w=f-p,y/=L=Math.sqrt(Math.abs(y*y+w*w)),w/=L,y*=U,w*=U,k.push(f-y),k.push(g-w),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(f+y),k.push(g+w),k.push(H),k.push(W),k.push(z),k.push(Y);for(var j=1,K=O-1;j<K;){var q=j++;f=i[2*(q-1)],g=i[2*(q-1)+1],p=i[2*q],m=i[2*q+1],v=i[2*(q+1)],x=i[2*(q+1)+1],y=-(g-m),w=f-p,y/=L=Math.sqrt(Math.abs(y*y+w*w)),w/=L,y*=U,w*=U,b=-(m-x),T=p-v,b/=L=Math.sqrt(Math.abs(b*b+T*T)),T/=L,S=(-y+f)*(-w+m)-(-y+p)*(-w+g),D=(-(b*=U)+v)*(-(T*=U)+m)-(-b+p)*(-T+x),P=(A=-w+g-(-w+m))*(M=-b+p-(-b+v))-(C=-T+x-(-T+m))*(I=-y+p-(-y+f)),Math.abs(P)<.1?(P+=10.1,k.push(p-y),k.push(m-w),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(p+y),k.push(m+w),k.push(H),k.push(W),k.push(z),k.push(Y)):((c=(I*D-M*S)/P)-p)*(c-p)+((d=(C*S-A*D)/P)-m)+(d-m)>19600?(E=y-b,R=w-T,E/=L=Math.sqrt(Math.abs(E*E+R*R)),R/=L,E*=U,R*=U,k.push(p-E),k.push(m-R),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(p+E),k.push(m+R),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(p-E),k.push(m-R),k.push(H),k.push(W),k.push(z),k.push(Y),++F):(k.push(c),k.push(d),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(p-(c-p)),k.push(m-(d-m)),k.push(H),k.push(W),k.push(z),k.push(Y))}f=i[2*(O-2)],g=i[2*(O-2)+1],p=i[2*(O-1)],y=-(g-(m=i[2*(O-1)+1])),w=f-p,L=Math.sqrt(Math.abs(y*y+w*w)),isFinite(L)||oe.trace(y*y+w*w,{fileName:"GraphicsRenderer.hx",lineNumber:407,className:"openfl._internal.renderer.opengl.utils.GraphicsRenderer",methodName:"buildLine"}),y/=L,w/=L,y*=U,w*=U,k.push(p-y),k.push(m-w),k.push(H),k.push(W),k.push(z),k.push(Y),k.push(p+y),k.push(m+w),k.push(H),k.push(W),k.push(z),k.push(Y),B.push(N);for(var J=0,Z=F;J<Z;){J++;B.push(N++)}B.push(N-1)}},la.buildPoly=function(t,e){if(!(t.points.length<6)){var n=t.points,i=n.length,r=n[0],a=n[1],s=n[i-2],l=n[i-1];r==s&&a==l||(n.push(r),n.push(a));var o=n.length/2|0,h=la.prepareBucket(t,e),_=h.getData(ca.Fill),u=_.verts,c=_.indices;if(null!=_){var d=[];Rr.triangulate(d,n);for(var f=u.length/2,g=0;g<d.length;)c.push(d[g]+f|0),c.push(d[g]+f|0),c.push(d[g+1]+f|0),c.push(d[g+2]+f|0),c.push(d[g+2]+f|0),g+=3;for(var p=0,m=o;p<m;){var v=p++;u.push(n[2*v]),u.push(n[2*v+1])}}t.line.width>0&&la.buildLine(t,h)}},la.buildRectangle=function(t,e,n){null==n&&(n=!1);var i=t.points,r=i[0],a=i[1],s=i[2],l=i[3];n&&(r-=la.objectBounds.x,a-=la.objectBounds.y);var o=la.prepareBucket(t,e),h=o.getData(ca.Fill);if(null!=h){var _=h.verts,u=h.indices,c=_.length/2|0;_.push(r),_.push(a),_.push(r+s),_.push(a),_.push(r),_.push(a+l),_.push(r+s),_.push(a+l),u.push(c),u.push(c),u.push(c+1),u.push(c+2),u.push(c+3),u.push(c+3)}if(t.line.width>0){var d=t.points;t.points=[r,a,r+s,a,r+s,a+l,r,a+l,r,a],la.buildLine(t,o),t.points=d}},la.buildRoundedRectangle=function(t,e,n){null==n&&(n=!1);var i=t.points.slice(),r=i[0],a=i[1],s=i[2],l=i[3],o=i[4],h=i[5];n&&(r-=la.objectBounds.x,a-=la.objectBounds.y);var _=[];Er.roundRectangle(_,r,a,s,l,o,h);var u=la.prepareBucket(t,e),c=u.getData(ca.Fill);if(null!=c){var d=c.verts,f=c.indices,g=d.length/2,p=[];Rr.triangulate(p,_);for(var m=0;m<p.length;)f.push(p[m]+g|0),f.push(p[m]+g|0),f.push(p[m+1]+g|0),f.push(p[m+2]+g|0),f.push(p[m+2]+g|0),m+=3;for(m=0;m<_.length;)d.push(_[m]),d.push(_[++m]),++m}if(t.line.width>0){var v=t.points;t.points=_,la.buildLine(t,u),t.points=v}},la.buildDrawTriangles=function(t,e,n,i){null==i&&(i=!1);var r,a,s,l,o,h,_=t.type.slice(2),u=_[0],c=_[1],d=_[2],f=_[3],g=_[4];_[5];i?(r=1,a=0,s=0,l=1,o=0,h=0):(r=e.__worldTransform.a,a=e.__worldTransform.b,s=e.__worldTransform.c,l=e.__worldTransform.d,o=e.__worldTransform.tx,h=e.__worldTransform.ty);var p=null!=g&&g.length>0,m=la.prepareBucket(t,n).getData(ca.Fill),v=m.vertexArray.attributes[2];v.enabled=p;var x,y=[1,1,1,1];x=null!=y?new wo(y):null,v.defaultValue=x,m.rawVerts=!0,m.glLength=c.length,m.stride=m.vertexArray.get_stride()/4|0;var w,b=m.glLength*m.stride;if(null==m.glVerts||m.glVerts.length<b){w=null!=b?new wo(b):null,m.glVerts=w}else w=m.glVerts;for(var T,E=w.buffer,R=T=null!=E?new Uint32Array(E,0):null,A=0,I=0,S=0,C=0,M=0,D=0,P=0,L=0,k=0,B=0,O=0,F=0,N=0,U=0,G=c.length/3|0;U<G;){var X=U++;switch(C=c.data[3*X],M=c.data[3*X+1],D=c.data[3*X+2],A=2*C,I=2*M,S=2*D,P=u.data[A],L=u.data[A+1],k=u.data[I],B=u.data[I+1],O=u.data[S],F=u.data[S+1],i&&(P-=la.objectBounds.x,L-=la.objectBounds.y,k-=la.objectBounds.x,B-=la.objectBounds.y,O-=la.objectBounds.x,F-=la.objectBounds.y),f){case 0:if((k-P)*(F-L)-(B-L)*(O-P)<0)continue;break;case 2:if(!((k-P)*(F-L)-(B-L)*(O-P)<0))continue}w[N++]=r*P+s*L+o,w[N++]=a*P+l*L+h,w[N++]=d.data[A],w[N++]=d.data[A+1],p&&(R[N++]=g.data[C]),w[N++]=r*k+s*B+o,w[N++]=a*k+l*B+h,w[N++]=d.data[I],w[N++]=d.data[I+1],p&&(R[N++]=g.data[M]),w[N++]=r*O+s*F+o,w[N++]=a*O+l*F+h,w[N++]=d.data[S],w[N++]=d.data[S+1],p&&(R[N++]=g.data[D])}},la.buildDrawTiles=function(t,e){la.prepareBucket(t,e)},la.quadraticBezierCurve=function(t,e,n,i,r,a){for(var s,l,o,h,_,u,c=[],d=function(t,e,n){return t+(e-t)*n},f=0,g=0;g<21;)s=d(t,n,f=g++/20),l=d(e,i,f),o=d(n,r,f),h=d(i,a,f),_=d(s,o,f),u=d(l,h,f),c.push(_),c.push(u);return c},la.render=function(t,e){var n=t.__graphics,i=n.__bounds,r=(e.spriteBatch,n.__dirty);n.__visible&&0!=n.__commands.get_length()&&null!=i&&0!=i.width&&0!=i.height?(r&&la.updateGraphics(t,t.__graphics,e.gl,t.get_cacheAsBitmap()),la.renderGraphics(t,e,!1)):n.__glStack.splice(0,n.__glStack.length)},la.renderGraphics=function(t,e,n){null==n&&(n=!1);var i=t.__graphics,r=e.gl,a=i.__glStack[zr.glContextId];if(null!=a){var s,l;l=n?W.__identity:t.__worldTransform;var o=e.spriteBatch.clipRect,h=e.spriteBatch.drawing;h=e.spriteBatch.drawing;for(var _=0,u=a.buckets.length;_<u;){var c=_++;switch((h=e.spriteBatch.drawing)&&!n&&e.spriteBatch.finish(),e.blendModeManager.setBlendMode(t.__blendMode),null!=o&&(r.enable(r.SCISSOR_TEST),r.scissor(Math.floor(o.x),Math.floor(o.y),Math.floor(o.width),Math.floor(o.height))),(s=a.buckets[c]).mode[1]){case 1:case 2:e.stencilManager.pushBucket(s,e,l.toArray(!0));var d=la.prepareShader(s,e,t,l.toArray(!0));la.renderFill(s,d,e),e.stencilManager.popBucket(t,s,e);break;case 5:var f=la.prepareShader(s,e,t,null);la.renderDrawTriangles(s,f,e);break;case 6:h||e.spriteBatch.begin(e,o);var g=s.graphicType.slice(2);e.spriteBatch.renderTiles(t,g[0],g[1],g[2],g[3],g[4],g[5]),e.spriteBatch.finish()}for(var p=t.__worldColorTransform,m=0,v=s.lines;m<v.length;){var x=v[m];if(++m,null!=x&&x.verts.length>0){var y=e.shaderManager.primitiveShader;e.shaderManager.setShader(y),r.uniformMatrix3fv(y.getUniformLocation("openfl_uTranslationMatrix"),!1,l.toArray(!0)),r.uniformMatrix3fv(y.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0)),r.uniform1f(y.getUniformLocation("openfl_uAlpha"),1),r.uniform4f(y.getUniformLocation("openfl_uColorMultiplier"),p.redMultiplier,p.greenMultiplier,p.blueMultiplier,p.alphaMultiplier),r.uniform4f(y.getUniformLocation("openfl_uColorOffset"),p.redOffset/255,p.greenOffset/255,p.blueOffset/255,p.alphaOffset/255);var w=x.vertexArray;w.gl.bindBuffer(w.gl.ARRAY_BUFFER,w.glBuffer),y.bindVertexArray(x.vertexArray),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,x.indexBuffer),r.drawElements(r.TRIANGLE_STRIP,x.indices.length,r.UNSIGNED_SHORT,0)}}null!=o&&r.disable(r.SCISSOR_TEST),(h=e.spriteBatch.drawing)||n||e.spriteBatch.begin(e,o)}}},la.updateGraphics=function(t,e,n,i){null==i&&(i=!1),la.objectPosition.setTo(t.get_x(),t.get_y()),null==e.__bounds?la.objectBounds=new z:la.objectBounds.copyFrom(e.__bounds);var r=null;e.__dirty&&(r=ta.getStack(e,n)),e.set___dirty(!1);for(var a=0,s=r.buckets;a<s.length;){var l=s[a];++a,l.reset(),la.bucketPool.push(l)}r.reset();for(var o=r.lastIndex,h=e.__drawPaths.length;o<h;){var _=o++,u=e.__drawPaths[_],c=u.type;switch(c[1]){case 0:la.buildComplexPoly(u,r,i);break;case 1:c[2]?la.buildRoundedRectangle(u,r,i):la.buildRectangle(u,r,i);break;case 2:case 3:la.buildCircle(u,r,i);break;case 4:la.buildDrawTriangles(u,t,r,i);break;case 5:la.prepareBucket(u,r);break;case 6:var d=c[2];la.overrideMatrix=d}r.lastIndex++}for(var f=0,g=r.buckets;f<g.length;){var p=g[f];++f,p.uploadTileBuffer&&p.uploadTile(Math.ceil(la.objectBounds.get_left()),Math.ceil(la.objectBounds.get_top()),Math.floor(la.objectBounds.get_right()),Math.floor(la.objectBounds.get_bottom())),p.optimize()}r.upload()},la.prepareBucket=function(t,e){var n=null,i=t.fill;switch(i[1]){case 1:var r=i[3],a=i[2];(n=la.switchBucket(t.fillIndex,e,ua.Fill)).color=null==a?[1,1,1]:[(a>>16&255)/255,(a>>8&255)/255,(255&a)/255],n.color[3]=r,n.uploadTileBuffer=!0;break;case 2:var s=i[5],l=i[4],o=i[3],h=i[2];(n=la.switchBucket(t.fillIndex,e,ua.PatternFill)).bitmap=h,n.textureRepeat=l,n.textureSmooth=s,n.texture=h.getTexture(e.gl),n.uploadTileBuffer=!0;var _;(_=null==o?new W:o.clone()).invert(),_.scale(1/h.width,1/h.height);var u=_.tx,c=_.ty;_.tx=0,_.ty=0,n.textureTL.x=u,n.textureTL.y=c,n.textureBR.x=u+1,n.textureBR.y=c+1,n.textureMatrix=_;break;default:(n=la.switchBucket(t.fillIndex,e,ua.Line)).uploadTileBuffer=!1}switch(t.type[1]){case 4:n.mode=ua.DrawTriangles,n.uploadTileBuffer=!1;break;case 5:n.mode=ua.DrawTiles,n.uploadTileBuffer=!1}return n.graphicType=t.type,n.overrideMatrix=la.overrideMatrix,n},la.getBucket=function(t,e){var n=la.bucketPool.pop();return null==n&&(n=new ha(t.gl)),n.mode=e,t.buckets.push(n),n},la.switchBucket=function(t,e,n){for(var i=null,r=0,a=e.buckets;r<a.length;){var s=a[r];if(++r,s.fillIndex==t){i=s;break}}return null==i&&(i=la.getBucket(e,n)),i.dirty=!0,i.fillIndex=t,i},la.prepareShader=function(t,e,n,i){var r=e.gl,a=null;switch(t.mode[1]){case 1:a=e.shaderManager.fillShader;break;case 2:a=e.shaderManager.patternFillShader;break;case 5:a=e.shaderManager.drawTrianglesShader;break;default:a=null}if(null==a)return null;e.shaderManager.setShader(a);r.uniform1f(a.getUniformLocation("openfl_uAlpha"),n.__worldAlpha),r.uniformMatrix3fv(a.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0));var s=n.__worldColorTransform;switch(r.uniform4f(a.getUniformLocation("openfl_uColorMultiplier"),s.redMultiplier,s.greenMultiplier,s.blueMultiplier,s.alphaMultiplier),r.uniform4f(a.getUniformLocation("openfl_uColorOffset"),s.redOffset/255,s.greenOffset/255,s.blueOffset/255,s.alphaOffset/255),t.mode[1]){case 1:r.uniformMatrix3fv(a.getUniformLocation("openfl_uTranslationMatrix"),!1,i);var l,o=a.getUniformLocation("openfl_uColor"),h=t.color;l=null!=h?new wo(h):null,r.uniform4fv(o,l);break;case 2:r.uniformMatrix3fv(a.getUniformLocation("openfl_uTranslationMatrix"),!1,i),r.uniform2f(a.getUniformLocation("openfl_uPatternTL"),t.textureTL.x,t.textureTL.y),r.uniform2f(a.getUniformLocation("openfl_uPatternBR"),t.textureBR.x,t.textureBR.y),r.uniformMatrix3fv(a.getUniformLocation("openfl_uPatternMatrix"),!1,t.textureMatrix.toArray(!0));break;case 5:if(null!=t.texture)r.uniform1i(a.getUniformLocation("openfl_uUseTexture"),1);else{r.uniform1i(a.getUniformLocation("openfl_uUseTexture"),0);var _,u=a.getUniformLocation("openfl_uColor"),c=t.color;_=null!=c?new wo(c):null,r.uniform4fv(u,_)}}return a},la.renderFill=function(t,e,n){var i=n.gl;t.mode==ua.PatternFill&&null!=t.texture&&la.bindTexture(i,t),i.bindBuffer(i.ARRAY_BUFFER,t.tileBuffer),i.vertexAttribPointer(e.getAttribLocation("openfl_aPosition"),4,i.SHORT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)},la.renderDrawTriangles=function(t,e,n){for(var i=n.gl,r=0,a=t.fills;r<a.length;){var s=a[r];if(++r,!s.available){la.bindTexture(i,t);var l=s.vertexArray;l.gl.bindBuffer(l.gl.ARRAY_BUFFER,l.glBuffer),e.bindVertexArray(s.vertexArray),i.drawArrays(i.TRIANGLES,s.glStart,s.glLength)}}},la.bindTexture=function(t,e){t.bindTexture(t.TEXTURE_2D,e.texture),e.textureRepeat&&e.bitmap.image.get_powerOfTwo()?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e.textureSmooth?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST))},la.isCCW=function(t,e,n,i,r,a){return(n-t)*(a-e)-(i-e)*(r-t)<0},la.hex2rgb=function(t){return null==t?[1,1,1]:[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},la.hex2rgba=function(t){return null==t?[1,1,1,1]:[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255,(t>>24&255)/255]};var oa=function(t){this.lastIndex=0,this.gl=t,this.buckets=[],this.lastIndex=0};a["openfl._internal.renderer.opengl.utils.GLStack"]=oa,oa.__name__=["openfl","_internal","renderer","opengl","utils","GLStack"],oa.prototype={lastIndex:null,buckets:null,gl:null,reset:function(){this.buckets=[],this.lastIndex=0},upload:function(){for(var t=0,e=this.buckets;t<e.length;){var n=e[t];++t,n.dirty&&n.upload()}},__class__:oa};var ha=function(t){this.uploadTileBuffer=!0,this.textureSmooth=!0,this.textureRepeat=!1,this.lines=[],this.fills=[],this.fillIndex=-1,this.gl=t,this.color=[0,0,0],this.lastIndex=0,this.alpha=1,this.dirty=!0,this.mode=ua.Fill,this.textureMatrix=new W,this.textureTL=new V,this.textureBR=new V(1,1)};a["openfl._internal.renderer.opengl.utils.GLBucket"]=ha,ha.__name__=["openfl","_internal","renderer","opengl","utils","GLBucket"],ha.prototype={gl:null,color:null,alpha:null,dirty:null,graphicType:null,lastIndex:null,fillIndex:null,mode:null,fills:null,lines:null,bitmap:null,texture:null,textureMatrix:null,textureRepeat:null,textureSmooth:null,textureTL:null,textureBR:null,overrideMatrix:null,tileBuffer:null,glTile:null,tile:null,uploadTileBuffer:null,getData:function(t){for(var e=1==t[1]?this.fills:this.lines,n=null,i=!1,r=0;r<e.length;){var a=e[r];if(++r,a.available){n=a,i=!0;break}}switch(null==n&&(n=new _a(this.gl)),n.available=!1,n.parent=this,n.type=t,i&&I.remove(e,n),e.push(n),t[1]){case 0:n.vertexArray.attributes=la.primitiveVertexAttributes;break;case 1:switch(this.mode[1]){case 1:case 2:n.vertexArray.attributes=la.fillVertexAttributes;break;case 5:var s=la.drawTrianglesVertexAttributes.slice();n.vertexArray.attributes=s,n.vertexArray.attributes[2]=n.vertexArray.attributes[2].copy()}}return n},optimize:function(){var t=this,e=this.lines;if(e.length>1){for(var n=[],i=null,r=null,a=0,s=0,l=0,o=(e.length,0);o<e.length;){var h=e[o];if(++o,h.available||h.rawVerts||h.rawIndices)null!=i&&(n.push(i),i=null),n.push(h),r=h;else if(null==r||r.drawMode==h.drawMode){if(null==i)i=h;else{s=i.verts.length,l=i.indices.length;for(var _=0,u=h.verts.length;_<u;){var c=_++;i.verts[c+s]=h.verts[c]}for(var d=0,f=h.indices.length;d<f;){var g=d++;i.indices[g+l]=h.indices[g]+a}}a=i.indices[i.indices.length-1]+1,r=h}else null!=i&&(n.push(i),i=null),n.push(h),r=h}0==n.length&&null!=i&&n.push(i),n.length>0&&(1==ca.Line[1]?t.fills=n:t.lines=n)}},reset:function(){for(var t=0,e=this.fills;t<e.length;){var n=e[t];++t,n.reset()}for(var i=0,r=this.lines;i<r.length;){var a=r[i];++i,a.reset()}this.fillIndex=-1,this.uploadTileBuffer=!0,this.graphicType=fa.Polygon},uploadTile:function(t,e,n,i){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer()),this.tile=[t,e,0,0,n,e,1,0,t,i,0,1,n,i,1,1];var r,a=this.tile;r=null!=a?new Int16Array(a):null,this.glTile=r,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=ua.Line)for(var t=0,e=this.fills;t<e.length;){var n=e[t];++t,n.available||n.upload()}for(var i=0,r=this.lines;i<r.length;){var a=r[i];++i,a.available||a.upload()}this.dirty=!1},__class__:ha};var _a=function(t){this.available=!1,this.rawIndices=!1,this.stride=0,this.rawVerts=!1,this.lastVertsSize=0,this.glStart=0,this.glLength=0,this.gl=t,this.drawMode=t.TRIANGLE_STRIP,this.verts=[],this.indices=[],this.vertexArray=new wa([])};a["openfl._internal.renderer.opengl.utils.GLBucketData"]=_a,_a.__name__=["openfl","_internal","renderer","opengl","utils","GLBucketData"],_a.prototype={type:null,gl:null,drawMode:null,glLength:null,glStart:null,vertexArray:null,glVerts:null,lastVertsSize:null,verts:null,rawVerts:null,stride:null,indexBuffer:null,glIndices:null,indices:null,rawIndices:null,available:null,parent:null,reset:function(){this.available=!0,this.verts=[],this.indices=[],this.glLength=0,this.glStart=0,this.stride=0,this.rawVerts=!1,this.rawIndices=!1,this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&null!=this.glVerts&&this.glVerts.length>0||this.verts.length>0){if(!this.rawVerts){var t,e=this.verts;t=null!=e?new wo(e):null,this.glVerts=t}if(this.vertexArray.buffer=this.glVerts.buffer,this.glVerts.length<=this.lastVertsSize){var n=this.vertexArray;n.gl.bindBuffer(n.gl.ARRAY_BUFFER,n.glBuffer);var i=this.glLength*this.stride;if(this.glLength>0&&this.lastVertsSize>i){var r=this.glVerts.subarray(0,i);this.vertexArray.upload(r)}else this.vertexArray.upload(this.glVerts)}else this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length}if(0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&this.glIndices.length>0||this.indices.length>0)){if(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),!this.rawIndices){var a,s=this.indices;a=null!=s?new Uint16Array(s):null,this.glIndices=a}this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW)}},__class__:_a};var ua=a["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:!0,__constructs__:["None","Fill","PatternFill","Line","PatternLine","DrawTriangles","DrawTiles"]};ua.None=["None",0],ua.None.toString=s,ua.None.__enum__=ua,ua.Fill=["Fill",1],ua.Fill.toString=s,ua.Fill.__enum__=ua,ua.PatternFill=["PatternFill",2],ua.PatternFill.toString=s,ua.PatternFill.__enum__=ua,ua.Line=["Line",3],ua.Line.toString=s,ua.Line.__enum__=ua,ua.PatternLine=["PatternLine",4],ua.PatternLine.toString=s,ua.PatternLine.__enum__=ua,ua.DrawTriangles=["DrawTriangles",5],ua.DrawTriangles.toString=s,ua.DrawTriangles.__enum__=ua,ua.DrawTiles=["DrawTiles",6],ua.DrawTiles.toString=s,ua.DrawTiles.__enum__=ua;var ca=a["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:!0,__constructs__:["Line","Fill"]};ca.Line=["Line",0],ca.Line.toString=s,ca.Line.__enum__=ca,ca.Fill=["Fill",1],ca.Fill.toString=s,ca.Fill.__enum__=ca;var da=function(t){this.indices=[],this.data=[],this.lastIndex=0,this.mode=0,this.dirty=!0,this.alpha=1,this.tint=[1,1,1],this.gl=t,this.dataBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer()};a["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=da,da.__name__=["openfl","_internal","renderer","opengl","utils","GLGraphicsData"],da.prototype={gl:null,tint:null,alpha:null,dirty:null,mode:null,lastIndex:null,data:null,glData:null,dataBuffer:null,indices:null,glIndices:null,indexBuffer:null,reset:function(){this.data=[],this.indices=[],this.lastIndex=0},upload:function(){var t,e=this.data;t=null!=e?new wo(e):null,this.glData=t,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.dataBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glData,this.gl.STATIC_DRAW);var n,i=this.indices;n=null!=i?new Uint16Array(i):null,this.glIndices=n,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STATIC_DRAW),this.dirty=!1},__class__:da};var fa=a["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:!0,__constructs__:["Polygon","Rectangle","Circle","Ellipse","DrawTriangles","DrawTiles","OverrideMatrix"]};fa.Polygon=["Polygon",0],fa.Polygon.toString=s,fa.Polygon.__enum__=fa,fa.Rectangle=function(t){var e=["Rectangle",1,t];return e.__enum__=fa,e.toString=s,e},fa.Circle=["Circle",2],fa.Circle.toString=s,fa.Circle.__enum__=fa,fa.Ellipse=["Ellipse",3],fa.Ellipse.toString=s,fa.Ellipse.__enum__=fa,fa.DrawTriangles=function(t,e,n,i,r,a){var l=["DrawTriangles",4,t,e,n,i,r,a];return l.__enum__=fa,l.toString=s,l},fa.DrawTiles=function(t,e,n,i,r,a){var l=["DrawTiles",5,t,e,n,i,r,a];return l.__enum__=fa,l.toString=s,l},fa.OverrideMatrix=function(t){var e=["OverrideMatrix",6,t];return e.__enum__=fa,e.toString=s,e};var ga=function(t,e,n,i,r){null==r&&(r=!0),null==i&&(i=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=n,this.smoothing=i,this.powerOfTwo=r;var a=new pa(t,e,n,i,r);this.__swapped?this.__texture1=a:this.__texture0=a};a["openfl._internal.renderer.opengl.utils.PingPongTexture"]=ga,ga.__name__=["openfl","_internal","renderer","opengl","utils","PingPongTexture"],ga.prototype={gl:null,width:null,height:null,smoothing:null,useOldTexture:null,powerOfTwo:null,__swapped:null,__texture0:null,__texture1:null,swap:function(){if(this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)){var t=new pa(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo);this.__swapped?this.__texture1=t:this.__texture0=t}},clear:function(t,e,n,i,r){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),(this.__swapped?this.__texture1:this.__texture0).clear(t,e,n,i,r)},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null),null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null),this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},get___otherTexture:function(){return this.__swapped?this.__texture0:this.__texture1},__class__:ga,__properties__:{get___otherTexture:"get___otherTexture",get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var pa=function(t,e,n,i,r){null==r&&(r=!0),null==i&&(i=!0),this.powerOfTwo=!0,this.gl=t,this.powerOfTwo=r,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,n)};a["openfl._internal.renderer.opengl.utils.RenderTexture"]=pa,pa.__name__=["openfl","_internal","renderer","opengl","utils","RenderTexture"],pa.prototype={gl:null,frameBuffer:null,renderBuffer:null,texture:null,smoothing:null,width:null,height:null,powerOfTwo:null,__width:null,__height:null,__uvData:null,clear:function(t,e,n,i,r){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.gl.clearColor(t,e,n,i),this.gl.clear(null==r?this.gl.COLOR_BUFFER_BIT:r)},destroy:function(){null!=this.frameBuffer&&this.gl.deleteFramebuffer(this.frameBuffer),null!=this.texture&&this.gl.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},resize:function(t,e){if(this.width!=t||this.height!=e){this.width=t,this.height=e;var n=t,i=e;if(this.powerOfTwo){for(var r=1;r<t;)r<<=1;n=r;for(var a=1;a<e;)a<<=1;i=a}var s=this.__width,l=this.__height;this.__width=n,this.__height=i,this.createUVs(),s==n&&l==i||(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height))}},createUVs:function(){null==this.__uvData&&(this.__uvData=new Sa);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;e<t;)e<<=1;return e},__class__:pa};var ma=function(t){this.setContext(t)};a["openfl._internal.renderer.opengl.utils.ShaderManager"]=ma,ma.__name__=["openfl","_internal","renderer","opengl","utils","ShaderManager"],ma.prototype={gl:null,currentShader:null,defaultShader:null,fillShader:null,patternFillShader:null,drawTrianglesShader:null,primitiveShader:null,setContext:function(t){this.gl=t,this.defaultShader=new Kr(t),this.fillShader=new Jr(t),this.patternFillShader=new Zr(t),this.drawTrianglesShader=new qr(t),this.primitiveShader=new Qr(t),this.setShader(this.defaultShader,!0)},destroy:function(){this.defaultShader.destroy(),this.fillShader.destroy(),this.patternFillShader.destroy(),this.drawTrianglesShader.destroy(),this.primitiveShader.destroy(),this.gl=null},setShader:function(t,e){return null==e&&(e=!1),null==t?(this.currentShader=null,this.gl.useProgram(null),!0):!(null!=this.currentShader&&!e&&this.currentShader.ID==t.ID)&&(this.currentShader=t,this.gl.useProgram(t.program),!0)},__class__:ma};var va=function(t,e){null==e&&(e=2e3),this.colorTransform=new J,this.uvs=new Sa,this.matrix=new W,this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.drawing=!1,this.dirty=!0,this.states=[],this.maxSprites=e,this.attributes.push(new sa(2,5126,!1,"openfl_aPosition")),this.attributes.push(new sa(2,5126,!1,"openfl_aTexCoord0")),this.attributes.push(new sa(4,5121,!0,"openfl_aColor"));var n,i=[1,1,1,1];n=null!=i?new wo(i):null,this.attributes[2].defaultValue=n,this.maxElementsPerVertex=0;for(var r=0,a=this.attributes;r<a.length;){var s=a[r];++r;var l,o=this,h=o.maxElementsPerVertex;switch(s.type){case 5120:case 5121:l=1;break;case 5122:case 5123:l=2;break;default:l=4}o.maxElementsPerVertex=h+Math.floor(s.components*l/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexArray=new wa(this.attributes,this.vertexArraySize,!1);var _,u=this.vertexArray.buffer;_=null!=u?new wo(u,0):null,this.positions=_;var c,d=this.vertexArray.buffer;c=null!=d?new Uint32Array(d,0):null,this.colors=c;var f,g=this.indexArraySize;f=null!=g?new Uint16Array(g):null,this.indices=f;for(var p=0,m=0;p<this.indexArraySize;)this.indices[p]=m,this.indices[p+1]=m+1,this.indices[p+2]=m+2,this.indices[p+3]=m,this.indices[p+4]=m+2,this.indices[p+5]=m+3,p+=6,m+=4;this.currentState=new xa,this.dirty=!0,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};a["openfl._internal.renderer.opengl.utils.SpriteBatch"]=va,va.__name__=["openfl","_internal","renderer","opengl","utils","SpriteBatch"],va.prototype={gl:null,renderSession:null,states:null,currentState:null,vertexArray:null,positions:null,colors:null,indexBuffer:null,indices:null,dirty:null,drawing:null,clipRect:null,maxSprites:null,batchedSprites:null,vertexArraySize:null,indexArraySize:null,maxElementsPerVertex:null,elementsPerVertex:null,writtenVertexBytes:null,shader:null,attributes:null,enableColor:null,lastEnableColor:null,matrix:null,uvs:null,colorTransform:null,destroy:function(){this.vertexArray.destroy(),this.vertexArray=null,this.indices=null,this.gl.deleteBuffer(this.indexBuffer),this.currentState.destroy();for(var t=0,e=this.states;t<e.length;){var n=e[t];++t,n.destroy()}this.colorTransform=null,this.gl=null},begin:function(t,e){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.drawing=!0,this.start(e)},finish:function(){this.stop(),this.clipRect=null,this.drawing=!1},start:function(t){this.drawing||this.stop(),this.dirty=!0,this.clipRect=t},stop:function(){this.flush()},renderBitmapData:function(t,e,n,i,r,a,s,l,o){if(null==o&&(o=!1),null==r&&(r=1),null!=t){var h=t.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var _=t.__uvData;if(null!=_){if(null!=s){s.__init(this.gl),s.__shader.wrapS=s.repeatX,s.__shader.wrapT=s.repeatY,s.__shader.smooth=s.smooth,s.__shader.blendMode=s.blendMode;var u=s.data.get(ns.uObjectSize),c=s.data.get(ns.uTextureSize);if(null!=t)if(u.value[0]=t.width,u.value[1]=t.height,null!=t.__pingPongTexture){var d=t.__pingPongTexture;c.value[0]=(d.__swapped?d.__texture1:d.__texture0).__width;var f=t.__pingPongTexture;c.value[1]=(f.__swapped?f.__texture1:f.__texture0).__height}else c.value[0]=t.width,c.value[1]=t.height;else u.value[0]=0,u.value[1]=0,c.value[0]=0,c.value[1]=0}var g=(255&(255*r|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var p=0,m=0,v=this.attributes;m<v.length;){var x=v[m];if(++m,x.enabled){var y;switch(x.type){case 5120:case 5121:y=1;break;case 5122:case 5123:y=2;break;default:y=4}p+=Math.floor(x.components*y/4)}}this.elementsPerVertex=p;var w=4*this.batchedSprites*this.elementsPerVertex,b=t.width,T=t.height,E=n.a,R=n.b,A=n.c,I=n.d,S=n.tx,C=n.ty;if(null==l||2==l?(this.positions[w]=S,this.positions[w+1]=C,this.positions[w+5]=E*b+S,this.positions[w+6]=R*b+C,this.positions[w+10]=E*b+A*T+S,this.positions[w+11]=I*T+R*b+C,this.positions[w+15]=A*T+S,this.positions[w+16]=I*T+C):(this.positions[w]=Math.round(S),this.positions[w+1]=Math.round(C),this.positions[w+5]=Math.round(E*b+S),this.positions[w+6]=Math.round(R*b+C),this.positions[w+10]=Math.round(E*b+A*T+S),this.positions[w+11]=Math.round(I*T+R*b+C),this.positions[w+15]=Math.round(A*T+S),this.positions[w+16]=Math.round(I*T+C)),this.enableColor){var M=this.colors[w+19]=g,D=this.colors[w+14]=M,P=this.colors[w+9]=D;this.colors[w+4]=P}this.positions[w+2]=_.x0,this.positions[w+3]=_.y0,this.positions[w+7]=_.x1,this.positions[w+8]=_.y1,this.positions[w+12]=_.x2,this.positions[w+13]=_.y2,this.positions[w+17]=_.x3,this.positions[w+18]=_.y3,this.writtenVertexBytes=w+20;var L=this.batchedSprites,k=this.states[L];null==k&&(k=this.states[L]=new xa),k.texture=h,k.textureSmooth=e,k.blendMode=a,k.skipColorTransform=null!=i&&i.__isDefault(),k.skipColorTransform||(k.colorTransform.redMultiplier=i.redMultiplier,k.colorTransform.greenMultiplier=i.greenMultiplier,k.colorTransform.blueMultiplier=i.blueMultiplier,k.colorTransform.alphaMultiplier=i.alphaMultiplier,k.colorTransform.redOffset=i.redOffset,k.colorTransform.greenOffset=i.greenOffset,k.colorTransform.blueOffset=i.blueOffset,k.colorTransform.alphaOffset=i.alphaOffset),k.skipColorTransformAlpha=!0,null==s?(k.shader=null,k.shaderData=null):(k.shader=s.__shader,k.shaderData=s.data),this.batchedSprites++}}},renderTiles:function(t,e,n,i,r,a,s){null==s&&(s=-1),null==r&&(r=0),null==i&&(i=!1);var l=e.__bitmap.getTexture(this.gl);if(null!=l){var o,h=(1&r)>0,_=(2&r)>0,u=(16&r)>0,c=(4&r)>0,d=(8&r)>0,f=(32&r)>0,g=(64&r)>0,p=(128&r)>0;switch(983040&r){case 65536:o=0;break;case 131072:o=9;break;case 262144:o=12;break;case 524288:o=14;break;default:switch(15728640&r){case 1048576:o=2;break;case 2097152:o=8;break;case 4194304:o=11;break;case 8388608:o=5;break;default:switch(251658240&r){case 16777216:o=3;break;case 33554432:o=6;break;default:o=10}}}u&&(h=!1,_=!1);var m=0,v=0,x=0,y=0,w=0,b=0,T=3;f&&(T=g?8:6),h&&(m=T,++T),_&&(v=T,++T),u&&(b=T,T+=4),c&&(x=T,T+=3),d&&(w=T,++T),p&&(y=T,T+=4);var E=n.length;s>=0&&E>s&&(E=s);Math.ceil(E/T);var R=0,A=-1,I=e.__rectTile,S=e.__rectUV,C=e.__point,M=0,D=0,P=1,L=16777215,k=1,B=0,O=1,F=0,N=0,U=0,G=0,X=0,Y=0,H=0,V=t.__worldTransform,W=0,z=1,j=0,K=0,q=1,J=0,Z=0,Q=V.a,$=V.b,tt=V.c,et=V.d,nt=V.tx,it=V.ty,rt=0,at=0,st=0,lt=0,ot=0,ht=0;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var _t=0,ut=0,ct=this.attributes;ut<ct.length;){var dt=ct[ut];if(++ut,dt.enabled){var ft;switch(dt.type){case 5120:case 5121:ft=1;break;case 5122:case 5123:ft=2;break;default:ft=4}_t+=Math.floor(dt.components*ft/4)}}if(this.elementsPerVertex=_t,null!=a){a.__init(this.gl),a.__shader.wrapS=a.repeatX,a.__shader.wrapT=a.repeatY,a.__shader.smooth=a.smooth,a.__shader.blendMode=a.blendMode;var gt=a.data.get(ns.uObjectSize),pt=a.data.get(ns.uTextureSize);gt.value[0]=0,gt.value[1]=0,pt.value[0]=0,pt.value[1]=0}for(;R<E;){if(this.batchedSprites>=this.maxSprites&&this.flush(),M=n[R],D=n[R+1],f?(A=-1,I.x=n[R+2],I.y=n[R+3],I.width=n[R+4],I.height=n[R+5],g?(C.x=n[R+6],C.y=n[R+7]):C.setTo(0,0),rt=I.width,at=I.height,st=I.get_left()/e.__bitmap.width,lt=I.get_top()/e.__bitmap.height,ot=I.get_right()/e.__bitmap.width,ht=I.get_bottom()/e.__bitmap.height):(A=0|(null==n[R+2]?0:n[R+2]),I=e.__tileRects[A],C=e.__centerPoints[A],S=e.__tileUVs[A],null!=I&&(rt=I.width,at=I.height,st=S.x,lt=S.y,ot=S.width,ht=S.height)),null!=I&&I.width>0&&I.height>0&&null!=C){P=1,L=16777215,k=1,B=0,O=1,F=0,P=d?n[R+w]*t.__worldAlpha:t.__worldAlpha,c&&(L=(255*n[R+x]|0)<<16|(255*n[R+x+1]|0)<<8|255*n[R+x+2]|0);var mt=t.__worldColorTransform;this.colorTransform.redMultiplier=mt.redMultiplier,this.colorTransform.greenMultiplier=mt.greenMultiplier,this.colorTransform.blueMultiplier=mt.blueMultiplier,this.colorTransform.alphaMultiplier=mt.alphaMultiplier,this.colorTransform.redOffset=mt.redOffset,this.colorTransform.greenOffset=mt.greenOffset,this.colorTransform.blueOffset=mt.blueOffset,this.colorTransform.alphaOffset=mt.alphaOffset,p&&(this.colorTransform.redOffset+=n[R+y],this.colorTransform.greenOffset+=n[R+y+1],this.colorTransform.blueOffset+=n[R+y+2],this.colorTransform.alphaOffset+=n[R+y+3]),h&&(k=n[R+m]),_&&(B=n[R+v],O=Math.cos(B),F=Math.sin(B)),u?(N=n[R+b],U=n[R+b+1],G=n[R+b+2],X=n[R+b+3]):(G=-(U=k*F),X=N=k*O),z=(N*Q+U*tt)*rt,j=(N*$+U*et)*rt,K=(G*Q+X*tt)*at,q=(G*$+X*et)*at,J=(Y=M-(C.x*N+C.y*G))*Q+(H=D-(C.x*U+C.y*X))*tt+nt,Z=Y*$+H*et+it,W=4*this.batchedSprites*this.elementsPerVertex,this.positions[W]=J,this.positions[W+1]=Z,this.positions[W+5]=z+J,this.positions[W+6]=j+Z,this.positions[W+10]=z+K+J,this.positions[W+11]=q+j+Z,this.positions[W+15]=K+J,this.positions[W+16]=q+Z;var vt=this.colors[W+19]=(255&(255*P|0))<<24|L,xt=this.colors[W+14]=vt,yt=this.colors[W+9]=xt;this.colors[W+4]=yt,this.positions[W+2]=st,this.positions[W+3]=lt,this.positions[W+7]=ot,this.positions[W+8]=lt,this.positions[W+12]=ot,this.positions[W+13]=ht,this.positions[W+17]=st,this.positions[W+18]=ht,this.writtenVertexBytes=W+20;var wt=this.batchedSprites,bt=this.colorTransform,Tt=this.states[wt];null==Tt&&(Tt=this.states[wt]=new xa),Tt.texture=l,Tt.textureSmooth=i,Tt.blendMode=o,Tt.skipColorTransform=null!=bt&&bt.__isDefault(),Tt.skipColorTransform||(Tt.colorTransform.redMultiplier=bt.redMultiplier,Tt.colorTransform.greenMultiplier=bt.greenMultiplier,Tt.colorTransform.blueMultiplier=bt.blueMultiplier,Tt.colorTransform.alphaMultiplier=bt.alphaMultiplier,Tt.colorTransform.redOffset=bt.redOffset,Tt.colorTransform.greenOffset=bt.greenOffset,Tt.colorTransform.blueOffset=bt.blueOffset,Tt.colorTransform.alphaOffset=bt.alphaOffset),Tt.skipColorTransformAlpha=!1,null==a?(Tt.shader=null,Tt.shaderData=null):(Tt.shader=a.__shader,Tt.shaderData=a.data),this.batchedSprites++}R+=T}}},fillVertices:function(t,e,n,i,r,a,s){null==a&&(a=-1);var l=i.a,o=i.b,h=i.c,_=i.d,u=i.tx,c=i.ty;if(null==s||2==s?(this.positions[t]=u,this.positions[t+1]=c,this.positions[t+5]=l*e+u,this.positions[t+6]=o*e+c,this.positions[t+10]=l*e+h*n+u,this.positions[t+11]=_*n+o*e+c,this.positions[t+15]=h*n+u,this.positions[t+16]=_*n+c):(this.positions[t]=Math.round(u),this.positions[t+1]=Math.round(c),this.positions[t+5]=Math.round(l*e+u),this.positions[t+6]=Math.round(o*e+c),this.positions[t+10]=Math.round(l*e+h*n+u),this.positions[t+11]=Math.round(_*n+o*e+c),this.positions[t+15]=Math.round(h*n+u),this.positions[t+16]=Math.round(_*n+c)),this.enableColor){var d=this.colors[t+19]=a,f=this.colors[t+14]=d,g=this.colors[t+9]=f;this.colors[t+4]=g}this.positions[t+2]=r.x0,this.positions[t+3]=r.y0,this.positions[t+7]=r.x1,this.positions[t+8]=r.y1,this.positions[t+12]=r.x2,this.positions[t+13]=r.y2,this.positions[t+17]=r.x3,this.positions[t+18]=r.y3,this.writtenVertexBytes=t+20},enableAttributes:function(t){null==t&&(t=-1),this.enableColor=-1!=t,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var e=0,n=0,i=this.attributes;n<i.length;){var r=i[n];if(++n,r.enabled){var a;switch(r.type){case 5120:case 5121:a=1;break;case 5122:case 5123:a=2;break;default:a=4}e+=Math.floor(r.components*a/4)}}this.elementsPerVertex=e},flush:function(){if(0!=this.batchedSprites){if(null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))),this.dirty){this.dirty=!1,this.renderSession.activeTextures=1;var t=this.vertexArray;t.gl.bindBuffer(t.gl.ARRAY_BUFFER,t.glBuffer),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer)}if(this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var e=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(e)}var n,i=0,r=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null,this.currentState.skipColorTransformAlpha=!1;for(var a=0,s=this.batchedSprites;a<s;){var l=a++;n=this.states[l],this.currentState.skipColorTransformAlpha=n.skipColorTransformAlpha;var o=this.currentState;(null==n.shader&&null==o.shader||null!=n.shader&&null!=o.shader&&n.shader.ID==o.shader.ID)&&n.texture==o.texture&&n.textureSmooth==o.textureSmooth&&n.blendMode==o.blendMode&&(n.skipColorTransform&&o.skipColorTransform||!n.skipColorTransform&&!o.skipColorTransform&&n.colorTransform.__equals(o.colorTransform,n.skipColorTransformAlpha))||(this.renderBatch(this.currentState,i,r),r=l,i=0,this.currentState.shader=n.shader,this.currentState.shaderData=n.shaderData,this.currentState.texture=n.texture,this.currentState.textureSmooth=n.textureSmooth,this.currentState.blendMode=n.blendMode,this.currentState.skipColorTransform=n.skipColorTransform,this.currentState.colorTransform=this.currentState.skipColorTransform?null:n.colorTransform),++i}this.renderBatch(this.currentState,i,r),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(t,e,n){if(0!=e&&null!=t.texture){var i=null==t.shader?this.renderSession.shaderManager.defaultShader:t.shader;if(this.renderSession.shaderManager.setShader(i),i.bindVertexArray(this.vertexArray),this.renderSession.blendModeManager.setBlendMode(null!=i.blendMode?i.blendMode:t.blendMode),this.gl.uniformMatrix3fv(i.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0)),null!=t.colorTransform){this.gl.uniform1i(i.getUniformLocation("openfl_uUseColorTransform"),1);var r=t.colorTransform;this.gl.uniform4f(i.getUniformLocation("openfl_uColorMultiplier"),r.redMultiplier,r.greenMultiplier,r.blueMultiplier,t.skipColorTransformAlpha?1:r.alphaMultiplier),this.gl.uniform4f(i.getUniformLocation("openfl_uColorOffset"),r.redOffset/255,r.greenOffset/255,r.blueOffset/255,r.alphaOffset/255)}else this.gl.uniform1i(i.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(i.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(i.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.texture),this.gl.uniform1i(i.getUniformLocation("openfl_uSampler0"),0),null!=i.smooth&&i.smooth||t.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,i.wrapS),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,i.wrapT),i.applyData(t.shaderData,this.renderSession),this.gl.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*n*2),this.renderSession.drawCount++}},setState:function(t,e,n,i,r,a,s){null==s&&(s=!1),null==n&&(n=!1);var l=this.states[t];null==l&&(l=this.states[t]=new xa),l.texture=e,l.textureSmooth=n,l.blendMode=i,l.skipColorTransform=null!=r&&r.__isDefault(),l.skipColorTransform||(l.colorTransform.redMultiplier=r.redMultiplier,l.colorTransform.greenMultiplier=r.greenMultiplier,l.colorTransform.blueMultiplier=r.blueMultiplier,l.colorTransform.alphaMultiplier=r.alphaMultiplier,l.colorTransform.redOffset=r.redOffset,l.colorTransform.greenOffset=r.greenOffset,l.colorTransform.blueOffset=r.blueOffset,l.colorTransform.alphaOffset=r.alphaOffset),l.skipColorTransformAlpha=s,null==a?(l.shader=null,l.shaderData=null):(l.shader=a.__shader,l.shaderData=a.data)},setContext:function(t){this.gl=t,this.vertexArray.setContext(t,this.positions),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var n=ns.uObjectSize,i=t.data,r=null!=vo[n]?i.getReserved(n):i.h[n],a=ns.uTextureSize,s=t.data,l=null!=vo[a]?s.getReserved(a):s.h[a];if(null!=e)if(r.value[0]=e.width,r.value[1]=e.height,null!=e.__pingPongTexture){var o=e.__pingPongTexture;l.value[0]=(o.__swapped?o.__texture1:o.__texture0).__width;var h=e.__pingPongTexture;l.value[1]=(h.__swapped?h.__texture1:h.__texture0).__height}else l.value[0]=e.width,l.value[1]=e.height;else r.value[0]=0,r.value[1]=0,l.value[0]=0,l.value[1]=0}},getElementsPerVertex:function(){for(var t=0,e=0,n=this.attributes;e<n.length;){var i=n[e];if(++e,i.enabled){var r;switch(i.type){case 5120:case 5121:r=1;break;case 5122:case 5123:r=2;break;default:r=4}t+=Math.floor(i.components*r/4)}}return t},__class__:va};var xa=function(){this.skipColorTransformAlpha=!1,this.skipColorTransform=!1,this.colorTransform=new J,this.textureSmooth=!0};a["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=xa,xa.__name__=["openfl","_internal","renderer","opengl","utils","_SpriteBatch","State"],xa.prototype={texture:null,textureSmooth:null,blendMode:null,colorTransform:null,skipColorTransform:null,skipColorTransformAlpha:null,shader:null,shaderData:null,equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(!(!this.skipColorTransform||!t.skipColorTransform)||!this.skipColorTransform&&!t.skipColorTransform&&this.colorTransform.__equals(t.colorTransform,this.skipColorTransformAlpha))},destroy:function(){this.texture=null,this.colorTransform=null},__class__:xa};var ya=function(t){this.stencilMask=0,this.stencilStack=[],this.setContext(t),this.reverse=!0,this.count=0};a["openfl._internal.renderer.opengl.utils.StencilManager"]=ya,ya.__name__=["openfl","_internal","renderer","opengl","utils","StencilManager"],ya.prototype={count:null,gl:null,reverse:null,stencilStack:null,stencilMask:null,prepareGraphics:function(t,e,n){var i=e.shaderManager.fillShader;e.shaderManager.setShader(i),this.gl.uniformMatrix3fv(i.getUniformLocation("openfl_uTranslationMatrix"),!1,n),this.gl.uniformMatrix3fv(i.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0));var r=t.vertexArray;r.gl.bindBuffer(r.gl.ARRAY_BUFFER,r.glBuffer),i.bindVertexArray(t.vertexArray),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.indexBuffer)},pushBucket:function(t,e,n,i){null==i&&(i=!1),i||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));for(var r=0,a=t.fills;r<a.length;){var s=a[r];if(++r,!s.available){var l=e.shaderManager.fillShader;e.shaderManager.setShader(l),this.gl.uniformMatrix3fv(l.getUniformLocation("openfl_uTranslationMatrix"),!1,n),this.gl.uniformMatrix3fv(l.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0));var o=s.vertexArray;o.gl.bindBuffer(o.gl.ARRAY_BUFFER,o.glBuffer),l.bindVertexArray(s.vertexArray),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,s.indexBuffer),this.gl.drawElements(s.drawMode,s.glIndices.length,this.gl.UNSIGNED_SHORT,0)}}i||(this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(t,e,n){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(t,e){var n=t.__maskGraphics;if(!(null==n||n.__commands.get_length()<=0)){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT)),this.stencilMask++,n.__dirty&&la.updateGraphics(t,n,e.gl);var i=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL,r=this.stencilMask,a=255-this.stencilMask;this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(i,r,a),this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);for(var s,l=n.__glStack[zr.glContextId],o=t.__worldTransform,h=0,_=l.buckets.length;h<_;){var u=h++;switch(o=null!=(s=l.buckets[u]).overrideMatrix?s.overrideMatrix:t.__worldTransform,s.mode[1]){case 1:case 2:this.pushBucket(s,e,o.toArray(!0),!0)}}this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(t,e){this.stencilMask--,this.stencilMask<=0&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},bindGraphics:function(t,e,n){},destroy:function(){this.stencilStack=null,this.gl=null},popStencil:function(t,e,n){if(this.stencilStack.pop(),this.count--,0==this.stencilStack.length)this.gl.disable(this.gl.STENCIL_TEST);else{var i=this.count;this.bindGraphics(t,e,n),this.gl.colorMask(!1,!1,!1,!1),1==e.mode?(this.reverse=!this.reverse,this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,255-(i+1),255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)):(this.gl.stencilFunc(this.gl.EQUAL,i+1,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)),this.gl.drawElements(this.gl.TRIANGLE_FAN,4,this.gl.UNSIGNED_SHORT,2*(e.indices.length-4)),this.gl.stencilFunc(this.gl.ALWAYS,0,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INVERT),this.gl.drawElements(this.gl.TRIANGLE_FAN,e.indices.length-4,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,i,255):this.gl.stencilFunc(this.gl.EQUAL,255-i,255)):(this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,i+1,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)):(this.gl.stencilFunc(this.gl.EQUAL,255-(i+1),255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),this.gl.drawElements(this.gl.TRIANGLE_STRIP,e.indices.length,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,i,255):this.gl.stencilFunc(this.gl.EQUAL,255-i,255)),this.gl.colorMask(!0,!0,!0,!0),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP)}},pushStencil:function(t,e,n){this.bindGraphics(t,e,n),0==this.stencilStack.length&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var i=this.count;this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.ALWAYS,0,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INVERT),1==e.mode?(this.gl.drawElements(this.gl.TRIANGLE_FAN,e.indices.length-4,this.gl.UNSIGNED_SHORT,0),this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,255-i,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)):(this.gl.stencilFunc(this.gl.EQUAL,i,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),this.gl.drawElements(this.gl.TRIANGLE_FAN,4,this.gl.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,255-(i+1),255):this.gl.stencilFunc(this.gl.EQUAL,i+1,255),this.reverse=!this.reverse):(this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,i,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)):(this.gl.stencilFunc(this.gl.EQUAL,255-i,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)),this.gl.drawElements(this.gl.TRIANGLE_STRIP,e.indices.length,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,i+1,255):this.gl.stencilFunc(this.gl.EQUAL,255-(i+1),255)),this.gl.colorMask(!0,!0,!0,!0),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.count++},setContext:function(t){this.gl=t},__class__:ya};var wa=function(t,e,n){null==n&&(n=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,e>0&&(this.buffer=new xo(e)),this.isStatic=n};a["openfl._internal.renderer.opengl.utils.VertexArray"]=wa,wa.__name__=["openfl","_internal","renderer","opengl","utils","VertexArray"],wa.prototype={gl:null,glBuffer:null,attributes:null,buffer:null,size:null,isStatic:null,bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},unbind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)},upload:function(t){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},destroy:function(){this.gl.deleteBuffer(this.glBuffer),this.buffer=null},setContext:function(t,e){this.gl=t,this.glBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),t.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,n=this.attributes;e<n.length;){var i=n[e];if(++e,i.enabled){var r;switch(i.type){case 5120:case 5121:r=1;break;case 5122:case 5123:r=2;break;default:r=4}t+=4*Math.floor(i.components*r/4)}}return t},__class__:wa,__properties__:{get_stride:"get_stride"}};var ba=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new z(0,0,0,0),this.type=0,this.autoSize=2,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.textFormatRanges=[],ba.__canvas=window.document.createElement("canvas"),ba.__context=ba.__canvas.getContext("2d")};a["openfl._internal.text.TextEngine"]=ba,ba.__name__=["openfl","_internal","text","TextEngine"],ba.__canvas=null,ba.__context=null,ba.findFont=function(t){return null},ba.getFont=function(t){var e=t.italic?"italic ":"normal ";e+="normal ",e+=t.bold?"bold ":"normal ",e+=t.size+"px",e+="/"+(t.size+t.leading+6)+"px ";var n;switch(t.font){case"_sans":n="sans-serif";break;case"_serif":n="serif";break;case"_typewriter":n="monospace";break;default:n="'"+t.font+"'"}return e+=""+n},ba.getFontInstance=function(t){return null},ba.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,caretIndex:null,displayAsPassword:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__cursorPosition:null,__cursorTimer:null,__hasFocus:null,__isKeyDown:null,__measuredHeight:null,__measuredWidth:null,__selectionStart:null,__showCursor:null,__textFormat:null,__textLayout:null,__texture:null,__tileData:null,__tileDataLength:null,__tilesheets:null,__cairoFont:null,__font:null,__hiddenInput:null,getBounds:function(){var t=this.border?1:0;this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLine:function(t){return t<0||t>this.lineBreaks.length+1?null:0==this.lineBreaks.length?this.text:this.text.substring(t>0?this.lineBreaks[t-1]:0,this.lineBreaks[t])},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,n=null,i=0,r=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0,this.maxScrollH=0;for(var a=0,s=this.layoutGroups;a<s.length;){var l=s[a];for(++a;l.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=n?n:0),this.lineHeights.push(i),this.lineWidths.push(r),t=0,e=0,n=null,i=0,r=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,l.ascent),e=Math.max(e,l.descent),n=null==n?l.leading:0|Math.max(n,l.leading),i=Math.max(i,l.height),(r=l.offsetX-2+l.width)>this.textWidth&&(this.textWidth=r),this.textHeight=l.offsetY-2+l.ascent+l.descent}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=n?n:0),this.lineHeights.push(i),this.lineWidths.push(r),1==this.numLines?(this.bottomScrollV=1,n>0&&(this.textHeight+=n)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length);var e,n,i,r=-1,a=null,s=Tl.__defaultTextFormat.clone(),l=0,o=0,h=0,_=0,u=0,c=0,d=this.text.indexOf(" "),f=this.text.indexOf("\n"),g=0,p=2,m=2,v=0,x=0,y=null;r<t.textFormatRanges.length-1&&(++r,a=t.textFormatRanges[r],s.__merge(a.format),ba.__context.font=ba.getFont(s),_=(o=s.size)+(h=.185*s.size)+(l=s.leading),d>-1&&(u=ba.__context.measureText(" ").width)),y=a.format;for(var w;v<this.text.length;)if(f>-1&&(-1==d||f<d)&&a.end>=f){e=new Ea(a.format,v,f);for(var b=this.text,T=[],E=v,R=f;E<R;){var A=E++;T.push(ba.__context.measureText(b.charAt(A)).width)}e.advances=T,e.offsetX=p,e.ascent=o,e.descent=h,e.leading=l,e.lineIndex=x,e.offsetY=m;for(var I=e.advances,S=0,C=0;C<I.length;){var M=I[C];++C,S+=M}e.width=S,e.height=_,this.layoutGroups.push(e),m+=_,p=2,this.wordWrap&&e.offsetX+e.width>this.width-2&&(e.offsetY=m,e.offsetX=p,m+=_,++x),v=f+1,f=this.text.indexOf("\n",v),++x,a.end==f&&(r<t.textFormatRanges.length-1&&(++r,a=t.textFormatRanges[r],s.__merge(a.format),ba.__context.font=ba.getFont(s),_=(o=s.size)+(h=.185*s.size)+(l=s.leading),d>-1&&(u=ba.__context.measureText(" ").width)),y=a.format)}else if(a.end>=d&&d>-1)for(e=null,w=!1;;){-1==d&&(d=a.end);for(var D=this.text,P=[],L=v,k=d;L<k;){var B=L++;P.push(ba.__context.measureText(D.charAt(B)).width)}n=P;for(var O=0,F=0;F<n.length;){var N=n[F];++F,O+=N}if(i=O,this.wordWrap&&p+i>this.width-2&&(w=!0),w){m+=_;for(var U=this.layoutGroups.length-1,G=0;;){if(e=this.layoutGroups[U],!(U>0&&e.startIndex>c))break;++G,--U}if(++x,p=2,G>0)for(var X=this.layoutGroups[this.layoutGroups.length-G].offsetX,Y=this.layoutGroups.length-G,H=this.layoutGroups.length;Y<H;){var V=Y++;(e=this.layoutGroups[V]).offsetX-=X,e.offsetY=m,e.lineIndex=x,p+=e.width}(e=new Ea(a.format,v,d)).advances=n,e.offsetX=p,e.ascent=o,e.descent=h,e.leading=l,e.lineIndex=x,e.offsetY=m,e.width=i,e.height=_,this.layoutGroups.push(e),p=i+u,g=u,w=!1}else null!=e&&v==d?(2!=a.format.align&&(e.endIndex=d),e.advances.push(u),g+=u):null==e||2==y.align?((e=new Ea(a.format,v,d)).advances=n,e.offsetX=p,e.ascent=o,e.descent=h,e.leading=l,e.lineIndex=x,e.offsetY=m,e.width=i,e.height=_,this.layoutGroups.push(e),e.advances.push(u),g=u):(e.endIndex=d,e.advances=e.advances.concat(n),e.width+=g+i,e.advances.push(u),g=u),p+=i+u;if(v=d+1,c=d,d=this.text.indexOf(" ",c+1),a.end<=c&&(e=null,r<t.textFormatRanges.length-1&&(++r,a=t.textFormatRanges[r],s.__merge(a.format),ba.__context.font=ba.getFont(s),_=(o=s.size)+(h=.185*s.size)+(l=s.leading),d>-1&&(u=ba.__context.measureText(" ").width))),d>f&&f>-1||v>this.text.length||d>a.end||-1==d&&f>-1)break}else{if(v>=a.end)break;e=new Ea(a.format,v,a.end);for(var W=this.text,z=[],j=v,K=a.end;j<K;){var q=j++;z.push(ba.__context.measureText(W.charAt(q)).width)}e.advances=z,e.offsetX=p,e.ascent=o,e.descent=h,e.leading=l,e.lineIndex=x,e.offsetY=m;for(var J=e.advances,Z=0,Q=0;Q<J.length;){var $=J[Q];++Q,Z+=$}e.width=Z,e.height=_,this.layoutGroups.push(e),p+=e.width,v=a.end,r<t.textFormatRanges.length-1&&(++r,a=t.textFormatRanges[r],s.__merge(a.format),ba.__context.font=ba.getFont(s),_=(o=s.size)+(h=.185*s.size)+(l=s.leading),d>-1&&(u=ba.__context.measureText(" ").width))}},setTextAlignment:function(){for(var t,e,n=-1,i=0,r=0,a=this.layoutGroups.length;r<a;){var s=r++;if((t=this.layoutGroups[s]).lineIndex!=n)switch(n=t.lineIndex,t.format.align){case 0:i=this.lineWidths[n]<this.width-4?Math.round((this.width-4-this.lineWidths[n])/2):0;break;case 2:if(this.lineWidths[n]<this.width-4){e=1;for(var l=s+1,o=this.layoutGroups.length;l<o;){var h=l++;if(this.layoutGroups[h].lineIndex!=n)break;++e}if(e>1&&(t=this.layoutGroups[s+e-1]).endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex)){i=(this.width-4-this.lineWidths[n])/(e-1);for(var _=1,u=e;_<u;){var c=_++;this.layoutGroups[s+c].offsetX+=i*c}}}i=0;break;case 4:i=this.lineWidths[n]<this.width-4?Math.round(this.width-4-this.lineWidths[n]):0;break;default:i=0}i>0&&(t.offsetX+=i)}},update:function(){null==this.text||""==k.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:ba};var Ta=function(t,e,n){this.format=t,this.start=e,this.end=n};a["openfl._internal.text.TextFormatRange"]=Ta,Ta.__name__=["openfl","_internal","text","TextFormatRange"],Ta.prototype={end:null,format:null,start:null,__class__:Ta};var Ea=function(t,e,n){this.format=t,this.startIndex=e,this.endIndex=n};a["openfl._internal.text.TextLayoutGroup"]=Ea,Ea.__name__=["openfl","_internal","text","TextLayoutGroup"],Ea.prototype={advances:null,ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,startIndex:null,width:null,__class__:Ea};var Ra=function(){Ge.call(this),null==Ji.application&&(Ji.application=this)};a["openfl.display.Application"]=Ra,Ra.__name__=["openfl","display","Application"],Ra.__super__=Ge,Ra.prototype=n(Ge.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,n=t.windows;e<n.length;){var i=n[e];++e;var r=new fs(i);this.createWindow(r);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},__class__:Ra});var Aa=function(t,e,n){null==n&&(n=!1),u.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=n,null==e&&(this.pixelSnapping=1)};a["openfl.display.Bitmap"]=Aa,Aa.__name__=["openfl","display","Bitmap"],Aa.__super__=u,Aa.prototype=n(u.prototype,{bitmapData:null,pixelSnapping:null,smoothing:null,__image:null,__getBounds:function(t,e){if(null!=this.bitmapData){var n=z.__temp;n.setTo(0,0,this.bitmapData.width,this.bitmapData.height),n.__transform(n,e),t.__expand(n.x,n.y,n.width,n.height)}},__hitTest:function(t,e,n,i,r,a){if(!a.get_visible()||this.__isMask||null==this.bitmapData)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform();var s=this.__worldTransform,l=s.a*s.d-s.b*s.c,o=0==l?-s.tx:1/l*(s.c*(s.ty-e)+s.d*(t-s.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return o>0&&u>0&&o<=this.bitmapData.width&&u<=this.bitmapData.height&&(null==i||r||i.push(a),!0)},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var n=this.__worldTransform,i=n.a*n.d-n.b*n.c,r=0==i?-n.tx:1/i*(n.c*(n.ty-e)+n.d*(t-n.tx)),a=this.__worldTransform,s=a.a*a.d-a.b*a.c,l=0==s?-a.ty:1/s*(a.a*(e-a.ty)+a.b*(a.tx-t));return r>0&&l>0&&r<=this.bitmapData.width&&l<=this.bitmapData.height},__renderCairo:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){var e=t.cairo;if(null!=this.bitmapData&&this.bitmapData.__isValid){null!=this.__mask&&t.maskManager.pushMask(this.__mask);var n=this.__renderTransform,i=this.get_scrollRect();if(t.roundPixels){var r=n.__toMatrix3();r.tx=Math.round(r.tx),r.ty=Math.round(r.ty),e.set_matrix(r)}else e.set_matrix(n.__toMatrix3());var a=this.bitmapData.getSurface();if(null!=a){var s=kn.createForSurface(a);kn.set_filter(s,this.smoothing?1:3),null!=i?(e.pushGroup(),e.set_source(s),e.newPath(),e.rectangle(i.x,i.y,i.width,i.height),e.fill(),e.popGroupToSource()):e.set_source(s),1==this.__worldAlpha?e.paint():e.paintWithAlpha(this.__worldAlpha)}null!=this.__mask&&t.maskManager.popMask()}}},__renderCairoMask:function(t){t.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){var e=t.context;if(null!=this.bitmapData&&this.bitmapData.__isValid){null!=this.__mask&&t.maskManager.pushMask(this.__mask),this.bitmapData.__sync(),e.globalAlpha=this.__worldAlpha;var n=this.__renderTransform,i=this.get_scrollRect();t.roundPixels?e.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),this.smoothing||(e.mozImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1),null==i?e.drawImage(this.bitmapData.image.get_src(),0,0):e.drawImage(this.bitmapData.image.get_src(),i.x,i.y,i.width,i.height,i.x,i.y,i.width,i.height),this.smoothing||(e.mozImageSmoothingEnabled=!0,e.msImageSmoothingEnabled=!0,e.imageSmoothingEnabled=!0),null!=this.__mask&&t.maskManager.popMask()}}},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(t){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?Gr.renderImage(this,t):Gr.renderCanvas(this,t):(null!=this.__image&&(t.element.removeChild(this.__image),this.__image=null,this.__style=null),null!=this.__canvas&&(t.element.removeChild(this.__canvas),this.__canvas=null,this.__style=null))},__renderGL:function(t){if(this.__cacheAsBitmap){var e=null!=this.__cacheAsBitmapMatrix,n=this.__cachedBitmapBounds.x,i=this.__cachedBitmapBounds.y,r=this.__cachedBitmapBounds.width,a=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new W),e){var s=z.__temp;this.__cachedBitmapBounds.__transform(s,this.__cacheAsBitmapMatrix),n=s.x,i=s.y,r=s.width,a=s.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(r<=0&&a<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(r+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),a+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Ia.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(r),Math.ceil(a));var l=this.__cacheGLMatrix.clone();l.translate(-n,-i);var o=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,l,null,null,null,!0,!1,!0),this.__shader=o,this.__updateCachedBitmap=!1}this.__updateFilters&&(tl.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert();var h=this.__cacheGLMatrix;h.tx=n*h.a+i*h.c+h.tx,h.ty=n*h.b+i*h.d+h.ty,this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}}else null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),!this.__renderable||this.__worldAlpha<=0||null==this.bitmapData||!this.bitmapData.__isValid||t.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__updateMask:function(t){null!=this.bitmapData&&(t.__commands.overrideMatrix(this.__worldTransform),t.beginFill(0),t.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==t.__bounds&&(t.__bounds=new z),this.__getBounds(t.__bounds,W.__identity),u.prototype.__updateMask.call(this,t))},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(t){return null!=this.bitmapData?(t!=this.bitmapData.width&&this.set_scaleX(t/this.bitmapData.width),t):0},__class__:Aa});var Ia=function(t,e,n,i){null==i&&(i=-1),null==n&&(n=!0),this.__usingPingPongTexture=!1,this.transparent=n,t=null==t?0:t,e=null==e?0:e,t=t<0?0:t,e=e<0?0:e,this.width=t,this.height=e,this.rect=new z(0,0,t,e),t>0&&e>0&&(n?0==(-16777216&i)&&(i=0):i=-16777216|16777215&i,i=i<<8|i>>>24&255,this.image=new bn(null,0,0,t,e,i),this.image.set_transparent(n),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new W,this.__worldColorTransform=new J};a["openfl.display.BitmapData"]=Ia,Ia.__name__=["openfl","display","BitmapData"],Ia.__interfaces__=[_],Ia.fromBase64=function(t,e,n){var i=new Ia(0,0,!0),r=n,a=i;return bn.fromBase64(t,e,function(t){a.__fromImage(t),null!=r&&r(a)}),i},Ia.fromBytes=function(t,e,n){var i=new Ia(0,0,!0),r=e,a=n,s=i;return bn.fromBytes(Bl.toBytes(t),function(t){if(s.__fromImage(t),null!=r){zn.convertToCanvas(t),zn.createImageData(t);for(var e=t.buffer.data,n=0,i=Bl.get_length(r);n<i;)e[4*n+++3]=r.readUnsignedByte();t.dirty=!0}null!=a&&a(s)}),i},Ia.fromCanvas=function(t,e){if(null==e&&(e=!0),null==t)return null;var n=new Ia(0,0,e);return n.__fromImage(bn.fromCanvas(t)),n.image.set_transparent(e),n},Ia.fromFile=function(t,e,n){var i=new Ia(0,0,!0);return i.__fromFile(t,e,n),i},Ia.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var n=new Ia(0,0,e);return n.__fromImage(t),n.image.set_transparent(e),n},Ia.__asRenderTexture=function(t,e){null==e&&(e=0),null==t&&(t=0);var n=new Ia(0,0);return n.__resize(t,e),n},Ia.prototype={height:null,image:null,rect:null,transparent:null,width:null,__worldTransform:null,__worldColorTransform:null,__cacheAsBitmap:null,__blendMode:null,__shader:null,__buffer:null,__isValid:null,__surface:null,__texture:null,__textureImage:null,__pingPongTexture:null,__usingPingPongTexture:null,__uvData:null,applyFilter:function(t,e,n,i){this.__isValid&&null!=t&&t.__isValid&&(zn.convertToCanvas(this.image),zn.createImageData(this.image),zn.convertToCanvas(t.image),zn.createImageData(t.image),i.__applyFilter(this.image.buffer.__srcImageData,t.image.buffer.__srcImageData,e,n),this.image.dirty=!0)},clone:function(){return this.__isValid?Ia.fromImage(this.image.clone(),this.transparent):new Ia(this.width,this.height,this.transparent)},colorTransform:function(t,e){this.__isValid&&(this.image.colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.__isValid||0==t.__isValid)return-2;if(this.width!=t.width)return-3;if(this.height!=t.height)return-4;if(null!=this.image&&null!=t.image&&this.image.get_format()==t.image.get_format()){for(var e=this.image.get_data(),n=t.image.get_data(),i=!0,r=0,a=e.length;r<a;){var s=r++;if(e[s]!=n[s]){i=!1;break}}if(i)return 0}for(var l,o,h,_,u,c,d,f,g=null,p=0,m=this.height;p<m;)for(var v=p++,x=0,y=this.width;x<y;){var w=x++;l=!1,_=0,(o=this.getPixel32(w,v))!=(h=t.getPixel32(w,v))&&(c=(o>>8&255)-(h>>8&255),d=(255&o)-(255&h),(u=(o>>16&255)-(h>>16&255))<0&&(u*=-1),c<0&&(c*=-1),d<0&&(d*=-1),0==u&&0==c&&0==d?0!=(f=(o>>24&255)-(h>>24&255))&&(_=(255&f)<<24|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|16711680|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|65280|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255)>>16)<<16|(255&_>>8)<<8|255&_,l=!0):(_=-16777216|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|(255&u)<<16|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&c)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255&d)>>16)<<16|(255&_>>8)<<8|255&_,l=!0)),l&&(null==g&&(g=new Ia(this.width,this.height,this.transparent||t.transparent,0)),g.setPixel32(w,v,_))}return null==g?0:g},copyChannel:function(t,e,n,i,r){if(this.__isValid){var a;switch(i){case 1:a=En.RED;break;case 2:a=En.GREEN;break;case 4:a=En.BLUE;break;case 8:a=En.ALPHA;break;default:return}var s;switch(r){case 1:s=En.RED;break;case 2:s=En.GREEN;break;case 4:s=En.BLUE;break;case 8:s=En.ALPHA;break;default:return}this.image.copyChannel(t.image,e.__toLimeRectangle(),n.__toLimeVector2(),a,s),this.__usingPingPongTexture=!1}},copyPixels:function(t,e,n,i,r,a){null==a&&(a=!1),this.__isValid&&null!=t&&(this.image.copyPixels(t.image,e.__toLimeRectangle(),n.__toLimeVector2(),null!=i?i.image:null,null!=r?r.__toLimeVector2():null,a),this.__usingPingPongTexture=!1)},dispose:function(){if(this.image=null,this.width=0,this.height=0,this.rect=null,this.__isValid=!1,null!=this.__texture){var t=Ji.current.stage.__renderer;if(null!=t){var e=t.renderSession.gl;null!=e&&(e.deleteTexture(this.__texture),this.__texture=null)}}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null)},draw:function(t,e,n,i,r,a){if(null==a&&(a=!1),this.__isValid){if(null!=n){var s=new Ia(D.getProperty(t,"width"),D.getProperty(t,"height"),!0,0);s.draw(t),s.colorTransform(s.rect,n),t=s}zn.convertToCanvas(this.image),zn.sync(this.image,!0);var l=this.image.buffer,o=new Ar;o.context=l.__srcContext,o.roundPixels=!0,o.maskManager=new Br(o),a||(l.__srcContext.mozImageSmoothingEnabled=!1,l.__srcContext.msImageSmoothingEnabled=!1,l.__srcContext.imageSmoothingEnabled=!1),null!=r&&o.maskManager.pushRect(r,new W);var h=t.__worldTransform;t.__updateTransforms(null!=e?e:new W),t.__updateChildren(!1),t.__renderCanvas(o),t.__updateTransforms(h),t.__updateChildren(!0),a||(l.__srcContext.mozImageSmoothingEnabled=!0,l.__srcContext.msImageSmoothingEnabled=!0,l.__srcContext.imageSmoothingEnabled=!0),null!=r&&o.maskManager.popMask(),l.__srcContext.setTransform(1,0,0,1,0,0),l.__srcImageData=null,l.data=null}},encode:function(t,e,n){return this.__isValid&&null!=t?X.__instanceof(e,$a)?Bl.fromBytes(this.image.encode("png")):X.__instanceof(e,Ka)?Bl.fromBytes(this.image.encode("jpg",X.__cast(e,Ka).quality)):null:null},fillRect:function(t,e){this.__isValid&&null!=t&&(this.transparent&&0==(-16777216&e)&&(e=0),this.image.fillRect(t.__toLimeRectangle(),e,1),this.__usingPingPongTexture=!1)},floodFill:function(t,e,n){this.__isValid&&(this.image.floodFill(t,e,n,1),this.__usingPingPongTexture=!1)},generateFilterRect:function(t,e){return t.clone()},getBuffer:function(t){if(null==this.__buffer){var e=[this.width,this.height,0,1,1,0,this.height,0,0,1,this.width,0,0,1,0,0,0,0,0,0];this.__buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.__buffer);var n,i=t.ARRAY_BUFFER;n=null!=e?new wo(e):null,t.bufferData(i,n,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}return this.__buffer},getColorBoundsRect:function(t,e,n){if(null==n&&(n=!0),!this.__isValid)return new z(0,0,this.width,this.height);if(!this.transparent||(t>>24&255)>0){var i=e;0==(i>>24&255)&&(i=0)}var r=this.image.getColorBoundsRect(t,e,n,1);return new z(r.x,r.y,r.width,r.height)},getPixel:function(t,e){return this.__isValid?this.image.getPixel(t,e,1):0},getPixel32:function(t,e){return this.__isValid?this.image.getPixel32(t,e,1):0},getPixels:function(t){return this.__isValid?(null==t&&(t=this.rect),Bl.fromBytes(this.image.getPixels(t.__toLimeRectangle(),1))):null},getSurface:function(){return this.__isValid?(null==this.__surface&&(this.__surface=Ln.fromImage(this.image)),this.__surface):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture){var e=this.__pingPongTexture;return e.useOldTexture?(e.__swapped?e.__texture0:e.__texture1).texture:(e.__swapped?e.__texture1:e.__texture0).texture}if(null==this.__texture&&(this.__texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.__texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.image.dirty=!0),null!=this.image&&this.image.dirty){var n,i;null!=this.__surface&&Bn.flush(this.__surface),1==this.image.buffer.bitsPerPixel?(n=t.ALPHA,i=t.ALPHA):(n=t.RGBA,i=t.RGBA),t.bindTexture(t.TEXTURE_2D,this.__texture);var r=this.image;(!r.get_premultiplied()&&r.get_transparent()||0!=r.get_format())&&((r=r.clone()).set_format(0),r.set_premultiplied(!0)),t.texImage2D(t.TEXTURE_2D,0,n,this.width,this.height,0,i,t.UNSIGNED_BYTE,r.get_data()),t.bindTexture(t.TEXTURE_2D,null),this.image.dirty=!1}return this.__texture},getVector:function(t){var e=this.getPixels(t),n=Bl.get_length(e)/4|0,i=new Qi,r=new Array(n);i.data=r,i.length=n,i.fixed=!0;for(var a=i,s=0,l=n;s<l;){var o=s++,h=e.readUnsignedInt();if(!a.fixed&&(o>=a.length&&(a.length=o+1),a.data.length<a.length)){var _=a.data.length+10,u=new Array(_);pe.blit(a.data,0,u,0,a.data.length),a.data=u}a.data[o]=h}return a},histogram:function(t){for(var e=null!=t?t:new z(0,0,this.width,this.height),n=this.getPixels(e),i=[],r=0;r<4;){r++;for(var a=[],s=0;s<256;){s++;a.push(0)}i.push(a)}for(var l=i,o=0,h=Bl.get_length(n);o<h;)++l[o++%4][n.readUnsignedByte()];return l},hitTest:function(t,e,n,i,r){if(null==r&&(r=1),!this.__isValid)return!1;if(X.__instanceof(n,Aa)&&(n=X.__cast(n,Aa).bitmapData),X.__instanceof(n,V)){var a=n,s=a.x-t.x|0,l=a.y-t.y|0;if(this.rect.contains(s,l)&&(this.getPixel32(s,l)>>24&255)>=e)return!0}else if(X.__instanceof(n,Ia)){var o,h,_=n;if(null==i?(o=0,h=0):(o=i.x-t.x|0,h=i.y-t.y|0),this.rect.contains(o,h)){var u=z.__temp;u.setTo(o,h,Math.min(_.width,this.width-o),Math.min(_.height,this.height-h));var c=this.getPixels(u);u.offset(-o,-h);for(var d,f,g=_.getPixels(u),p=0,m=u.width*u.height|0;p<m;){p++;if(d=c.readUnsignedInt(),f=g.readUnsignedInt(),(d>>24&255)>=e&&(f>>24&255)>=r)return!0}return!1}}else if(X.__instanceof(n,z)){var v=z.__temp;if(v.copyFrom(n),v.offset(-t.x,-t.y),v.__contract(0,0,this.width,this.height),v.width>0&&v.height>0)for(var x=this.getPixels(v),y=0,w=Bl.get_length(x)/4|0;y<w;){y++;if((x.readUnsignedInt()>>24&255)>=e)return!0}}return!1},lock:function(){},merge:function(t,e,n,i,r,a,s){this.__isValid&&null!=t&&t.__isValid&&null!=e&&null!=n&&(this.image.merge(t.image,e.__toLimeRectangle(),n.__toLimeVector2(),i,r,a,s),this.__usingPingPongTexture=!1)},noise:function(t,e,n,i,r){if(null==r&&(r=!1),null==i&&(i=7),null==n&&(n=255),null==e&&(e=0),this.__isValid){var a=function(){return t=1103515245*t+12345,(0|Math.abs(t/65536))%32768};a();for(var s=n-e,l=(new Nl(0),1==(1&i)),o=(2&i)>>1==1,h=(4&i)>>2==1,_=(8&i)>>3==1,u=0,c=this.height;u<c;)for(var d=u++,f=0,g=this.width;f<g;){var p=f++,m=0,v=0,x=0,y=255;r?(m=x=v=e+a()%s,y=255):(l&&(m=e+a()%s),o&&(x=e+a()%s),h&&(v=e+a()%s),_&&(y=e+a()%s));var w=y;w=((w=((w=(w<<8)+m)<<8)+x)<<8)+v,this.setPixel32(p,d,w)}}},paletteMap:function(t,e,n,i,r,a,s){var l=0|e.width,o=0|e.height,h=this.getPixels(e);h.position=0;for(var _,u,c,d,f,g,p,m,v,x,y=0,w=o*l;y<w;){var b=y++;_=h.readUnsignedInt();f=((p=null==s?-16777216&_:s[_>>24&255])>>24&255)+((m=null==i?16711680&_:i[_>>16&255])>>24&255)+((v=null==r?65280&_:r[_>>8&255])>>24&255)+((x=null==a?255&_:a[255&_])>>24&255),u=(p>>16&255)+(m>>16&255)+(v>>16&255)+(x>>16&255),c=(p>>8&255)+(m>>8&255)+(v>>8&255)+(x>>8&255),d=(255&p)+(255&m)+(255&v)+(255&x);g=f<<24|u<<16|c<<8|d,h.position=4*b,h.writeUnsignedInt(g)}h.position=0;var T=new z(n.x,n.y,l,o);this.setPixels(T,h)},perlinNoise:function(t,e,n,i,r,a,s,l,o){null==l&&(l=!1),null==s&&(s=7),Ji.notImplemented("BitmapData.perlinNoise")},scroll:function(t,e){this.__isValid&&(this.image.scroll(t,e),this.__usingPingPongTexture=!1)},setPixel:function(t,e,n){this.__isValid&&(this.image.setPixel(t,e,n,1),this.__usingPingPongTexture=!1)},setPixel32:function(t,e,n){this.__isValid&&(this.image.setPixel32(t,e,n,1),this.__usingPingPongTexture=!1)},setPixels:function(t,e){this.__isValid&&null!=t&&(this.image.setPixels(t.__toLimeRectangle(),Bl.toBytes(e),1),this.__usingPingPongTexture=!1)},setVector:function(t,e){var n=new Nl(0);Bl.set_length(n,4*e.length);for(var i=0;i<e.length;){var r=e.data[i];++i,n.writeUnsignedInt(r)}n.position=0,this.setPixels(t,n)},threshold:function(t,e,n,i,r,a,s,l){return null==l&&(l=!1),null==s&&(s=-1),null==a&&(a=0),null==t||null==e||null==n||e.x>t.width||e.y>t.height||n.x>this.width||n.y>this.height?0:this.image.threshold(t.image,e.__toLimeRectangle(),n.__toLimeVector2(),i,r,a,s,l,1)},unlock:function(t){},__createUVs:function(t,e,n,i,r,a,s,l){null==l&&(l=1),null==s&&(s=0),null==a&&(a=1),null==r&&(r=1),null==i&&(i=0),null==n&&(n=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=new Sa),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=n,this.__uvData.y1=i,this.__uvData.x2=r,this.__uvData.y2=a,this.__uvData.x3=s,this.__uvData.y3=l},__drawGL:function(t,e,n,i,r,a,s,l,o,h,_){null==_&&(_=!0),null==h&&(h=!1),null==o&&(o=!1),null==l&&(l=!1),null==s&&(s=!1),this.__pingPongTexture=Wr.pushFramebuffer(t,this.__pingPongTexture,this.rect,s,this.transparent,o,_),Wr.drawBitmapDrawable(t,l?this:null,e,n,i,r,a),Wr.popFramebuffer(t,h?this.image:null);var u=this.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBase64:function(t,e,n){var i=this;bn.fromBase64(t,e,function(t){i.__fromImage(t),null!=n&&n(i)})},__fromBytes:function(t,e,n){var i=this;bn.fromBytes(Bl.toBytes(t),function(t){if(i.__fromImage(t),null!=e){zn.convertToCanvas(t),zn.createImageData(t);for(var r=t.buffer.data,a=0,s=Bl.get_length(e);a<s;)r[4*a+++3]=e.readUnsignedByte();t.dirty=!0}null!=n&&n(i)})},__fromFile:function(t,e,n){var i=this;bn.fromFile(t,function(t){i.__fromImage(t),null!=e&&e(i)},n)},__fromImage:function(t){null!=t&&null!=t.buffer&&(this.image=t,this.width=t.width,this.height=t.height,this.rect=new z(0,0,t.width,t.height),this.__isValid=!0)},__renderCairo:function(t){if(this.__isValid){var e=t.cairo;null==this.__worldTransform&&(this.__worldTransform=new W);var n=this.__worldTransform;if(t.roundPixels){var i=n.__toMatrix3();i.tx=Math.round(i.tx),i.ty=Math.round(i.ty),e.set_matrix(i)}else e.set_matrix(n.__toMatrix3());var r=this.getSurface();if(null!=r){var a=kn.createForSurface(r);1==e.get_antialias()?kn.set_filter(a,3):kn.set_filter(a,1),e.set_source(a),e.paint()}}},__renderCairoMask:function(t){},__renderCanvas:function(t){if(this.__isValid){zn.sync(this.image,!1);var e=t.context;null==this.__worldTransform&&(this.__worldTransform=new W),e.globalAlpha=1;var n=this.__worldTransform;t.roundPixels?e.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.drawImage(this.image.get_src(),0,0)}},__renderCanvasMask:function(t){},__renderGL:function(t){t.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__resize:function(t,e){this.width=t,this.height=e,this.rect.width=t,this.rect.height=e},__sync:function(){zn.sync(this.image,!1)},__updateChildren:function(t){},__updateMask:function(t){},__updateTransforms:function(t){null==t?this.__worldTransform.identity():this.__worldTransform=t},__class__:Ia};var Sa=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};a["openfl.display.TextureUvs"]=Sa,Sa.__name__=["openfl","display","TextureUvs"],Sa.prototype={x0:null,x1:null,x2:null,x3:null,y0:null,y1:null,y2:null,y3:null,reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:Sa};var Ca={};a["openfl.display._BlendMode.BlendMode_Impl_"]=Ca,Ca.__name__=["openfl","display","_BlendMode","BlendMode_Impl_"],Ca.fromString=function(t){switch(t){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},Ca.toString=function(t){switch(t){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var Ma={};a["openfl.display._CapsStyle.CapsStyle_Impl_"]=Ma,Ma.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"],Ma.fromString=function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},Ma.toString=function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Da=function(t){null==t&&(t="DirectRenderer"),u.call(this)};a["openfl.display.DirectRenderer"]=Da,Da.__name__=["openfl","display","DirectRenderer"],Da.__super__=u,Da.prototype=n(u.prototype,{__render:null,get_render:function(){return this.__render},set_render:function(t){return this.__render=t},__class__:Da,__properties__:n(u.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var Pa=function(t,e){h.call(this),this.__name=t,this.__frame=e};a["openfl.display.FrameLabel"]=Pa,Pa.__name__=["openfl","display","FrameLabel"],Pa.__super__=h,Pa.prototype=n(h.prototype,{frame:null,name:null,__frame:null,__name:null,get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:Pa,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var La={};a["openfl.display._GradientType.GradientType_Impl_"]=La,La.__name__=["openfl","display","_GradientType","GradientType_Impl_"],La.fromString=function(t){switch(t){case"linear":return 0;case"radial":return 1;default:return null}},La.toString=function(t){switch(t){case 0:return"linear";case 1:return"radial";default:return null}};var ka=function(){this.__glStack=[],this.__dirty=!0,this.__commands=new nr,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,this.__hardware=!0,this.moveTo(0,0)};a["openfl.display.Graphics"]=ka,ka.__name__=["openfl","display","Graphics"],ka.prototype={__hardware:null,__bounds:null,__commands:null,__dirty:null,__glStack:null,__drawPaths:null,__image:null,__positionX:null,__positionY:null,__strokePadding:null,__transformDirty:null,__visible:null,__cachedTexture:null,__owner:null,__canvas:null,__context:null,__bitmap:null,beginBitmapFill:function(t,e,n,i){null==i&&(i=!1),null==n&&(n=!0),this.__commands.beginBitmapFill(t,null!=e?e.clone():null,n,i),this.__visible=!0},beginFill:function(t,e){null==e&&(e=1),null==t&&(t=0),this.__commands.beginFill(16777215&t,e),e>0&&(this.__visible=!0)},beginGradientFill:function(t,e,n,i,r,a,s,l){null==l&&(l=0),null==s&&(s=1),null==a&&(a=0),this.__commands.beginGradientFill(t,e,n,i,r,a,s,l),this.__hardware=!1;for(var o=0;o<n.length;){var h=n[o];if(++o,h>0){this.__visible=!0;break}}},clear:function(){this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__hardware=!0,this.moveTo(0,0)},copyFrom:function(t){this.__bounds=null!=t.__bounds?t.__bounds.clone():null,this.__commands=t.__commands.copy(),this.set___dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__transformDirty=!0,this.__visible=t.__visible},cubicCurveTo:function(t,e,n,i,r,a){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var s,l,o,h;if(s=r,o=r,!(t<r&&t>this.__positionX||t>r&&t<this.__positionX)||!(n<r&&n>this.__positionX||n>r&&n<this.__positionX)){var _=2*this.__positionX-4*t+2*n,u=t-this.__positionX,c=-this.__positionX+3*t+r-3*n,d=(-_+Math.sqrt(_*_-4*u*c))/(2*c),f=(-_-Math.sqrt(_*_-4*u*c))/(2*c);d>0&&d<1&&(s=this.__calculateBezierCubicPoint(d,this.__positionX,t,n,r)),f>0&&f<1&&(o=this.__calculateBezierCubicPoint(f,this.__positionX,t,n,r))}if(l=a,h=a,!(e<a&&e>this.__positionX||e>a&&e<this.__positionX)||!(i<a&&i>this.__positionX||i>a&&i<this.__positionX)){var g=2*this.__positionX-4*e+2*i,p=e-this.__positionX,m=-this.__positionX+3*e+a-3*i,v=(-g+Math.sqrt(g*g-4*p*m))/(2*m),x=(-g-Math.sqrt(g*g-4*p*m))/(2*m);v>0&&v<1&&(l=this.__calculateBezierCubicPoint(v,this.__positionX,e,i,a)),x>0&&x<1&&(h=this.__calculateBezierCubicPoint(x,this.__positionX,e,i,a))}this.__inflateBounds(s-this.__strokePadding,l-this.__strokePadding),this.__inflateBounds(s+this.__strokePadding,l+this.__strokePadding),this.__inflateBounds(o-this.__strokePadding,h-this.__strokePadding),this.__inflateBounds(o+this.__strokePadding,h+this.__strokePadding),this.__positionX=r,this.__positionY=a,this.__commands.cubicCurveTo(t,e,n,i,r,a),this.__hardware=!1,this.set___dirty(!0)},curveTo:function(t,e,n,i){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var r,a;if(t<n&&t>this.__positionX||t>n&&t<this.__positionX)r=n;else{var s=(this.__positionX-t)/(this.__positionX-2*t+n);r=this.__calculateBezierQuadPoint(s,this.__positionX,t,n)}if(e<i&&e>this.__positionY||e>i&&e<this.__positionY)a=i;else{var l=(this.__positionY-e)/(this.__positionY-2*e+i);a=this.__calculateBezierQuadPoint(l,this.__positionY,e,i)}this.__inflateBounds(r-this.__strokePadding,a-this.__strokePadding),this.__inflateBounds(r+this.__strokePadding,a+this.__strokePadding),this.__positionX=n,this.__positionY=i,this.__commands.curveTo(t,e,n,i),this.__hardware=!1,this.set___dirty(!0)},drawCircle:function(t,e,n){n<=0||(this.__inflateBounds(t-n-this.__strokePadding,e-n-this.__strokePadding),this.__inflateBounds(t+n+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawCircle(t,e,n),this.__hardware=!1,this.set___dirty(!0))},drawEllipse:function(t,e,n,i){n<=0||i<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+n+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawEllipse(t,e,n,i),this.__hardware=!1,this.set___dirty(!0))},drawGraphicsData:function(t){for(var e,n,i,r,a,s=0;s<t.length;){var l=t.data[s];++s,X.__instanceof(l,Ya)?(e=l,this.beginFill(e.color,e.alpha)):X.__instanceof(l,Fa)?(n=l,this.beginBitmapFill(n.bitmapData,n.matrix,n.repeat,n.smooth)):X.__instanceof(l,Ua)?(i=l,this.beginGradientFill(i.type,i.colors,i.alphas,i.ratios,i.matrix,i.spreadMethod,i.interpolationMethod,i.focalPointRatio)):X.__instanceof(l,Va)?(r=l,X.__instanceof(r.fill,Ya)?(e=r.fill,this.lineStyle(r.thickness,e.color,e.alpha,r.pixelHinting,r.scaleMode,r.caps,r.joints,r.miterLimit)):(this.lineStyle(r.thickness,0,1,r.pixelHinting,r.scaleMode,r.caps,r.joints,r.miterLimit),X.__instanceof(r.fill,Fa)?(n=r.fill,this.lineBitmapStyle(n.bitmapData,n.matrix,n.repeat,n.smooth)):X.__instanceof(r.fill,Ua)&&(i=r.fill,this.lineGradientStyle(i.type,i.colors,i.alphas,i.ratios,i.matrix,i.spreadMethod,i.interpolationMethod,i.focalPointRatio)))):X.__instanceof(l,Xa)?(a=l,this.drawPath(a.commands,a.data,a.winding)):X.__instanceof(l,Na)&&this.endFill()}},drawPath:function(t,e,n){null==n&&(n="evenOdd");var i=0,r=0;try{for(;r<t.length;){var a=t.data[r];if(++r,null!=a)switch(a){case 1:this.moveTo(e.data[i],e.data[i+1]),i+=2;break;case 2:this.lineTo(e.data[i],e.data[i+1]),i+=2;break;case 3:this.curveTo(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),i+=4;break;case 4:throw this.moveTo(e.data[i+2],e.data[i+3]),"__break__";case 5:throw this.lineTo(e.data[i+2],e.data[i+3]),"__break__";case 6:this.cubicCurveTo(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3],e.data[i+4],e.data[i+5]),i+=6}}}catch(t){if("__break__"!=t)throw t}},drawRect:function(t,e,n,i){n<=0||i<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+n+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawRect(t,e,n,i),this.set___dirty(!0))},drawRoundRect:function(t,e,n,i,r,a){n<=0||i<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+n+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawRoundRect(t,e,n,i,r,a),this.__hardware=!1,this.set___dirty(!0))},drawRoundRectComplex:function(t,e,n,i,r,a,s,l){Ji.notImplemented("Graphics.drawRoundRectComplex")},drawTiles:function(t,e,n,i,r,a){null==a&&(a=-1),null==i&&(i=0),null==n&&(n=!1);var s=(1&i)>0,l=(2&i)>0,o=(4&i)>0,h=(8&i)>0,_=(16&i)>0,u=(128&i)>0,c=(32&i)>0,d=(64&i)>0,f=z.__temp,g=W.__temp,p=3,m=a;if(a<0&&(m=e.length),_||s||l||o||h||u){var v=0,x=0,y=0;c&&(p=d?8:6),s&&(v=p,++p),l&&(x=p,++p),_&&(y=p,p+=4),o&&(p+=3),h&&++p,u&&(p+=4);for(var w,b,T,E,R,A,I,S,C,M=0,D=-1,P=null,L=null;M<m;)w=e[M],b=e[M+1],T=c?-1:0|e[M+2],E=1,R=0,s&&(E=e[M+v]),l&&(R=e[M+x]),T<0?P=null:c||D==T?c&&((P=t.__rectTile).setTo(e[M+2],e[M+3],e[M+4],e[M+5]),L=t.__point,d?L.setTo(e[M+6]/P.width,e[M+7]/P.height):L.setTo(0,0)):(D=T,P=t.__tileRects[T],L=t.__centerPoints[T]),null!=P&&(_?(f.setTo(0,0,P.width,P.height),g.setTo(e[M+y],e[M+y+1],e[M+y+2],e[M+y+3],0,0),S=L.x*E,C=L.y*E,g.translate(w-(S*g.a+C*g.c+g.tx),b-(S*g.b+C*g.d+g.ty)),f.__transform(f,g),this.__inflateBounds(f.x,f.y),this.__inflateBounds(f.get_right(),f.get_bottom())):(A=P.width*E,I=P.height*E,w-=L.x*A,b-=L.y*I,0!=R?(f.setTo(0,0,A,I),g.identity(),g.rotate(R),g.translate(w,b),f.__transform(f,g),this.__inflateBounds(f.x,f.y),this.__inflateBounds(f.get_right(),f.get_bottom())):(this.__inflateBounds(w,b),this.__inflateBounds(w+A,b+I)))),M+=p}else for(var k,B,O,F,N,U,G,X=z.__temp,Y=0;Y<m;)k=e[Y++],B=e[Y++],O=c?-1:0|e[Y++],U=0,G=0,c?(X.setTo(e[Y++],e[Y++],e[Y++],e[Y++]),d&&(U=e[Y++],G=e[Y++]),this.__inflateBounds(k-U,B-G),this.__inflateBounds(k-U+X.width,B-G+X.height)):null!=(F=t.__tileRects[O])&&(U=(N=t.__centerPoints[O]).x*F.width,G=N.y*F.height,this.__inflateBounds(k-U,B-G),this.__inflateBounds(k-U+F.width,B-G+F.height));this.__commands.drawTiles(t,e,n,i,r,a),this.set___dirty(!0),this.__visible=!0},drawTriangles:function(t,e,n,i){null==i&&(i=1);var r=t.length/2|0;if(null==i&&(i=1),null==e){if(r%3!=0)throw new Ee(new Bs("Not enough vertices to close a triangle."));var a=new Qi,s=new Array(0);a.data=s,a.length=0,a.fixed=!1,e=a;for(var l=0,o=r;l<o;){var h=l++;if(!e.fixed){if(e.length++,e.data.length<e.length){var _=e.data.length+10,u=new Array(_);pe.blit(e.data,0,u,0,e.data.length),e.data=u}e.data[e.length-1]=h}}}this.__inflateBounds(0,0);for(var c=-1/0,d=-1/0,f=-1/0,g=-1/0,p=0,m=r;p<m;){var v=p++;c=t.data[2*v],d=t.data[2*v+1],f<c&&(f=c),g<d&&(g=d)}this.__inflateBounds(f,g),this.__commands.drawTriangles(t,e,n,i),this.set___dirty(!0),this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,n,i){null==i&&(i=!1),null==n&&(n=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,n,i)},lineGradientStyle:function(t,e,n,i,r,a,s,l){null==l&&(l=0),null==s&&(s=1),null==a&&(a=0),this.__commands.lineGradientStyle(t,e,n,i,r,a,s,l)},lineStyle:function(t,e,n,i,r,a,s,l){null==l&&(l=3),null==r&&(r=2),null==i&&(i=!1),null==n&&(n=1),null==e&&(e=0),null!=t&&(1==s?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,n,i,r,a,s,l),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.__hardware=!1,this.set___dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},__calculateBezierCubicPoint:function(t,e,n,i,r){var a=1-t;return e*(a*a*a)+3*n*t*(a*a)+3*i*a*(t*t)+r*(t*t*t)},__calculateBezierQuadPoint:function(t,e,n,i){var r=1-t;return r*r*e+2*r*t*n+t*t*i},__getBounds:function(t,e){if(null!=this.__bounds){var n=z.__temp;this.__bounds.__transform(n,e),t.__expand(n.x,n.y,n.width,n.height)}},__hitTest:function(t,e,n,i){if(null==this.__bounds)return!1;var r=i.a*i.d-i.b*i.c,a=0==r?-i.tx:1/r*(i.c*(i.ty-e)+i.d*(t-i.tx)),s=i.a*i.d-i.b*i.c,l=0==s?-i.ty:1/s*(i.a*(e-i.ty)+i.b*(i.tx-t));return!!(a>this.__bounds.x&&l>this.__bounds.y&&this.__bounds.contains(a,l))&&(!n||kr.hitTest(this,a,l))},__inflateBounds:function(t,e){if(null==this.__bounds)return this.__bounds=new z(t,e,0,0),void(this.__transformDirty=!0);t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t,this.__transformDirty=!0),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e,this.__transformDirty=!0),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)},set___dirty:function(t){if(t&&null!=this.__owner){var e=this.__owner;e.__renderDirty||(e.__updateCachedBitmap=!0,e.__updateFilters=null!=e.get_filters()&&e.get_filters().length>0,e.__renderDirty=!0,u.__worldRenderDirty++)}return this.__dirty=t},__class__:ka,__properties__:{set___dirty:"set___dirty"}};var Ba=function(){};a["openfl.display.IGraphicsFill"]=Ba,Ba.__name__=["openfl","display","IGraphicsFill"],Ba.prototype={__graphicsFillType:null,__class__:Ba};var Oa=function(){};a["openfl.display.IGraphicsData"]=Oa,Oa.__name__=["openfl","display","IGraphicsData"],Oa.prototype={__graphicsDataType:null,__class__:Oa};var Fa=function(t,e,n,i){null==i&&(i=!1),null==n&&(n=!0),this.bitmapData=t,this.matrix=e,this.repeat=n,this.smooth=i,this.__graphicsDataType=Wa.BITMAP,this.__graphicsFillType=za.BITMAP_FILL};a["openfl.display.GraphicsBitmapFill"]=Fa,Fa.__name__=["openfl","display","GraphicsBitmapFill"],Fa.__interfaces__=[Ba,Oa],Fa.prototype={bitmapData:null,matrix:null,repeat:null,smooth:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Fa};var Na=function(){this.__graphicsDataType=Wa.END,this.__graphicsFillType=za.END_FILL};a["openfl.display.GraphicsEndFill"]=Na,Na.__name__=["openfl","display","GraphicsEndFill"],Na.__interfaces__=[Ba,Oa],Na.prototype={__graphicsDataType:null,__graphicsFillType:null,__class__:Na};var Ua=function(t,e,n,i,r,a,s,l){null==l&&(l=0),null==t&&(t=0),null==a&&(a=0),null==s&&(s=1),this.type=t,this.colors=e,this.alphas=n,this.ratios=i,this.matrix=r,this.spreadMethod=a,this.interpolationMethod=s,this.focalPointRatio=l,this.__graphicsDataType=Wa.GRADIENT,this.__graphicsFillType=za.GRADIENT_FILL};a["openfl.display.GraphicsGradientFill"]=Ua,Ua.__name__=["openfl","display","GraphicsGradientFill"],Ua.__interfaces__=[Ba,Oa],Ua.prototype={alphas:null,colors:null,focalPointRatio:null,interpolationMethod:null,matrix:null,ratios:null,spreadMethod:null,type:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Ua};var Ga=function(){};a["openfl.display.IGraphicsPath"]=Ga,Ga.__name__=["openfl","display","IGraphicsPath"];var Xa=function(t,e,n){null==n&&(n="evenOdd"),this.commands=t,this.data=e,this.winding=n,this.__graphicsDataType=Wa.PATH};a["openfl.display.GraphicsPath"]=Xa,Xa.__name__=["openfl","display","GraphicsPath"],Xa.__interfaces__=[Ga,Oa],Xa.prototype={commands:null,data:null,winding:null,__graphicsDataType:null,curveTo:function(t,e,n,i){if(null!=this.commands&&null!=this.data){var r=this.commands;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,s=new Array(a);pe.blit(r.data,0,s,0,r.data.length),r.data=s}r.data[r.length-1]=3}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var o=l.data.length+10,h=new Array(o);pe.blit(l.data,0,h,0,l.data.length),l.data=h}l.data[l.length-1]=n}var _=this.data;if(!_.fixed){if(_.length++,_.data.length<_.length){var u=_.data.length+10,c=new Array(u);pe.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[_.length-1]=i}var d=this.data;if(!d.fixed){if(d.length++,d.data.length<d.length){var f=d.data.length+10,g=new Array(f);pe.blit(d.data,0,g,0,d.data.length),d.data=g}d.data[d.length-1]=t}var p=this.data;if(!p.fixed){if(p.length++,p.data.length<p.length){var m=p.data.length+10,v=new Array(m);pe.blit(p.data,0,v,0,p.data.length),p.data=v}p.data[p.length-1]=e}}},lineTo:function(t,e){if(null!=this.commands&&null!=this.data){var n=this.commands;if(!n.fixed){if(n.length++,n.data.length<n.length){var i=n.data.length+10,r=new Array(i);pe.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=2}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var s=a.data.length+10,l=new Array(s);pe.blit(a.data,0,l,0,a.data.length),a.data=l}a.data[a.length-1]=t}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var h=o.data.length+10,_=new Array(h);pe.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[o.length-1]=e}}},moveTo:function(t,e){if(null!=this.commands&&null!=this.data){var n=this.commands;if(!n.fixed){if(n.length++,n.data.length<n.length){var i=n.data.length+10,r=new Array(i);pe.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=1}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var s=a.data.length+10,l=new Array(s);pe.blit(a.data,0,l,0,a.data.length),a.data=l}a.data[a.length-1]=t}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var h=o.data.length+10,_=new Array(h);pe.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[o.length-1]=e}}},wideLineTo:function(t,e){if(null!=this.commands&&null!=this.data){var n=this.commands;if(!n.fixed){if(n.length++,n.data.length<n.length){var i=n.data.length+10,r=new Array(i);pe.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=2}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var s=a.data.length+10,l=new Array(s);pe.blit(a.data,0,l,0,a.data.length),a.data=l}a.data[a.length-1]=t}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var h=o.data.length+10,_=new Array(h);pe.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[o.length-1]=e}}},wideMoveTo:function(t,e){if(null!=this.commands&&null!=this.data){var n=this.commands;if(!n.fixed){if(n.length++,n.data.length<n.length){var i=n.data.length+10,r=new Array(i);pe.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=1}var a=this.data;if(!a.fixed){if(a.length++,a.data.length<a.length){var s=a.data.length+10,l=new Array(s);pe.blit(a.data,0,l,0,a.data.length),a.data=l}a.data[a.length-1]=t}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var h=o.data.length+10,_=new Array(h);pe.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[o.length-1]=e}}},__class__:Xa};var Ya=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=Wa.SOLID,this.__graphicsFillType=za.SOLID_FILL};a["openfl.display.GraphicsSolidFill"]=Ya,Ya.__name__=["openfl","display","GraphicsSolidFill"],Ya.__interfaces__=[Ba,Oa],Ya.prototype={alpha:null,color:null,__graphicsDataType:null,__graphicsFillType:null,__class__:Ya};var Ha=function(){};a["openfl.display.IGraphicsStroke"]=Ha,Ha.__name__=["openfl","display","IGraphicsStroke"];var Va=function(t,e,n,i,r,a,s){null==a&&(a=3),null==e&&(e=!1),null==t&&(t=0),this.caps=null!=i?i:0,this.fill=s,this.joints=null!=r?r:2,this.miterLimit=a,this.pixelHinting=e,this.scaleMode=null!=n?n:2,this.thickness=t,this.__graphicsDataType=Wa.STROKE};a["openfl.display.GraphicsStroke"]=Va,Va.__name__=["openfl","display","GraphicsStroke"],Va.__interfaces__=[Ha,Oa],Va.prototype={caps:null,fill:null,joints:null,miterLimit:null,pixelHinting:null,scaleMode:null,thickness:null,__graphicsDataType:null,__class__:Va};var Wa=a["openfl.display.GraphicsDataType"]={__ename__:!0,__constructs__:["STROKE","SOLID","GRADIENT","PATH","BITMAP","END"]};Wa.STROKE=["STROKE",0],Wa.STROKE.toString=s,Wa.STROKE.__enum__=Wa,Wa.SOLID=["SOLID",1],Wa.SOLID.toString=s,Wa.SOLID.__enum__=Wa,Wa.GRADIENT=["GRADIENT",2],Wa.GRADIENT.toString=s,Wa.GRADIENT.__enum__=Wa,Wa.PATH=["PATH",3],Wa.PATH.toString=s,Wa.PATH.__enum__=Wa,Wa.BITMAP=["BITMAP",4],Wa.BITMAP.toString=s,Wa.BITMAP.__enum__=Wa,Wa.END=["END",5],Wa.END.toString=s,Wa.END.__enum__=Wa;var za=a["openfl.display.GraphicsFillType"]={__ename__:!0,__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};za.SOLID_FILL=["SOLID_FILL",0],za.SOLID_FILL.toString=s,za.SOLID_FILL.__enum__=za,za.GRADIENT_FILL=["GRADIENT_FILL",1],za.GRADIENT_FILL.toString=s,za.GRADIENT_FILL.__enum__=za,za.BITMAP_FILL=["BITMAP_FILL",2],za.BITMAP_FILL.toString=s,za.BITMAP_FILL.__enum__=za,za.END_FILL=["END_FILL",3],za.END_FILL.toString=s,za.END_FILL.__enum__=za;var ja={};a["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=ja,ja.__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"],ja.fromString=function(t){switch(t){case"linearRGB":return 0;case"rgb":return 1;default:return null}},ja.toString=function(t){switch(t){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var Ka=function(t){null==t&&(t=80),this.quality=t};a["openfl.display.JPEGEncoderOptions"]=Ka,Ka.__name__=["openfl","display","JPEGEncoderOptions"],Ka.prototype={quality:null,__class__:Ka};var qa={};a["openfl.display._JointStyle.JointStyle_Impl_"]=qa,qa.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"],qa.fromString=function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},qa.toString=function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Ja={};a["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=Ja,Ja.__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"],Ja.fromString=function(t){switch(t){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},Ja.toString=function(t){switch(t){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var Za=function(){d.call(this),this.contentLoaderInfo=j.create(this)};a["openfl.display.Loader"]=Za,Za.__name__=["openfl","display","Loader"],Za.__super__=d,Za.prototype=n(d.prototype,{content:null,contentLoaderInfo:null,mImage:null,mShape:null,close:function(){Ji.notImplemented("Loader.close")},load:function(t,e){var n="",i=t.url.split(".");i.length>0&&(n=i[i.length-1].toLowerCase()),-1!=n.indexOf("?")&&(n=n.split("?")[0]);if(this.contentLoaderInfo.url=t.url,null==t.contentType||""==t.contentType){var a;switch(n){case"gif":a="image/gif";break;case"jpeg":case"jpg":!1,a="image/jpeg";break;case"png":a="image/png";break;case"swf":a="application/x-shockwave-flash";break;default:a="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=a}else this.contentLoaderInfo.contentType=t.contentType;var s=new li;s.doWork.add(function(e){var n=t.url;Ia.fromFile(n,function(t){s.sendComplete(t)},function(){s.sendError("ioError")})}),s.onError.add(r(this,this.BitmapData_onError)),s.onComplete.add(r(this,this.BitmapData_onLoad)),s.run()},loadBytes:function(t,e){var n=new li;n.doWork.add(function(e){Ia.fromBytes(t,null,function(t){n.sendComplete(t)})}),n.onComplete.add(r(this,this.BitmapData_onLoad)),n.run()},unload:function(){if(this.get_numChildren()>0){for(;this.get_numChildren()>0;)this.removeChildAt(0);this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0;var t=new Nt("unload");t.currentTarget=this,this.__dispatchEvent(t)}},unloadAndStop:function(t){null==t&&(t=!0),Ji.notImplemented("Loader.unloadAndStop")},BitmapData_onLoad:function(t){this.contentLoaderInfo.content=new Aa(t),this.content=this.contentLoaderInfo.content,this.addChild(this.contentLoaderInfo.content);var e=new Nt("complete");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},BitmapData_onError:function(t){var e=new Ks("ioError");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:Za});var Qa=function(){Da.call(this,"OpenGLView"),this.__added||(this.__added=!0,oe.trace("Warning: OpenGLView is not available in HTML5 canvas rendering mode",{fileName:"OpenGLView.hx",lineNumber:76,className:"openfl.display.OpenGLView",methodName:"new"}),oe.trace("Please compile your project using -Ddom or -Dwebgl (beta) to enable",{fileName:"OpenGLView.hx",lineNumber:77,className:"openfl.display.OpenGLView",methodName:"new"}))};a["openfl.display.OpenGLView"]=Qa,Qa.__name__=["openfl","display","OpenGLView"],Qa.__properties__={get_isSupported:"get_isSupported"},Qa.isSupported=null,Qa.get_isSupported=function(){return!1},Qa.__super__=Da,Qa.prototype=n(Da.prototype,{__added:null,__initialized:null,__renderCanvas:function(t){},__renderDOM:function(t){if(null!=this.stage&&this.__worldVisible&&this.__renderable){if(this.__added||(t.element.appendChild(this.__canvas),this.__added=!0,Yr.initializeElement(this,this.__canvas,t)),null!=this.__context){var e=null;e=null==this.get_scrollRect()?new z(0,0,this.stage.stageWidth,this.stage.stageHeight):new z(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height),null!=this.__render&&this.__render(e)}}else this.__added&&(t.element.removeChild(this.__canvas),this.__added=!1)},__renderGL:function(t){if(null!=this.stage&&this.__renderable){var e=null;e=null==this.get_scrollRect()?new z(0,0,this.stage.stageWidth,this.stage.stageHeight):new z(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height),null!=this.__render&&this.__render(e),t.shaderManager.setShader(null),t.blendModeManager.setBlendMode(null)}},__class__:Qa});var $a=function(t){null==t&&(t=!1),this.fastCompression=t};a["openfl.display.PNGEncoderOptions"]=$a,$a.__name__=["openfl","display","PNGEncoderOptions"],$a.prototype={fastCompression:null,__class__:$a};var ts={};a["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=ts,ts.__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"],ts.fromString=function(t){switch(t){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},ts.toString=function(t){switch(t){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var es=function(t){sn.call(this),null!=t&&(this.display=t,Ji.current.addChild(t),X.__instanceof(t,M)&&X.__cast(t,M).onInit())};a["openfl.display.Preloader"]=es,es.__name__=["openfl","display","Preloader"],es.__super__=sn,es.prototype=n(sn.prototype,{display:null,displayComplete:null,load:function(t,e){for(var n=[],i=null,a=0,s=t.length;a<s;){var l=a++;switch(i=t[l],e[l]){case"MUSIC":case"SOUND":var o=we.withoutExtension(i);I.remove(n,o)||this.total++,n.push(o)}}for(var h=0;h<n.length;){var _=n[h];++h;var u=new sl;u.addEventListener("complete",r(this,this.sound_onComplete)),u.addEventListener("ioError",r(this,this.sound_onIOError)),u.load(new cl(_+".ogg"))}sn.prototype.load.call(this,t,e)},start:function(){null!=this.display&&X.__instanceof(this.display,M)?(this.display.addEventListener("complete",r(this,this.display_onComplete)),X.__cast(this.display,M).onLoaded()):sn.prototype.start.call(this)},update:function(t,e){null!=this.display&&X.__instanceof(this.display,M)&&X.__cast(this.display,M).onUpdate(t,e)},display_onComplete:function(t){this.display.removeEventListener("complete",r(this,this.display_onComplete)),Ji.current.removeChild(this.display),Ji.current.stage.set_focus(null),this.display=null,sn.prototype.start.call(this)},sound_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:es});var ns=function(t){null==t&&(t=1),this.__dirty=!0,this.repeatY=33071,this.repeatX=33071,this.precision=1,this.precision=t,this.data=new ge;var e=this.data,n=ns.uObjectSize,i=new is("vec2"),r=e;null!=vo[n]?r.setReserved(n,i):r.h[n]=i;var a=this.data,s=ns.uTextureSize,l=new is("vec2"),o=a;null!=vo[s]?o.setReserved(s,l):o.h[s]=l};a["openfl.display.Shader"]=ns,ns.__name__=["openfl","display","Shader"],ns.prototype={precision:null,data:null,repeatX:null,repeatY:null,smooth:null,blendMode:null,__dirty:null,__fragmentCode:null,__vertexCode:null,__shader:null,__init:function(t){var e=this.__dirty;if(e){null!=this.__shader&&this.__shader.destroy(),this.__shader=new jr(t);var n=null!=this.__vertexCode?this.__vertexCode:Kr.VERTEX_SRC.join("\n");this.__shader.vertexString=n,this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1}this.__shader.init(e)},__buildFragmentCode:function(t){var e=[];e.push("#ifdef GL_ES");var n;switch(this.precision){case 1:n="precision mediump float;";break;case 2:n="precision highp float;";break;default:n="precision lowp float;"}e.push(n),e.push("#endif"),(e=e.concat(ns.fragmentHeader)).push(t),this.__fragmentCode=e.join("\n")},__buildVertexCode:function(t){var e=[];e.push("#ifdef GL_ES");var n;switch(this.precision){case 1:n="precision mediump float;";break;case 2:n="precision highp float;";break;default:n="precision lowp float;"}e.push(n),e.push("#endif"),(e=e.concat(ns.vertexHeader)).push(t),this.__vertexCode=e.join("\n")},__class__:ns};var is=function(t,e){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!1,this.arraySize=0,this.size=0,this.type=t,this.arraySize=null==e?0:e,this.__init()};a["openfl.display.GLShaderParameter"]=is,is.__name__=["openfl","display","GLShaderParameter"],is.prototype={type:null,size:null,arraySize:null,value:null,bitmap:null,smooth:null,repeatX:null,repeatY:null,transpose:null,internalType:null,__init:function(){var t=this.type;switch(t){case"bool":if(this.internalType=1,this.size=1,4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"float":if(this.internalType=2,this.size=1,4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"int":if(this.internalType=1,this.size=1,4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"sampler2D":case"samplerCube":if(t.indexOf("vec")>-1){k.startsWith(this.type,"b")||k.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var e=P.parseInt(this.type.charAt(this.type.length-1));this.size=e;for(var n=[],i=0,r=this.size;i<r;){i++;n.push(0)}if(4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=n}else if(t.indexOf("mat")>-1){this.internalType=3;var a=P.parseInt(this.type.charAt(this.type.length-1));this.size=a;var s;switch(this.size){case 2:s=[1,0,1,0];break;case 3:s=[1,0,0,0,1,0,0,0,1];break;case 4:s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:s=[0]}if(4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=s}else this.internalType=4,this.size=0;break;default:if(t.indexOf("vec")>-1){k.startsWith(this.type,"b")||k.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var l=P.parseInt(this.type.charAt(this.type.length-1));this.size=l;for(var o=[],h=0,_=this.size;h<_;){h++;o.push(0)}if(4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=o}else if(t.indexOf("mat")>-1){this.internalType=3;var u=P.parseInt(this.type.charAt(this.type.length-1));this.size=u;var c;switch(this.size){case 2:c=[1,0,1,0];break;case 3:c=[1,0,0,0,1,0,0,0,1];break;case 4:c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:c=[0]}if(4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");this.value=c}else this.internalType=0,oe.trace("Can't initialize value for type "+this.type,{fileName:"Shader.hx",lineNumber:307,className:"openfl.display.GLShaderParameter",methodName:"__init"})}},set_value:function(t){if(4==this.internalType)throw new Ee("This parameter doesn't accept a value, use bitmap instead");return this.value=t},set_bitmap:function(t){if(4!=this.internalType)throw new Ee("This parameter doesn't accept a bitmap, use value instead");return this.bitmap=t},__class__:is,__properties__:{set_bitmap:"set_bitmap",set_value:"set_value"}};var rs=function(){u.call(this)};a["openfl.display.Shape"]=rs,rs.__name__=["openfl","display","Shape"],rs.__super__=u,rs.prototype=n(u.prototype,{graphics:null,get_graphics:function(){return null==this.__graphics&&(this.__graphics=new ka,this.__graphics.__owner=this),this.__graphics},__class__:rs,__properties__:n(u.prototype.__properties__,{get_graphics:"get_graphics"})});var as={};a["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=as,as.__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"],as.fromString=function(t){switch(t){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},as.toString=function(t){switch(t){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var ss=function(t,e){d.call(this),this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.__width*t.__scale|0,this.stageHeight=t.__height*t.__scale|0,this.stage=this,this.align=6,this.allowsFullScreen=!1,this.allowsFullScreenInteractive=!1,this.quality=1,this.scaleMode=2,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__stack=[],this.__mouseOutStack=[];var n=new Qi,i=new Array(0);n.data=i,n.length=0,n.fixed=!1,this.stage3Ds=n;var r=this.stage3Ds,a=new ls;if(!r.fixed){if(r.length++,r.data.length<r.length){var s=r.data.length+10,l=new Array(s);pe.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[r.length-1]=a}null==Ji.current.stage&&this.stage.addChild(Ji.current)};a["openfl.display.Stage"]=ss,ss.__name__=["openfl","display","Stage"],ss.__interfaces__=[Ne],ss.__super__=d,ss.prototype=n(d.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,quality:null,scaleMode:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__deltaTime:null,__dirty:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__fullscreen:null,__invalidated:null,__lastClickTime:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOutStack:null,__mouseX:null,__mouseY:null,__originalWidth:null,__originalHeight:null,__renderer:null,__rendering:null,__stack:null,__transparent:null,__wasDirty:null,globalToLocal:function(t){return t.clone()},invalidate:function(){this.__invalidated=!0},localToGlobal:function(t){return t.clone()},onGamepadAxisMove:function(t,e,n){Cl.__onGamepadAxisMove(t,e,n)},onGamepadButtonDown:function(t,e){Cl.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){Cl.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){Cl.__onGamepadConnect(t)},onGamepadDisconnect:function(t){Cl.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,n){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,n){},onJoystickTrackballMove:function(t,e,n){},onKeyDown:function(t,e,n){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,n)},onKeyUp:function(t,e,n){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,n)},onModuleExit:function(t){if(null!=this.window){var e=new Nt("deactivate");this.__broadcast(e,!0)}},onMouseDown:function(t,e,n,i){if(null!=this.window&&this.window==t){var r;switch(i){case 1:r="middleMouseDown";break;case 2:r="rightMouseDown";break;default:r="mouseDown"}this.__onMouse(r,e*t.__scale|0,n*t.__scale|0,i)}},onMouseMove:function(t,e,n){null!=this.window&&this.window==t&&this.__onMouse("mouseMove",e*t.__scale|0,n*t.__scale|0,0)},onMouseMoveRelative:function(t,e,n){},onMouseUp:function(t,e,n,i){if(null!=this.window&&this.window==t){var r;switch(i){case 1:r="middleMouseUp";break;case 2:r="rightMouseUp";break;default:r="mouseUp"}this.__onMouse(r,e*t.__scale|0,n*t.__scale|0,i)}},onMouseWheel:function(t,e,n){null!=this.window&&this.window==t&&this.__onMouseWheel(e*t.__scale|0,n*t.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,n,i){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){var n=[];null==this.__focus?this.__getInteractive(n):this.__focus.__getInteractive(n);var i=new Xs("textInput",!0,!1,e);n.length>0?(n.reverse(),this.__fireEvent(i,n)):this.__broadcast(i,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=new Nt("activate");this.__broadcast(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;switch(e[1]){case 0:e[2];break;case 1:var n=e[2];this.__renderer=new Or(this.stageWidth,this.stageHeight,n);break;case 2:e[2];break;case 4:e[2];break;case 5:e[2]}}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=new Nt("deactivate");this.__broadcast(e,!0)}},onWindowDropFile:function(t,e){},onWindowEnter:function(t){},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new Vs("focusIn",!0,!1,null,!1,0);this.__broadcast(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new Vs("focusOut",!0,!1,null,!1,0);this.__broadcast(e,!0)}},onWindowFullscreen:function(t){null!=this.window&&this.window==t&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(new Nt("mouseLeave"))},onWindowMinimize:function(t){},onWindowMove:function(t,e,n){},onWindowResize:function(t,e,n){if(null!=this.window&&this.window==t){2==this.__displayState||t.__fullscreen||(this.__displayState=2),this.stageWidth=e*t.__scale|0,this.stageHeight=n*t.__scale|0,null!=this.__renderer&&this.__renderer.resize(this.stageWidth,this.stageHeight);var i=new Nt("resize");this.__broadcast(i,!1)}},onWindowRestore:function(t){},render:function(t){if(null!=t.window&&t.window==this.window&&(null!=this.application&&this.application.windows.length>0&&(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,u.__worldRenderDirty++)),!this.__rendering)){if(this.__rendering=!0,this.__broadcast(new Nt("enterFrame"),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new Nt("render"),!0)),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer){var e=t.context;if(4==e[1]){var n=e[2];X.__cast(this.__renderer,Mr).cairo=n,this.__renderer.renderSession.cairo=n}this.__renderer.render(this)}this.__rendering=!1}},update:function(t){this.__deltaTime=t},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var n=t.x+this.__dragOffsetX,i=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(n<this.__dragBounds.x?n=this.__dragBounds.x:n>this.__dragBounds.get_right()&&(n=this.__dragBounds.get_right()),i<this.__dragBounds.y?i=this.__dragBounds.y:i>this.__dragBounds.get_bottom()&&(i=this.__dragBounds.get_bottom())),this.__dragObject.set_x(n),this.__dragObject.set_y(i)},__fireEvent:function(t,e){var n=e.length;if(0==n)t.eventPhase=2,t.target.__broadcast(t,!1);else{t.eventPhase=1,t.target=e[e.length-1];for(var i=0,r=n-1;i<r;)if(e[i++].__broadcast(t,!1),t.__isCanceled)return;if(t.eventPhase=2,t.target.__broadcast(t,!1),t.__isCanceled)return;if(t.bubbles){t.eventPhase=3;for(var a=n-2;a>=0;){if(e[a].__broadcast(t,!1),t.__isCanceled)return;--a}}}},__getInteractive:function(t){return null!=t&&t.push(this),!0},__onKey:function(t,e,n){Js.__altKey=Mi.get_altKey(n),Js.__commandKey=Mi.get_metaKey(n),Js.__ctrlKey=Mi.get_ctrlKey(n),Js.__shiftKey=Mi.get_shiftKey(n);var i=[];if(null==this.__focus?this.__getInteractive(i):this.__focus.__getInteractive(i),i.length>0){var r;switch(e){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:r=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:r=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:r=2;break;default:r=0}var a;switch(e){case 8:a=8;break;case 9:a=9;break;case 13:a=13;break;case 27:a=27;break;case 32:a=32;break;case 33:a=49;break;case 34:a=222;break;case 35:a=51;break;case 36:a=52;break;case 37:a=53;break;case 38:a=55;break;case 39:a=222;break;case 40:a=57;break;case 41:a=48;break;case 42:a=56;break;case 44:a=188;break;case 45:a=189;break;case 46:a=190;break;case 47:a=191;break;case 48:a=48;break;case 49:a=49;break;case 50:a=50;break;case 51:a=51;break;case 52:a=52;break;case 53:a=53;break;case 54:a=54;break;case 55:a=55;break;case 56:a=56;break;case 57:a=57;break;case 58:case 59:a=186;break;case 60:a=60;break;case 61:a=187;break;case 62:a=190;break;case 63:a=191;break;case 64:a=50;break;case 91:a=219;break;case 92:a=220;break;case 93:a=221;break;case 94:a=54;break;case 95:a=189;break;case 96:a=192;break;case 97:a=65;break;case 98:a=66;break;case 99:a=67;break;case 100:a=68;break;case 101:a=69;break;case 102:a=70;break;case 103:a=71;break;case 104:a=72;break;case 105:a=73;break;case 106:a=74;break;case 107:a=75;break;case 108:a=76;break;case 109:a=77;break;case 110:a=78;break;case 111:a=79;break;case 112:a=80;break;case 113:a=81;break;case 114:a=82;break;case 115:a=83;break;case 116:a=84;break;case 117:a=85;break;case 118:a=86;break;case 119:a=87;break;case 120:a=88;break;case 121:a=89;break;case 122:a=90;break;case 127:a=46;break;case 1073741881:a=20;break;case 1073741882:a=112;break;case 1073741883:a=113;break;case 1073741884:a=114;break;case 1073741885:a=115;break;case 1073741886:a=116;break;case 1073741887:a=117;break;case 1073741888:a=118;break;case 1073741889:a=119;break;case 1073741890:a=120;break;case 1073741891:a=121;break;case 1073741892:a=122;break;case 1073741893:a=123;break;case 1073741894:a=301;break;case 1073741895:a=145;break;case 1073741896:a=19;break;case 1073741897:a=45;break;case 1073741898:a=36;break;case 1073741899:a=33;break;case 1073741901:a=35;break;case 1073741902:a=34;break;case 1073741903:a=39;break;case 1073741904:a=37;break;case 1073741905:a=40;break;case 1073741906:a=38;break;case 1073741907:a=144;break;case 1073741908:a=111;break;case 1073741909:a=106;break;case 1073741910:a=109;break;case 1073741911:a=107;break;case 1073741912:a=108;break;case 1073741913:a=97;break;case 1073741914:a=98;break;case 1073741915:a=99;break;case 1073741916:a=100;break;case 1073741917:a=101;break;case 1073741918:a=102;break;case 1073741919:a=103;break;case 1073741920:a=104;break;case 1073741921:a=105;break;case 1073741922:a=96;break;case 1073741923:a=110;break;case 1073741925:a=302;break;case 1073741928:a=124;break;case 1073741929:a=125;break;case 1073741930:a=126;break;case 1073741982:a=13;break;case 1073742044:a=110;break;case 1073742048:a=17;break;case 1073742049:a=16;break;case 1073742050:a=18;break;case 1073742051:a=15;break;case 1073742052:a=17;break;case 1073742053:a=16;break;case 1073742054:a=18;break;case 1073742055:a=15;break;default:a=e}var s=Pl.__getCharCode(a,Mi.get_shiftKey(n)),l=new qs(t,!0,!1,s,a,r,this.__macKeyboard?Mi.get_ctrlKey(n)||Mi.get_metaKey(n):Mi.get_ctrlKey(n),Mi.get_altKey(n),Mi.get_shiftKey(n),Mi.get_ctrlKey(n),Mi.get_metaKey(n));i.reverse(),this.__fireEvent(l,i),l.__isCanceled&&("keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(t,e,n,i){if(!(i>2)){this.__mouseX=e,this.__mouseY=n;var r=[],a=null,s=new V(e,n);this.__hitTest(e,n,!0,r,!0,this)?a=r[r.length-1]:(a=this,r=[this]),null==a&&(a=this);var l=null;switch(t){case"middleMouseDown":this.__mouseDownMiddle=a;break;case"middleMouseUp":this.__mouseDownMiddle==a&&(l="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":a.get_tabEnabled()?this.set_focus(a):this.set_focus(null),this.__mouseDownLeft=a;break;case"mouseUp":this.__mouseDownLeft==a&&(l="click"),this.__mouseDownLeft=null;break;case"rightMouseDown":this.__mouseDownRight=a;break;case"rightMouseUp":this.__mouseDownRight==a&&(l="rightClick"),this.__mouseDownRight=null}if(this.__fireEvent(Js.__create(t,i,this.__mouseX,this.__mouseY,a==this?s:a.globalToLocal(s),a),r),null!=l&&(this.__fireEvent(Js.__create(l,i,this.__mouseX,this.__mouseY,a==this?s:a.globalToLocal(s),a),r),"mouseUp"==t&&X.__cast(a,c).doubleClickEnabled)){var o=Ji.getTimer();o-this.__lastClickTime<500?(this.__fireEvent(Js.__create("doubleClick",i,this.__mouseX,this.__mouseY,a==this?s:a.globalToLocal(s),a),r),this.__lastClickTime=0):this.__lastClickTime=o}for(var h=null,_=0;_<r.length;){var u=r[_];if(++_,null!=(h=u.__getCursor())){Di.set_cursor(h);break}}null==h&&Di.set_cursor(Pi.ARROW);for(var d,f,g=0,p=this.__mouseOutStack;g<p.length;){var m=p[g];++g,-1==r.indexOf(m)&&(I.remove(this.__mouseOutStack,m),f=m.globalToLocal(s),(d=Js.__create("mouseOut",i,this.__mouseX,this.__mouseY,f,m)).bubbles=!1,m.__dispatchEvent(d))}for(var v=0;v<r.length;){var x=r[v];++v,-1==this.__mouseOutStack.indexOf(x)&&(x.hasEventListener("mouseOver")&&(f=x.globalToLocal(s),(d=Js.__create("mouseOver",i,this.__mouseX,this.__mouseY,f,x)).bubbles=!1,x.__dispatchEvent(d)),x.hasEventListener("mouseOut")&&this.__mouseOutStack.push(x))}null!=this.__dragObject&&this.__drag(s)}},__onMouseWheel:function(t,e){var n=this.__mouseX,i=this.__mouseY,r=[];this.__hitTest(n,i,!1,r,!0,this)||(r=[this]);var a=r[r.length-1],s=new V(n,i),l=0|e;this.__fireEvent(Js.__create("mouseWheel",0,this.__mouseX,this.__mouseY,a==this?s:a.globalToLocal(s),a,l),r)},__onTouch:function(t,e){var n=new V(e.x*this.stageWidth,e.y*this.stageHeight);this.__mouseX=n.x,this.__mouseY=n.y;var i=[];if(this.__hitTest(this.__mouseX,this.__mouseY,!1,i,!0,this)){var r=i[i.length-1];null==r&&(r=this);var a=r.globalToLocal(n),s=$s.__create(t,null,this.__mouseX,this.__mouseY,a,r);s.touchPointID=e.id,s.isPrimaryTouchPoint=!0,this.__fireEvent(s,i)}else{var l=$s.__create(t,null,this.__mouseX,this.__mouseY,n,this);l.touchPointID=e.id,l.isPrimaryTouchPoint=!0,this.__fireEvent(l,[this.stage])}},__resize:function(){},__startDrag:function(t,e,n){if(this.__dragBounds=null==n?null:n.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var i=new V(this.get_mouseX(),this.get_mouseY()),r=this.__dragObject.parent;null!=r&&(i=r.globalToLocal(i)),this.__dragOffsetX=this.__dragObject.get_x()-i.x,this.__dragOffsetY=this.__dragObject.get_y()-i.y}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__update:function(t,e,n){t?u.__worldTransformDirty>0&&(d.prototype.__update.call(this,!0,e,n),e&&(u.__worldTransformDirty=0,this.__dirty=!0)):(u.__worldTransformDirty>0||this.__dirty||u.__worldRenderDirty>0)&&(d.prototype.__update.call(this,!1,e,n),e&&(u.__worldTransformDirty=0,u.__worldRenderDirty=0,this.__dirty=!1))},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},canvas_onContextLost:function(t){},canvas_onContextRestored:function(t){},get_color:function(){return this.__color},set_color:function(t){var e=(16711680&t)>>>16,n=(65280&t)>>>8,i=255&t;return this.__colorSplit=[e/255,n/255,i/255],this.__colorString="#"+k.hex(t,6),this.__color=t},get_displayState:function(){return this.__displayState},set_displayState:function(t){return null!=this.window&&(2==t?this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.stageWidth=this.window.__width*this.window.__scale|0,this.stageHeight=this.window.__height*this.window.__scale|0,this.dispatchEvent(new Ws("fullScreen",!1,!1,!1,!0))):this.window.__fullscreen||(this.window.set_fullscreen(!0),this.stageWidth=this.window.__width*this.window.__scale|0,this.stageHeight=this.window.__height*this.window.__scale|0,this.dispatchEvent(new Ws("fullScreen",!1,!1,!0,!0)))),this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){var n=new Vs("focusOut",!0,!1,this.__focus,!1,0);this.__stack=[],e.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(n,this.__stack)}if(null!=this.__focus){var i=new Vs("focusIn",!0,!1,e,!1,0);this.__stack=[],t.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(i,this.__stack)}}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(t){return null!=this.application?this.application.backend.setFrameRate(t):t},__class__:ss,__properties__:n(d.prototype.__properties__,{set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var ls=function(){h.call(this)};a["openfl.display.Stage3D"]=ls,ls.__name__=["openfl","display","Stage3D"],ls.__super__=h,ls.prototype=n(h.prototype,{context3D:null,visible:null,x:null,y:null,requestContext3D:function(t){null==t&&(t="");var e=this;Qa.get_isSupported()?he.delay(function(){e.context3D=new gs,e.dispatchEvent(new Nt("context3DCreate"))},1):he.delay(function(){e.dispatchEvent(new Ys("error"))},1)},__class__:ls});var os={};a["openfl.display._StageAlign.StageAlign_Impl_"]=os,os.__name__=["openfl","display","_StageAlign","StageAlign_Impl_"],os.fromString=function(t){switch(t){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},os.toString=function(t){switch(t){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var hs={};a["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=hs,hs.__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"],hs.fromString=function(t){switch(t){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},hs.toString=function(t){switch(t){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var _s={};a["openfl.display._StageQuality.StageQuality_Impl_"]=_s,_s.__name__=["openfl","display","_StageQuality","StageQuality_Impl_"],_s.fromString=function(t){switch(t){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},_s.toString=function(t){switch(t){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var us={};a["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=us,us.__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"],us.fromString=function(t){switch(t){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},us.toString=function(t){switch(t){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var cs=function(t){this.__bitmap=t,this.__centerPoints=[],this.__tileRects=[],this.__tileUVs=[],this.__rectTile=new z,this.__rectUV=new z,this.__point=new V};a["openfl.display.Tilesheet"]=cs,cs.__name__=["openfl","display","Tilesheet"],cs.prototype={__bitmap:null,__centerPoints:null,__tileRects:null,__tileUVs:null,__rectTile:null,__rectUV:null,__point:null,addTileRect:function(t,e){return this.__tileRects.push(t),null==e&&(e=cs.__defaultPoint),this.__centerPoints.push(e),this.__tileUVs.push(new z(t.get_left()/this.__bitmap.width,t.get_top()/this.__bitmap.height,t.get_right()/this.__bitmap.width,t.get_bottom()/this.__bitmap.height)),this.__tileRects.length-1},drawTiles:function(t,e,n,i,r){null==r&&(r=-1),null==i&&(i=0),null==n&&(n=!1),t.drawTiles(this,e,n,i,null,r)},getTileCenter:function(t){return this.__centerPoints[t]},getTileRect:function(t){return this.__tileRects[t]},getTileUVs:function(t){return this.__tileUVs[t]},__class__:cs};var ds={};a["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=ds,ds.__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"],ds.fromString=function(t){switch(t){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},ds.toString=function(t){switch(t){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var fs=function(t){ki.call(this,t)};a["openfl.display.Window"]=fs,fs.__name__=["openfl","display","Window"],fs.__super__=ki,fs.prototype=n(ki.prototype,{create:function(t){ki.prototype.create.call(this,t),this.stage=new ss(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:fs});var gs=function(){this.disposed=!1;this.stencilCompareMode=519,this.stencilRef=0,this.stencilReadMask=255,this._yFlip=1,this.vertexBuffersCreated=[],this.indexBuffersCreated=[],this.programsCreated=[],this.texturesCreated=[],this.samplerParameters=[];for(var t=0,e=gs.MAX_SAMPLERS;t<e;){var n=t++;this.samplerParameters[n]=new ps,this.samplerParameters[n].wrap=As.CLAMP,this.samplerParameters[n].filter=bs.LINEAR,this.samplerParameters[n].mipfilter=ys.MIPNONE}var i=Ji.current.stage;this.ogl=new Qa,this.ogl.set_scrollRect(new z(0,0,i.stageWidth,i.stageHeight)),this.scrollRect=this.ogl.get_scrollRect().clone(),this.ogl.set_width(i.stageWidth),this.ogl.set_height(i.stageHeight),i.addChildAt(this.ogl,0),Wn.context.pixelStorei(37440,1),Wn.context.pixelStorei(37441,1)};a["openfl.display3D.Context3D"]=gs,gs.__name__=["openfl","display3D","Context3D"],gs.prototype={driverInfo:null,enableErrorChecking:null,blendDestinationFactor:null,blendEnabled:null,blendSourceFactor:null,currentProgram:null,disposed:null,drawing:null,framebuffer:null,indexBuffersCreated:null,ogl:null,programsCreated:null,renderbuffer:null,samplerParameters:null,scrollRect:null,stencilbuffer:null,stencilCompareMode:null,stencilRef:null,stencilReadMask:null,texturesCreated:null,vertexBuffersCreated:null,_yFlip:null,backBufferDepthAndStencil:null,rttDepthAndStencil:null,scissorRectangle:null,renderToTexture:null,rttWidth:null,rttHeight:null,clear:function(t,e,n,i,r,a,s){null==s&&(s=17664),null==a&&(a=0),null==r&&(r=1),null==i&&(i=1),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.drawing||(this.__updateBlendStatus(),this.drawing=!0),null!=this.scissorRectangle&&Wn.context.disable(3089),Wn.context.clearColor(t,e,n,i),Wn.context.clearDepth(r),Wn.context.clearStencil(a),Wn.context.clear(s),null!=this.scissorRectangle&&Wn.context.enable(3089)},configureBackBuffer:function(t,e,n,i){null==i&&(i=!0),this.backBufferDepthAndStencil=i,this.updateDepthAndStencilState(),this.setBackBufferViewPort(null,null,t,e),this.updateScissorRectangle()},setBackBufferViewPort:function(t,e,n,i){null==t&&(t=0|this.scrollRect.x),null==e&&(e=0|this.scrollRect.y),null==n&&(n=0|this.scrollRect.width),null==i&&(i=0|this.scrollRect.height),this.scrollRect.x=t,this.scrollRect.y=e,this.scrollRect.width=n,this.scrollRect.height=i,this.ogl.set_width(t+n),this.ogl.set_height(e+i),this.updateBackBufferViewPort()},updateBackBufferViewPort:function(){this.renderToTexture||Wn.context.viewport(0|this.scrollRect.x,0|this.scrollRect.y,0|this.scrollRect.width,0|this.scrollRect.height)},updateDepthAndStencilState:function(){(this.renderToTexture?this.rttDepthAndStencil:this.backBufferDepthAndStencil)?(Ge.current.windows[0].config.depthBuffer&&Wn.context.enable(2929),Ge.current.windows[0].config.stencilBuffer&&Wn.context.enable(2960)):(Wn.context.disable(2929),Wn.context.disable(2960))},createCubeTexture:function(t,e,n,i){null==i&&(i=0);var r=new Ds(this,Wn.context.createTexture(),t);return this.texturesCreated.push(r),r},createIndexBuffer:function(t,e){null==e&&(e=ms.STATIC_DRAW);var n=new Is(this,Wn.context.createBuffer(),t,e==ms.STATIC_DRAW?35044:35048);return this.indexBuffersCreated.push(n),n},createProgram:function(){var t=new Ss(this,Wn.context.createProgram());return this.programsCreated.push(t),t},createRectangleTexture:function(t,e,n,i){var r=new Ps(this,Wn.context.createTexture(),i,t,e);return this.texturesCreated.push(r),r},createTexture:function(t,e,n,i,r){null==r&&(r=0);var a=new Ls(this,Wn.context.createTexture(),i,t,e);return this.texturesCreated.push(a),a},createVertexBuffer:function(t,e,n){null==n&&(n=ms.STATIC_DRAW);var i=new Cs(this,Wn.context.createBuffer(),t,e,n==ms.STATIC_DRAW?35044:35048);return this.vertexBuffersCreated.push(i),i},__deleteTexture:function(t){null!=t.glTexture&&(I.remove(this.texturesCreated,t),Wn.context.deleteTexture(t.glTexture),t.glTexture=null)},__deleteVertexBuffer:function(t){null!=t.glBuffer&&(I.remove(this.vertexBuffersCreated,t),Wn.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteIndexBuffer:function(t){null!=t.glBuffer&&(I.remove(this.indexBuffersCreated,t),Wn.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteProgram:function(t){null!=t.glProgram&&(I.remove(this.programsCreated,t),Wn.context.deleteProgram(t.glProgram),t.glProgram=null)},dispose:function(){for(var t=0,e=this.vertexBuffersCreated;t<e.length;){var n=e[t];++t,n.dispose()}this.vertexBuffersCreated=null;for(var i=0,r=this.indexBuffersCreated;i<r.length;){var a=r[i];++i,a.dispose()}this.indexBuffersCreated=null;for(var s=0,l=this.programsCreated;s<l.length;){var o=l[s];++s,o.dispose()}this.programsCreated=null,this.samplerParameters=null;for(var h=0,_=this.texturesCreated;h<_.length;){var u=_[h];++h,u.dispose()}this.texturesCreated=null,null!=this.framebuffer&&(Wn.context.deleteFramebuffer(this.framebuffer),this.framebuffer=null),null!=this.renderbuffer&&(Wn.context.deleteRenderbuffer(this.renderbuffer),this.renderbuffer=null),this.disposed=!0},drawToBitmapData:function(t){},drawTriangles:function(t,e,n){null==n&&(n=-1),null==e&&(e=0);var i=Wn.context.getUniformLocation(this.currentProgram.glProgram,"yflip");if(Wn.context.uniform1f(i,this._yFlip),!this.drawing)throw new Ee(new ks("Need to clear before drawing if the buffer has not been cleared since the last present() call."));var r;r=-1==n?t.numIndices:3*n;var a=2*e;Wn.context.bindBuffer(34963,t.glBuffer),Wn.context.drawElements(4,r,5123,a)},present:function(){this.drawing=!1,Wn.context.useProgram(null),Wn.context.bindBuffer(34962,null),Wn.context.disable(2884),null!=this.framebuffer&&Wn.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&Wn.context.bindRenderbuffer(36161,null)},removeRenderMethod:function(t){this.ogl.set_render(null)},setBlendFactors:function(t,e){this.blendEnabled=!0,this.blendSourceFactor=t,this.blendDestinationFactor=e,this.__updateBlendStatus()},setColorMask:function(t,e,n,i){Wn.context.colorMask(t,e,n,i)},setCulling:function(t){if(0==t)Wn.context.disable(2884);else switch(Wn.context.enable(2884),t){case 1028:Wn.context.cullFace(1028);break;case 1029:Wn.context.cullFace(1029);break;case 1032:Wn.context.cullFace(1032);break;default:throw new Ee("Unknown Context3DTriangleFace type.")}switch(t){case 0:case 1028:this._yFlip=1;break;case 1029:this._yFlip=-1;break;case 1032:this._yFlip=1;break;default:throw new Ee("Unknown culling mode "+t+".")}},setDepthTest:function(t,e){Wn.context.depthFunc(e),Wn.context.depthMask(t)},setGLSLProgramConstantsFromByteArray:function(t,e,n){null==n&&(n=0),e.position=n;var i=Wn.context.getUniformLocation(this.currentProgram.glProgram,t),r=e.readFloat(),a=e.readFloat(),s=e.readFloat(),l=e.readFloat();Wn.context.uniform4f(i,r,a,s,l)},setGLSLProgramConstantsFromMatrix:function(t,e,n){null==n&&(n=!1);for(var i=Wn.context.getUniformLocation(this.currentProgram.glProgram,t),r=e.rawData,a=[],s=0,l=r.data.length;s<l;){var o=s++;a.push(r.data[o])}var h,_=a;h=null!=_?new wo(_):null,Wn.context.uniformMatrix4fv(i,!n,h)},setGLSLProgramConstantsFromVector4:function(t,e,n){null==n&&(n=0);var i=Wn.context.getUniformLocation(this.currentProgram.glProgram,t);Wn.context.uniform4f(i,e[n],e[n+1],e[n+2],e[n+3])},setGLSLTextureAt:function(t,e,n){switch(n){case 0:Wn.context.activeTexture(33984);break;case 1:Wn.context.activeTexture(33985);break;case 2:Wn.context.activeTexture(33986);break;case 3:Wn.context.activeTexture(33987);break;case 4:Wn.context.activeTexture(33988);break;case 5:Wn.context.activeTexture(33989);break;case 6:Wn.context.activeTexture(33990);break;case 7:Wn.context.activeTexture(33991);break;default:throw new Ee("Does not support texture8 or more")}if(null==e)return Wn.context.bindTexture(3553,null),void Wn.context.bindTexture(34067,null);var i=Wn.context.getUniformLocation(this.currentProgram.glProgram,t);if(X.__instanceof(e,Ls))Wn.context.bindTexture(3553,X.__cast(e,Ls).glTexture),Wn.context.uniform1i(i,n);else if(X.__instanceof(e,Ps))Wn.context.bindTexture(3553,X.__cast(e,Ps).glTexture),Wn.context.uniform1i(i,n);else{if(!X.__instanceof(e,Ds))throw new Ee("Texture of type "+B.getClassName(null==e?null:X.getClass(e))+" not supported yet");Wn.context.bindTexture(34067,X.__cast(e,Ds).glTexture),Wn.context.uniform1i(i,n)}var r=this.samplerParameters[n];null!=r?this.setTextureParameters(e,r.wrap,r.filter,r.mipfilter):this.setTextureParameters(e,As.CLAMP,bs.NEAREST,ys.MIPNONE)},setGLSLVertexBufferAt:function(t,e,n,i){null==n&&(n=0);var r=null!=this.currentProgram&&null!=this.currentProgram.glProgram?Wn.context.getAttribLocation(this.currentProgram.glProgram,t):-1;if(-1!=r)if(null!=e){Wn.context.bindBuffer(34962,e.glBuffer);var a=4,s=5126,l=4;if(i==Rs.BYTES_4)a=4,s=5126,l=4;else if(i==Rs.FLOAT_1)a=1,s=5126,l=4;else if(i==Rs.FLOAT_2)a=2,s=5126,l=4;else if(i==Rs.FLOAT_3)a=3,s=5126,l=4;else{if(i!=Rs.FLOAT_4)throw new Ee("Buffer format "+P.string(i)+" is not supported");a=4,s=5126,l=4}Wn.context.enableVertexAttribArray(r),Wn.context.vertexAttribPointer(r,a,s,!1,e.data32PerVertex*l,n*l)}else r>-1&&Wn.context.disableVertexAttribArray(r)},setProgram:function(t){var e=null;null!=t&&(e=t.glProgram),Wn.context.useProgram(e),this.currentProgram=t},setProgramConstantsFromByteArray:function(t,e,n,i,r){i.position=r;for(var a=0,s=n;a<s;){var l=a++,o=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+l);this.setGLSLProgramConstantsFromByteArray(o,i)}},setProgramConstantsFromMatrix:function(t,e,n,i){null==i&&(i=!1);var r=n.rawData;i?(this.setProgramConstantsFromVector(t,e,[r.data[0],r.data[4],r.data[8],r.data[12]],1),this.setProgramConstantsFromVector(t,e+1,[r.data[1],r.data[5],r.data[9],r.data[13]],1),this.setProgramConstantsFromVector(t,e+2,[r.data[2],r.data[6],r.data[10],r.data[14]],1),this.setProgramConstantsFromVector(t,e+3,[r.data[3],r.data[7],r.data[11],r.data[15]],1)):(this.setProgramConstantsFromVector(t,e,[r.data[0],r.data[1],r.data[2],r.data[3]],1),this.setProgramConstantsFromVector(t,e+1,[r.data[4],r.data[5],r.data[6],r.data[7]],1),this.setProgramConstantsFromVector(t,e+2,[r.data[8],r.data[9],r.data[10],r.data[11]],1),this.setProgramConstantsFromVector(t,e+3,[r.data[12],r.data[13],r.data[14],r.data[15]],1))},setProgramConstantsFromVector:function(t,e,n,i){null==i&&(i=1);for(var r=0,a=i;r<a;){var s=r++,l=4*s,o=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+s);this.setGLSLProgramConstantsFromVector4(o,n,l)}},setRenderMethod:function(t){this.ogl.set_render(function(e){t(null)})},setRenderToBackBuffer:function(){Wn.context.disable(2929),Wn.context.disable(2960),Wn.context.disable(3089),Wn.context.bindFramebuffer(36160,null),null!=this.framebuffer&&Wn.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&Wn.context.bindRenderbuffer(36161,null),this.renderToTexture=!1,this.updateBackBufferViewPort(),this.updateScissorRectangle(),this.updateDepthAndStencilState()},setRenderToTexture:function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=!1),null==this.framebuffer&&(this.framebuffer=Wn.context.createFramebuffer()),Wn.context.bindFramebuffer(36160,this.framebuffer),null==this.renderbuffer&&(this.renderbuffer=Wn.context.createRenderbuffer()),Wn.context.bindRenderbuffer(36161,this.renderbuffer),e&&Wn.context.renderbufferStorage(36161,34041,t.width,t.height),Wn.context.framebufferTexture2D(36160,36064,3553,t.glTexture,0),Wn.context.renderbufferStorage(36161,34041,t.width,t.height),Wn.context.framebufferRenderbuffer(36160,33306,36161,this.renderbuffer),e&&(Wn.context.enable(2929),Wn.context.enable(2960)),Wn.context.bindTexture(3553,t.glTexture),Wn.context.texImage2D(3553,0,6408,t.width,t.height,0,6408,5121,null),Wn.context.texParameteri(3553,10240,9729),Wn.context.texParameteri(3553,10241,9985),Wn.context.viewport(0,0,t.width,t.height),this.renderToTexture=!0,this.rttDepthAndStencil=e,this.rttWidth=t.width,this.rttHeight=t.height,this.updateScissorRectangle(),this.updateDepthAndStencilState()},setSamplerStateAt:function(t,e,n,i){if(!(0<=t&&t<gs.MAX_SAMPLERS))throw new Ee("Sampler is out of bounds.");this.samplerParameters[t].wrap=e,this.samplerParameters[t].filter=n,this.samplerParameters[t].mipfilter=i},setScissorRectangle:function(t){this.scissorRectangle=t,null!=t?(Wn.context.enable(3089),this.updateScissorRectangle()):Wn.context.disable(3089)},updateScissorRectangle:function(){if(null!=this.scissorRectangle){var t=this.renderToTexture?this.rttHeight:0|this.scrollRect.height;Wn.context.scissor(0|this.scissorRectangle.x,t-(0|this.scissorRectangle.y)-(0|this.scissorRectangle.height)|0,0|this.scissorRectangle.width,0|this.scissorRectangle.height)}},setStencilActions:function(t,e,n,i,r){var a=e;this.stencilCompareMode=a,Wn.context.stencilOp(n,i,r),Wn.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask)},setStencilReferenceValue:function(t,e,n){null==n&&(n=255),null==e&&(e=255),this.stencilReadMask=e,this.stencilRef=t,Wn.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask),Wn.context.stencilMask(n)},setTextureAt:function(t,e){var n="fs"+t;this.setGLSLTextureAt(n,e,t)},setTextureParameters:function(t,e,n,i){if(!gs.anisotropySupportTested){var r=Wn.context.getExtension("EXT_texture_filter_anisotropic");null!=r&&null!=D.field(r,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(r=Wn.context.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=r&&null!=D.field(r,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(r=Wn.context.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),gs.supportsAnisotropy=null!=r,gs.supportsAnisotropy&&(gs.maxSupportedAnisotropy=Wn.context.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT),Wn.context.texParameteri(3553,gs.TEXTURE_MAX_ANISOTROPY_EXT,gs.maxSupportedAnisotropy)),gs.anisotropySupportTested=!0}if(X.__instanceof(t,Ls)){switch(e[1]){case 0:Wn.context.texParameteri(3553,10242,33071),Wn.context.texParameteri(3553,10243,33071);break;case 1:Wn.context.texParameteri(3553,10242,10497),Wn.context.texParameteri(3553,10243,10497)}switch(n[1]){case 0:if(gs.supportsAnisotropy){var a=gs.TEXTURE_MAX_ANISOTROPY_EXT,s=O.gt(2,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):2;Wn.context.texParameterf(3553,a,s)}break;case 1:if(gs.supportsAnisotropy){var l=gs.TEXTURE_MAX_ANISOTROPY_EXT,o=O.gt(4,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):4;Wn.context.texParameterf(3553,l,o)}break;case 2:if(gs.supportsAnisotropy){var h=gs.TEXTURE_MAX_ANISOTROPY_EXT,_=O.gt(8,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):8;Wn.context.texParameterf(3553,h,_)}break;case 3:if(gs.supportsAnisotropy){var u=gs.TEXTURE_MAX_ANISOTROPY_EXT,c=O.gt(16,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):16;Wn.context.texParameterf(3553,u,c)}break;case 4:Wn.context.texParameteri(3553,10240,9729),gs.supportsAnisotropy&&Wn.context.texParameterf(3553,gs.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:Wn.context.texParameteri(3553,10240,9728),gs.supportsAnisotropy&&Wn.context.texParameterf(3553,gs.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(i[1]){case 0:Wn.context.texParameteri(3553,10241,9987);break;case 1:Wn.context.texParameteri(3553,10241,9984);break;case 2:Wn.context.texParameteri(3553,10241,n==bs.NEAREST?9728:9729)}var d=t;i==ys.MIPNONE||d.mipmapsGenerated||(Wn.context.generateMipmap(3553),d.mipmapsGenerated=!0)}else if(X.__instanceof(t,Ps)){switch(Wn.context.texParameteri(3553,10242,33071),Wn.context.texParameteri(3553,10243,33071),n[1]){case 0:if(gs.supportsAnisotropy){var f=gs.TEXTURE_MAX_ANISOTROPY_EXT,g=O.gt(2,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):2;Wn.context.texParameterf(3553,f,g)}break;case 1:if(gs.supportsAnisotropy){var p=gs.TEXTURE_MAX_ANISOTROPY_EXT,m=O.gt(4,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):4;Wn.context.texParameterf(3553,p,m)}break;case 2:if(gs.supportsAnisotropy){var v=gs.TEXTURE_MAX_ANISOTROPY_EXT,x=O.gt(8,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):8;Wn.context.texParameterf(3553,v,x)}break;case 3:if(gs.supportsAnisotropy){var y=gs.TEXTURE_MAX_ANISOTROPY_EXT,w=O.gt(16,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):16;Wn.context.texParameterf(3553,y,w)}break;case 4:Wn.context.texParameteri(3553,10240,9729),gs.supportsAnisotropy&&Wn.context.texParameterf(3553,gs.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:Wn.context.texParameteri(3553,10240,9728),gs.supportsAnisotropy&&Wn.context.texParameterf(3553,gs.TEXTURE_MAX_ANISOTROPY_EXT,1)}Wn.context.texParameteri(3553,10241,n==bs.NEAREST?9728:9729)}else{if(!X.__instanceof(t,Ds))throw new Ee("Texture of type "+B.getClassName(null==t?null:X.getClass(t))+" not supported yet");switch(e[1]){case 0:Wn.context.texParameteri(34067,10242,33071),Wn.context.texParameteri(34067,10243,33071);break;case 1:Wn.context.texParameteri(34067,10242,10497),Wn.context.texParameteri(34067,10243,10497)}switch(n[1]){case 0:if(gs.supportsAnisotropy){var b=gs.TEXTURE_MAX_ANISOTROPY_EXT,T=O.gt(2,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):2;Wn.context.texParameterf(34067,b,T)}break;case 1:if(gs.supportsAnisotropy){var E=gs.TEXTURE_MAX_ANISOTROPY_EXT,R=O.gt(4,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):4;Wn.context.texParameterf(34067,E,R)}break;case 2:if(gs.supportsAnisotropy){var A=gs.TEXTURE_MAX_ANISOTROPY_EXT,I=O.gt(8,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):8;Wn.context.texParameterf(34067,A,I)}break;case 3:if(gs.supportsAnisotropy){var S=gs.TEXTURE_MAX_ANISOTROPY_EXT,C=O.gt(16,gs.maxSupportedAnisotropy)?O.toFloat(gs.maxSupportedAnisotropy):16;Wn.context.texParameterf(34067,S,C)}break;case 4:Wn.context.texParameteri(34067,10240,9729),gs.supportsAnisotropy&&Wn.context.texParameterf(34067,gs.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:Wn.context.texParameteri(34067,10240,9728),gs.supportsAnisotropy&&Wn.context.texParameterf(34067,gs.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(i[1]){case 0:Wn.context.texParameteri(34067,10241,9987);break;case 1:Wn.context.texParameteri(34067,10241,9984);break;case 2:Wn.context.texParameteri(34067,10241,n==bs.NEAREST?9728:9729)}var M=t;i==ys.MIPNONE||M.mipmapsGenerated||(Wn.context.generateMipmap(34067),M.mipmapsGenerated=!0)}},setVertexBufferAt:function(t,e,n,i){null==n&&(n=0);var r="va"+t;this.setGLSLVertexBufferAt(r,e,n,i)},__getUniformLocationNameFromAgalRegisterIndex:function(t,e){if(t==ws.VERTEX)return"vc"+e;if(t==ws.FRAGMENT)return"fc"+e;throw new Ee("Program Type "+P.string(t)+" not supported")},__updateBlendStatus:function(){this.blendEnabled?(Wn.context.enable(3042),Wn.context.blendEquation(32774),Wn.context.blendFunc(this.blendSourceFactor,this.blendDestinationFactor)):Wn.context.disable(3042)},__class__:gs};var ps=function(){};a["openfl.display3D._Context3D.SamplerState"]=ps,ps.__name__=["openfl","display3D","_Context3D","SamplerState"],ps.prototype={wrap:null,filter:null,mipfilter:null,__class__:ps};var ms=a["openfl.display3D.Context3DBufferUsage"]={__ename__:!0,__constructs__:["STATIC_DRAW","DYNAMIC_DRAW"]};ms.STATIC_DRAW=["STATIC_DRAW",0],ms.STATIC_DRAW.toString=s,ms.STATIC_DRAW.__enum__=ms,ms.DYNAMIC_DRAW=["DYNAMIC_DRAW",1],ms.DYNAMIC_DRAW.toString=s,ms.DYNAMIC_DRAW.__enum__=ms;var vs=function(){};a["openfl.display3D.Context3DClearMask"]=vs,vs.__name__=["openfl","display3D","Context3DClearMask"];var xs={};a["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=xs,xs.__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"],xs._new=function(t){return t},xs.fromInt=function(t){return t},xs.toInt=function(t){return t};var ys=a["openfl.display3D.Context3DMipFilter"]={__ename__:!0,__constructs__:["MIPLINEAR","MIPNEAREST","MIPNONE"]};ys.MIPLINEAR=["MIPLINEAR",0],ys.MIPLINEAR.toString=s,ys.MIPLINEAR.__enum__=ys,ys.MIPNEAREST=["MIPNEAREST",1],ys.MIPNEAREST.toString=s,ys.MIPNEAREST.__enum__=ys,ys.MIPNONE=["MIPNONE",2],ys.MIPNONE.toString=s,ys.MIPNONE.__enum__=ys;var ws=a["openfl.display3D.Context3DProgramType"]={__ename__:!0,__constructs__:["VERTEX","FRAGMENT"]};ws.VERTEX=["VERTEX",0],ws.VERTEX.toString=s,ws.VERTEX.__enum__=ws,ws.FRAGMENT=["FRAGMENT",1],ws.FRAGMENT.toString=s,ws.FRAGMENT.__enum__=ws;var bs=a["openfl.display3D.Context3DTextureFilter"]={__ename__:!0,__constructs__:["ANISOTROPIC2X","ANISOTROPIC4X","ANISOTROPIC8X","ANISOTROPIC16X","LINEAR","NEAREST"]};bs.ANISOTROPIC2X=["ANISOTROPIC2X",0],bs.ANISOTROPIC2X.toString=s,bs.ANISOTROPIC2X.__enum__=bs,bs.ANISOTROPIC4X=["ANISOTROPIC4X",1],bs.ANISOTROPIC4X.toString=s,bs.ANISOTROPIC4X.__enum__=bs,bs.ANISOTROPIC8X=["ANISOTROPIC8X",2],bs.ANISOTROPIC8X.toString=s,bs.ANISOTROPIC8X.__enum__=bs,bs.ANISOTROPIC16X=["ANISOTROPIC16X",3],bs.ANISOTROPIC16X.toString=s,bs.ANISOTROPIC16X.__enum__=bs,bs.LINEAR=["LINEAR",4],bs.LINEAR.toString=s,bs.LINEAR.__enum__=bs,bs.NEAREST=["NEAREST",5],bs.NEAREST.toString=s,bs.NEAREST.__enum__=bs;var Ts=a["openfl.display3D.Context3DTextureFormat"]={__ename__:!0,__constructs__:["BGRA","COMPRESSED","COMPRESSED_ALPHA"]};Ts.BGRA=["BGRA",0],Ts.BGRA.toString=s,Ts.BGRA.__enum__=Ts,Ts.COMPRESSED=["COMPRESSED",1],Ts.COMPRESSED.toString=s,Ts.COMPRESSED.__enum__=Ts,Ts.COMPRESSED_ALPHA=["COMPRESSED_ALPHA",2],Ts.COMPRESSED_ALPHA.toString=s,Ts.COMPRESSED_ALPHA.__enum__=Ts;var Es={};a["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=Es,Es.__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"],Es._new=function(t){return t},Es.fromInt=function(t){return t},Es.toInt=function(t){return t};var Rs=a["openfl.display3D.Context3DVertexBufferFormat"]={__ename__:!0,__constructs__:["BYTES_4","FLOAT_1","FLOAT_2","FLOAT_3","FLOAT_4"]};Rs.BYTES_4=["BYTES_4",0],Rs.BYTES_4.toString=s,Rs.BYTES_4.__enum__=Rs,Rs.FLOAT_1=["FLOAT_1",1],Rs.FLOAT_1.toString=s,Rs.FLOAT_1.__enum__=Rs,Rs.FLOAT_2=["FLOAT_2",2],Rs.FLOAT_2.toString=s,Rs.FLOAT_2.__enum__=Rs,Rs.FLOAT_3=["FLOAT_3",3],Rs.FLOAT_3.toString=s,Rs.FLOAT_3.__enum__=Rs,Rs.FLOAT_4=["FLOAT_4",4],Rs.FLOAT_4.toString=s,Rs.FLOAT_4.__enum__=Rs;var As=a["openfl.display3D.Context3DWrapMode"]={__ename__:!0,__constructs__:["CLAMP","REPEAT"]};As.CLAMP=["CLAMP",0],As.CLAMP.toString=s,As.CLAMP.__enum__=As,As.REPEAT=["REPEAT",1],As.REPEAT.toString=s,As.REPEAT.__enum__=As;var Is=function(t,e,n,i){this.context=t,this.glBuffer=e,this.numIndices=n,this.bufferUsage=i};a["openfl.display3D.IndexBuffer3D"]=Is,Is.__name__=["openfl","display3D","IndexBuffer3D"],Is.prototype={context:null,glBuffer:null,numIndices:null,bufferUsage:null,dispose:function(){this.context.__deleteIndexBuffer(this)},uploadFromByteArray:function(t,e,n,i){Wn.context.bindBuffer(34963,this.glBuffer);var r,a=2*i,s=e+2*n;r=null!=a?new Int16Array(a):null,t.position=s;for(var l=0;t.position<a+s;)r[l]=t.readUnsignedByte(),++l;Wn.context.bufferData(34963,r,this.bufferUsage)},uploadFromVector:function(t,e,n){Wn.context.bindBuffer(34963,this.glBuffer);var i;i=null!=n?new Int16Array(n):null;for(var r=e,a=e+n;r<a;){var s=r++;i[s]=t.data[s]}Wn.context.bufferData(34963,i,this.bufferUsage)},uploadFromInt16Array:function(t){Wn.context.bindBuffer(34963,this.glBuffer),Wn.context.bufferData(34963,t,this.bufferUsage)},__class__:Is};var Ss=function(t,e){this.context=t,this.glProgram=e};a["openfl.display3D.Program3D"]=Ss,Ss.__name__=["openfl","display3D","Program3D"],Ss.prototype={context:null,glProgram:null,dispose:function(){this.context.__deleteProgram(this)},upload:function(t,e){if(Wn.context.attachShader(this.glProgram,t),Wn.context.attachShader(this.glProgram,e),Wn.context.linkProgram(this.glProgram),0==Wn.context.getProgramParameter(this.glProgram,35714)){var n=Wn.context.getProgramInfoLog(this.glProgram);if(""!=n)throw new Ee(n)}},__class__:Ss};var Cs=function(t,e,n,i,r){this.context=t,this.glBuffer=e,this.numVertices=n,this.data32PerVertex=i,this.bufferUsage=r};a["openfl.display3D.VertexBuffer3D"]=Cs,Cs.__name__=["openfl","display3D","VertexBuffer3D"],Cs.prototype={context:null,data32PerVertex:null,glBuffer:null,numVertices:null,bufferUsage:null,dispose:function(){this.context.__deleteVertexBuffer(this)},uploadFromByteArray:function(t,e,n,i){var r=4*this.data32PerVertex;Wn.context.bindBuffer(34962,this.glBuffer);var a,s=i*r,l=e+n*r;a=null!=s?new wo(s):null,t.position=l;for(var o=0;t.position<s+l;)a[o]=t.readUnsignedByte(),++o;Wn.context.bufferData(34962,a,this.bufferUsage)},uploadFromFloat32Array:function(t){Wn.context.bindBuffer(34962,this.glBuffer),Wn.context.bufferData(34962,t,this.bufferUsage)},uploadFromVector:function(t,e,n){this.data32PerVertex;Wn.context.bindBuffer(34962,this.glBuffer);var i,r=n*this.data32PerVertex;i=null!=r?new wo(r):null;for(var a=e,s=e+r;a<s;){var l=a++;i[l]=t.data[l]}Wn.context.bufferData(34962,i,this.bufferUsage),i=null},__class__:Cs};var Ms=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),h.call(this),this.context=t,this.width=n,this.height=i,this.glTexture=e};a["openfl.display3D.textures.TextureBase"]=Ms,Ms.__name__=["openfl","display3D","textures","TextureBase"],Ms.__super__=h,Ms.prototype=n(h.prototype,{context:null,height:null,frameBuffer:null,glTexture:null,width:null,dispose:function(){this.context.__deleteTexture(this)},__class__:Ms});var Ds=function(t,e,n){Ms.call(this,t,e,n,n),this.size=n,this.mipmapsGenerated=!1,this._textures=[];for(var i=0;i<6;){var r=i++;this._textures[r]=Wn.context.createTexture()}};a["openfl.display3D.textures.CubeTexture"]=Ds,Ds.__name__=["openfl","display3D","textures","CubeTexture"],Ds.__super__=Ms,Ds.prototype=n(Ms.prototype,{size:null,_textures:null,mipmapsGenerated:null,glTextureAt:function(t){return this._textures[t]},uploadCompressedTextureFromByteArray:function(t,e,n){null==n&&(n=!1)},uploadFromBitmapData:function(t,e,n){null==n&&(n=0);var i=t.image.get_data();switch(Wn.context.bindTexture(34067,this.glTexture),e){case 0:Wn.context.texImage2D(34069,n,6408,t.width,t.height,0,6408,5121,i);break;case 1:Wn.context.texImage2D(34070,n,6408,t.width,t.height,0,6408,5121,i);break;case 2:Wn.context.texImage2D(34071,n,6408,t.width,t.height,0,6408,5121,i);break;case 3:Wn.context.texImage2D(34072,n,6408,t.width,t.height,0,6408,5121,i);break;case 4:Wn.context.texImage2D(34073,n,6408,t.width,t.height,0,6408,5121,i);break;case 5:Wn.context.texImage2D(34074,n,6408,t.width,t.height,0,6408,5121,i);break;default:throw new Ee("unknown side type")}Wn.context.bindTexture(34067,null)},uploadFromByteArray:function(t,e,n,i){null==i&&(i=0)},__class__:Ds});var Ps=function(t,e,n,i,r){this.optimizeForRenderToTexture=n,null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),Ms.call(this,t,e,i,r)};a["openfl.display3D.textures.RectangleTexture"]=Ps,Ps.__name__=["openfl","display3D","textures","RectangleTexture"],Ps.__super__=Ms,Ps.prototype=n(Ms.prototype,{optimizeForRenderToTexture:null,uploadFromBitmapData:function(t,e){null==e&&(e=0);var n=Bl.fromArrayBuffer(t.image.get_data().buffer);this.width=t.width,this.height=t.height,this.uploadFromByteArray(n,0)},uploadFromByteArray:function(t,e){Wn.context.bindTexture(3553,this.glTexture),this.optimizeForRenderToTexture&&Wn.context.pixelStorei(37440,1),Wn.context.texParameteri(3553,10240,9728),Wn.context.texParameteri(3553,10241,9728),Wn.context.texParameteri(3553,10242,33071),Wn.context.texParameteri(3553,10243,33071);var n,i=Bl.get_length(t),r=n=null!=i?new bo(i):null;t.position=e;for(var a=0;t.position<Bl.get_length(t);)r[a]=t.readUnsignedByte(),++a;Wn.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,r),Wn.context.bindTexture(3553,null)},__class__:Ps});var Ls=function(t,e,n,i,r){this.optimizeForRenderToTexture=n,this.mipmapsGenerated=!1,-1==Ls.internalFormat&&(Ls.internalFormat=6408),null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),Ms.call(this,t,e,i,r)};a["openfl.display3D.textures.Texture"]=Ls,Ls.__name__=["openfl","display3D","textures","Texture"],Ls.__super__=Ms,Ls.prototype=n(Ms.prototype,{optimizeForRenderToTexture:null,mipmapsGenerated:null,uploadCompressedTextureFromByteArray:function(t,e,n){null==n&&(n=!1)},uploadFromBitmapData:function(t,e){null==e&&(e=0);var n=t.image;!n.get_premultiplied()&&n.get_transparent()&&(n=n.clone()).set_premultiplied(!0),this.width=n.width,this.height=n.height,this.uploadFromUInt8Array(n.get_data(),e)},uploadFromByteArray:function(t,e,n){null==n&&(n=0);var i,r=Bl.get_length(t),a=i=null!=r?new bo(r):null;t.position=e;for(var s=0;t.position<Bl.get_length(t);)a[s]=t.readUnsignedByte(),++s;this.uploadFromUInt8Array(a,n)},uploadFromUInt8Array:function(t,e){null==e&&(e=0),Wn.context.bindTexture(3553,this.glTexture),this.optimizeForRenderToTexture&&(Wn.context.pixelStorei(37440,1),Wn.context.texParameteri(3553,10240,9728),Wn.context.texParameteri(3553,10241,9728),Wn.context.texParameteri(3553,10242,33071),Wn.context.texParameteri(3553,10243,33071)),Wn.context.texImage2D(3553,e,Ls.internalFormat,this.width,this.height,0,Ls.internalFormat,5121,t),Wn.context.bindTexture(3553,null)},__class__:Ls});var ks=function(t,e){null==e&&(e=0),null==t&&(t=""),this.message=t,this.errorID=e,this.name="Error"};a["openfl.errors.Error"]=ks,ks.__name__=["openfl","errors","Error"],ks.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return ae.toString(ae.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:ks};var Bs=function(t){null==t&&(t=""),ks.call(this,t),this.name="ArgumentError"};a["openfl.errors.ArgumentError"]=Bs,Bs.__name__=["openfl","errors","ArgumentError"],Bs.__super__=ks,Bs.prototype=n(ks.prototype,{__class__:Bs});var Os=function(t){null==t&&(t=""),ks.call(this,t),this.name="IOError"};a["openfl.errors.IOError"]=Os,Os.__name__=["openfl","errors","IOError"],Os.__super__=ks,Os.prototype=n(ks.prototype,{__class__:Os});var Fs=function(){Os.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};a["openfl.errors.EOFError"]=Fs,Fs.__name__=["openfl","errors","EOFError"],Fs.__super__=Os,Fs.prototype=n(Os.prototype,{__class__:Fs});var Ns=function(t){null==t&&(t=""),ks.call(this,t,0),this.name="RangeError"};a["openfl.errors.RangeError"]=Ns,Ns.__name__=["openfl","errors","RangeError"],Ns.__super__=ks,Ns.prototype=n(ks.prototype,{__class__:Ns});var Us=function(t){null==t&&(t=""),ks.call(this,t,0),this.name="TypeError"};a["openfl.errors.TypeError"]=Us,Us.__name__=["openfl","errors","TypeError"],Us.__super__=ks,Us.prototype=n(ks.prototype,{__class__:Us});var Gs=function(t,e,n,i){null==i&&(i=!1),null==n&&(n=!1),null==e&&(e=!1),Nt.call(this,t,e,n),this.activating=i};a["openfl.events.ActivityEvent"]=Gs,Gs.__name__=["openfl","events","ActivityEvent"],Gs.__super__=Nt,Gs.prototype=n(Nt.prototype,{activating:null,clone:function(){var t=new Gs(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:Gs});var Xs=function(t,e,n,i){null==i&&(i=""),null==n&&(n=!1),null==e&&(e=!1),Nt.call(this,t,e,n),this.text=i};a["openfl.events.TextEvent"]=Xs,Xs.__name__=["openfl","events","TextEvent"],Xs.__super__=Nt,Xs.prototype=n(Nt.prototype,{text:null,clone:function(){var t=new Xs(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:Xs});var Ys=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=""),null==n&&(n=!1),null==e&&(e=!1),Xs.call(this,t,e,n,i),this.errorID=r};a["openfl.events.ErrorEvent"]=Ys,Ys.__name__=["openfl","events","ErrorEvent"],Ys.__super__=Xs,Ys.prototype=n(Xs.prototype,{errorID:null,clone:function(){var t=new Ys(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Ys});var Hs=function(t,e,n){this.callback=t,this.useCapture=e,this.priority=n};a["openfl.events._EventDispatcher.Listener"]=Hs,Hs.__name__=["openfl","events","_EventDispatcher","Listener"],Hs.prototype={callback:null,priority:null,useCapture:null,match:function(t,e){return!!D.compareMethods(this.callback,t)&&this.useCapture==e},__class__:Hs};var Vs=function(t,e,n,i,r,a){null==a&&(a=0),null==r&&(r=!1),null==n&&(n=!1),null==e&&(e=!1),Nt.call(this,t,e,n),this.keyCode=a,this.shiftKey=r,this.relatedObject=i};a["openfl.events.FocusEvent"]=Vs,Vs.__name__=["openfl","events","FocusEvent"],Vs.__super__=Nt,Vs.prototype=n(Nt.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var t=new Vs(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__class__:Vs});var Ws=function(t,e,n,i,r){null==r&&(r=!1),null==i&&(i=!1),null==n&&(n=!1),null==e&&(e=!1),Gs.call(this,t,e,n),this.fullScreen=i,this.interactive=r};a["openfl.events.FullScreenEvent"]=Ws,Ws.__name__=["openfl","events","FullScreenEvent"],Ws.__super__=Gs,Ws.prototype=n(Gs.prototype,{fullScreen:null,interactive:null,clone:function(){var t=new Ws(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:Ws});var zs=function(t,e,n,i){null==n&&(n=!1),null==e&&(e=!0),Nt.call(this,t,e,n),this.device=i};a["openfl.events.GameInputEvent"]=zs,zs.__name__=["openfl","events","GameInputEvent"],zs.__super__=Nt,zs.prototype=n(Nt.prototype,{device:null,clone:function(){var t=new zs(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:zs});var js=function(t,e,n,i,r){null==r&&(r=!1),null==i&&(i=0),null==n&&(n=!1),null==e&&(e=!1),this.status=i,this.redirected=r,Nt.call(this,t,e,n)};a["openfl.events.HTTPStatusEvent"]=js,js.__name__=["openfl","events","HTTPStatusEvent"],js.__super__=Nt,js.prototype=n(Nt.prototype,{redirected:null,responseHeaders:null,responseURL:null,status:null,clone:function(){var t=new js(this.type,this.bubbles,null,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:js});var Ks=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=""),null==n&&(n=!1),null==e&&(e=!0),Ys.call(this,t,e,n,i,r)};a["openfl.events.IOErrorEvent"]=Ks,Ks.__name__=["openfl","events","IOErrorEvent"],Ks.__super__=Ys,Ks.prototype=n(Ys.prototype,{clone:function(){var t=new Ks(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Ks});var qs=function(t,e,n,i,r,a,s,l,o,h,_){null==_&&(_=!1),null==h&&(h=!1),null==o&&(o=!1),null==l&&(l=!1),null==s&&(s=!1),null==r&&(r=0),null==i&&(i=0),null==n&&(n=!1),null==e&&(e=!1),Nt.call(this,t,e,n),this.charCode=i,this.keyCode=r,this.keyLocation=null!=a?a:0,this.ctrlKey=s,this.altKey=l,this.shiftKey=o,this.controlKey=h,this.commandKey=_};a["openfl.events.KeyboardEvent"]=qs,qs.__name__=["openfl","events","KeyboardEvent"],qs.__super__=Nt,qs.prototype=n(Nt.prototype,{altKey:null,charCode:null,ctrlKey:null,commandKey:null,controlKey:null,keyCode:null,keyLocation:null,shiftKey:null,clone:function(){var t=new qs(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__class__:qs});var Js=function(t,e,n,i,r,a,s,l,o,h,_,u,c){null==c&&(c=0),null==u&&(u=!1),null==_&&(_=0),null==h&&(h=!1),null==o&&(o=!1),null==l&&(l=!1),null==s&&(s=!1),null==r&&(r=0),null==i&&(i=0),null==n&&(n=!1),null==e&&(e=!0),Nt.call(this,t,e,n),this.shiftKey=o,this.altKey=l,this.ctrlKey=s,this.bubbles=e,this.relatedObject=a,this.delta=_,this.localX=i,this.localY=r,this.buttonDown=h,this.commandKey=u,this.clickCount=c};a["openfl.events.MouseEvent"]=Js,Js.__name__=["openfl","events","MouseEvent"],Js.__altKey=null,Js.__buttonDown=null,Js.__commandKey=null,Js.__ctrlKey=null,Js.__shiftKey=null,Js.__create=function(t,e,n,i,r,a,s){switch(null==s&&(s=0),t){case"mouseDown":Js.__buttonDown=!0;break;case"mouseUp":Js.__buttonDown=!1}var l=new Js(t,!0,!1,r.x,r.y,null,Js.__ctrlKey,Js.__altKey,Js.__shiftKey,Js.__buttonDown,s,Js.__commandKey);return l.stageX=n,l.stageY=i,l.target=a,l},Js.__super__=Nt,Js.prototype=n(Nt.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,clone:function(){var t=new Js(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},__class__:Js});var Zs=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=0),null==n&&(n=!1),null==e&&(e=!1),Nt.call(this,t,e,n),this.bytesLoaded=i,this.bytesTotal=r};a["openfl.events.ProgressEvent"]=Zs,Zs.__name__=["openfl","events","ProgressEvent"],Zs.__super__=Nt,Zs.prototype=n(Nt.prototype,{bytesLoaded:null,bytesTotal:null,clone:function(){var t=new Zs(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:Zs});var Qs=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=""),null==n&&(n=!1),null==e&&(e=!1),Ys.call(this,t,e,n,i,r)};a["openfl.events.SecurityErrorEvent"]=Qs,Qs.__name__=["openfl","events","SecurityErrorEvent"],Qs.__super__=Ys,Qs.prototype=n(Ys.prototype,{clone:function(){var t=new Qs(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Qs});var $s=function(t,e,n,i,r,a,s,l,o,h,_,u,c,d,f,g,p,m,v,x){null==x&&(x=!1),null==p&&(p=0),null==g&&(g=!1),null==f&&(f=!1),null==d&&(d=!1),null==c&&(c=!1),null==u&&(u=!1),null==h&&(h=0),null==o&&(o=0),null==l&&(l=0),null==s&&(s=0),null==a&&(a=0),null==r&&(r=!1),null==i&&(i=0),null==n&&(n=!1),null==e&&(e=!0),Nt.call(this,t,e,n),this.touchPointID=i,this.isPrimaryTouchPoint=r,this.localX=a,this.localY=s,this.sizeX=l,this.sizeY=o,this.pressure=h,this.relatedObject=_,this.ctrlKey=u,this.altKey=c,this.shiftKey=d,this.commandKey=f,this.controlKey=g};a["openfl.events.TouchEvent"]=$s,$s.__name__=["openfl","events","TouchEvent"],$s.__create=function(t,e,n,i,r,a){var s=new $s(t,!0,!1,0,!0,r.x,r.y,1,1,1);return s.stageX=n,s.stageY=i,s.target=a,s},$s.__super__=Nt,$s.prototype=n(Nt.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,clone:function(){var t=new $s(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__class__:$s});var tl=function(){this.__saveLastFilter=!1,this.__passes=0,this.__dirty=!0};a["openfl.filters.BitmapFilter"]=tl,tl.__name__=["openfl","filters","BitmapFilter"],tl.__tmpRenderTexture=null,tl.__applyFilters=function(t,e,n,i,r,a){var s=i==n&&i.__usingPingPongTexture;s&&(i.__pingPongTexture.useOldTexture=!0),null==r&&(r=n.rect);for(var l=null,o=!1,h=n.__shader,_=0;_<t.length;){var u=t[_];if(++_,o=!1,u.__saveLastFilter){i.__pingPongTexture.swap(),i.__drawGL(e,n,null,null,null,r,!0,!i.__usingPingPongTexture,!0);var c=i.__pingPongTexture;l=c.__swapped?c.__texture0:c.__texture1;var d=i.__pingPongTexture,f=tl.__tmpRenderTexture;d.__swapped?d.__texture0=f:d.__texture1=f}for(var g=0,p=u.__passes;g<p;){var m=g++;if(o=!!u.__saveLastFilter&&u.__useLastFilter(m),s&&!o&&i.__pingPongTexture.swap(),o){var v=i.__pingPongTexture;tl.__tmpRenderTexture=v.__swapped?v.__texture0:v.__texture1;var x=i.__pingPongTexture;x.__swapped?x.__texture0=l:x.__texture1=l}n.__shader=u.__preparePass(m),i.__drawGL(e,n,null,null,null,r,!0,!i.__usingPingPongTexture,!o)}}n.__shader=h,s&&(i.__pingPongTexture.useOldTexture=!1)},tl.__expandBounds=function(t,e,n){var i=z.__temp;i.setEmpty();for(var r=0;r<t.length;){var a=t[r];++r,a.__growBounds(i)}i.__transform(i,n),e.__expand(i.x,i.y,i.width,i.height)},tl.prototype={__dirty:null,__passes:null,__saveLastFilter:null,clone:function(){return new tl},__applyFilter:function(t,e,n,i){},__growBounds:function(t){},__preparePass:function(t){return null},__useLastFilter:function(t){return!1},__class__:tl};var el=function(t){if(null!=t&&16==t.length)this.rawData=t;else{var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n=new Qi;n.length=e.length,n.fixed=!0,n.data=e.slice(0),this.rawData=n}};a["openfl.geom.Matrix3D"]=el,el.__name__=["openfl","geom","Matrix3D"],el.create2D=function(t,e,n,i){null==i&&(i=0),null==n&&(n=1);var r=i*Math.PI/180,a=Math.cos(r),s=Math.sin(r),l=[a*n,-s*n,0,0,s*n,a*n,0,0,0,0,1,0,t,e,0,1],o=new Qi;return o.length=l.length,o.fixed=!0,o.data=l.slice(0),new el(o)},el.createABCD=function(t,e,n,i,r,a){var s=[t,e,0,0,n,i,0,0,0,0,1,0,r,a,0,1],l=new Qi;return l.length=s.length,l.fixed=!0,l.data=s.slice(0),new el(l)},el.createOrtho=function(t,e,n,i,r,a){var s=1/(e-t),l=1/(i-n),o=1/(a-r),h=[2*s,0,0,0,0,2*l,0,0,0,0,-2*o,0,-(t+e)*s,-(n+i)*l,-(r+a)*o,1],_=new Qi;return _.length=h.length,_.fixed=!0,_.data=h.slice(0),new el(_)},el.interpolate=function(t,e,n){for(var i=new el,r=0;r<16;){var a=r++,s=i.rawData,l=t.rawData.data[a]+(e.rawData.data[a]-t.rawData.data[a])*n;if(!s.fixed&&(a>=s.length&&(s.length=a+1),s.data.length<s.length)){var o=s.data.length+10,h=new Array(o);pe.blit(s.data,0,h,0,s.data.length),s.data=h}s.data[a]=l}return i},el.__getAxisRotation=function(t,e,n,i){var r=new el,a=new rl(t,e,n),s=-i*(Math.PI/180),l=Math.cos(s),o=Math.sin(s),h=1-l,_=r.rawData,u=l+a.x*a.x*h;if(!_.fixed&&(0>=_.length&&(_.length=1),_.data.length<_.length)){var c=_.data.length+10,d=new Array(c);pe.blit(_.data,0,d,0,_.data.length),_.data=d}_.data[0]=u;var f=r.rawData,g=l+a.y*a.y*h;if(!f.fixed&&(5>=f.length&&(f.length=6),f.data.length<f.length)){var p=f.data.length+10,m=new Array(p);pe.blit(f.data,0,m,0,f.data.length),f.data=m}f.data[5]=g;var v=r.rawData,x=l+a.z*a.z*h;if(!v.fixed&&(10>=v.length&&(v.length=11),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);pe.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[10]=x;var b=a.x*a.y*h,T=a.z*o,E=r.rawData;if(!E.fixed&&(4>=E.length&&(E.length=5),E.data.length<E.length)){var R=E.data.length+10,A=new Array(R);pe.blit(E.data,0,A,0,E.data.length),E.data=A}E.data[4]=b+T;var I=r.rawData;if(!I.fixed&&(1>=I.length&&(I.length=2),I.data.length<I.length)){var S=I.data.length+10,C=new Array(S);pe.blit(I.data,0,C,0,I.data.length),I.data=C}I.data[1]=b-T,b=a.x*a.z*h,T=a.y*o;var M=r.rawData;if(!M.fixed&&(8>=M.length&&(M.length=9),M.data.length<M.length)){var D=M.data.length+10,P=new Array(D);pe.blit(M.data,0,P,0,M.data.length),M.data=P}M.data[8]=b-T;var L=r.rawData;if(!L.fixed&&(2>=L.length&&(L.length=3),L.data.length<L.length)){var k=L.data.length+10,B=new Array(k);pe.blit(L.data,0,B,0,L.data.length),L.data=B}L.data[2]=b+T,b=a.y*a.z*h,T=a.x*o;var O=r.rawData;if(!O.fixed&&(9>=O.length&&(O.length=10),O.data.length<O.length)){var F=O.data.length+10,N=new Array(F);pe.blit(O.data,0,N,0,O.data.length),O.data=N}O.data[9]=b+T;var U=r.rawData;if(!U.fixed&&(6>=U.length&&(U.length=7),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);pe.blit(U.data,0,X,0,U.data.length),U.data=X}return U.data[6]=b-T,r},el.prototype={determinant:null,rawData:null,append:function(t){var e=this.rawData.data[0],n=this.rawData.data[4],i=this.rawData.data[8],r=this.rawData.data[12],a=this.rawData.data[1],s=this.rawData.data[5],l=this.rawData.data[9],o=this.rawData.data[13],h=this.rawData.data[2],_=this.rawData.data[6],u=this.rawData.data[10],c=this.rawData.data[14],d=this.rawData.data[3],f=this.rawData.data[7],g=this.rawData.data[11],p=this.rawData.data[15],m=t.rawData.data[0],v=t.rawData.data[4],x=t.rawData.data[8],y=t.rawData.data[12],w=t.rawData.data[1],b=t.rawData.data[5],T=t.rawData.data[9],E=t.rawData.data[13],R=t.rawData.data[2],A=t.rawData.data[6],I=t.rawData.data[10],S=t.rawData.data[14],C=t.rawData.data[3],M=t.rawData.data[7],D=t.rawData.data[11],P=t.rawData.data[15],L=this.rawData;if(!L.fixed&&(0>=L.length&&(L.length=1),L.data.length<L.length)){var k=L.data.length+10,B=new Array(k);pe.blit(L.data,0,B,0,L.data.length),L.data=B}L.data[0]=e*m+a*v+h*x+d*y;var O=this.rawData;if(!O.fixed&&(1>=O.length&&(O.length=2),O.data.length<O.length)){var F=O.data.length+10,N=new Array(F);pe.blit(O.data,0,N,0,O.data.length),O.data=N}O.data[1]=e*w+a*b+h*T+d*E;var U=this.rawData;if(!U.fixed&&(2>=U.length&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);pe.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*R+a*A+h*I+d*S;var Y=this.rawData;if(!Y.fixed&&(3>=Y.length&&(Y.length=4),Y.data.length<Y.length)){var H=Y.data.length+10,V=new Array(H);pe.blit(Y.data,0,V,0,Y.data.length),Y.data=V}Y.data[3]=e*C+a*M+h*D+d*P;var W=this.rawData;if(!W.fixed&&(4>=W.length&&(W.length=5),W.data.length<W.length)){var z=W.data.length+10,j=new Array(z);pe.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[4]=n*m+s*v+_*x+f*y;var K=this.rawData;if(!K.fixed&&(5>=K.length&&(K.length=6),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);pe.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[5]=n*w+s*b+_*T+f*E;var Z=this.rawData;if(!Z.fixed&&(6>=Z.length&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);pe.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=n*R+s*A+_*I+f*S;var tt=this.rawData;if(!tt.fixed&&(7>=tt.length&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,nt=new Array(et);pe.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[7]=n*C+s*M+_*D+f*P;var it=this.rawData;if(!it.fixed&&(8>=it.length&&(it.length=9),it.data.length<it.length)){var rt=it.data.length+10,at=new Array(rt);pe.blit(it.data,0,at,0,it.data.length),it.data=at}it.data[8]=i*m+l*v+u*x+g*y;var st=this.rawData;if(!st.fixed&&(9>=st.length&&(st.length=10),st.data.length<st.length)){var lt=st.data.length+10,ot=new Array(lt);pe.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[9]=i*w+l*b+u*T+g*E;var ht=this.rawData;if(!ht.fixed&&(10>=ht.length&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);pe.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=i*R+l*A+u*I+g*S;var ct=this.rawData;if(!ct.fixed&&(11>=ct.length&&(ct.length=12),ct.data.length<ct.length)){var dt=ct.data.length+10,ft=new Array(dt);pe.blit(ct.data,0,ft,0,ct.data.length),ct.data=ft}ct.data[11]=i*C+l*M+u*D+g*P;var gt=this.rawData;if(!gt.fixed&&(12>=gt.length&&(gt.length=13),gt.data.length<gt.length)){var pt=gt.data.length+10,mt=new Array(pt);pe.blit(gt.data,0,mt,0,gt.data.length),gt.data=mt}gt.data[12]=r*m+o*v+c*x+p*y;var vt=this.rawData;if(!vt.fixed&&(13>=vt.length&&(vt.length=14),vt.data.length<vt.length)){var xt=vt.data.length+10,yt=new Array(xt);pe.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=r*w+o*b+c*T+p*E;var wt=this.rawData;if(!wt.fixed&&(14>=wt.length&&(wt.length=15),wt.data.length<wt.length)){var bt=wt.data.length+10,Tt=new Array(bt);pe.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=r*R+o*A+c*I+p*S;var Et=this.rawData;if(!Et.fixed&&(15>=Et.length&&(Et.length=16),Et.data.length<Et.length)){var Rt=Et.data.length+10,At=new Array(Rt);pe.blit(Et.data,0,At,0,Et.data.length),Et.data=At}Et.data[15]=r*C+o*M+c*D+p*P},appendRotation:function(t,e,n){var i=el.__getAxisRotation(e.x,e.y,e.z,t);if(null!=n){var r=n;i.appendTranslation(r.x,r.y,r.z)}this.append(i)},appendScale:function(t,e,n){var i=[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1],r=new Qi;r.length=i.length,r.fixed=!0,r.data=i.slice(0),this.append(new el(r))},appendTranslation:function(t,e,n){var i=this.rawData,r=i.data[12]+t;if(!i.fixed&&(12>=i.length&&(i.length=13),i.data.length<i.length)){var a=i.data.length+10,s=new Array(a);pe.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[12]=r;var l=this.rawData,o=l.data[13]+e;if(!l.fixed&&(13>=l.length&&(l.length=14),l.data.length<l.length)){var h=l.data.length+10,_=new Array(h);pe.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[13]=o;var u=this.rawData,c=u.data[14]+n;if(!u.fixed&&(14>=u.length&&(u.length=15),u.data.length<u.length)){var d=u.data.length+10,f=new Array(d);pe.blit(u.data,0,f,0,u.data.length),u.data=f}u.data[14]=c},clone:function(){var t=this.rawData,e=new Qi;e.length=t.length,e.fixed=t.fixed;var n=t.length,i=new Array(n);return e.data=i,pe.blit(t.data,0,e.data,0,t.length),new el(e)},copyColumnFrom:function(t,e){switch(t){case 0:var n=this.rawData,i=e.x;if(!n.fixed&&(0>=n.length&&(n.length=1),n.data.length<n.length)){var r=n.data.length+10,a=new Array(r);pe.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[0]=i;var s=this.rawData,l=e.y;if(!s.fixed&&(1>=s.length&&(s.length=2),s.data.length<s.length)){var o=s.data.length+10,h=new Array(o);pe.blit(s.data,0,h,0,s.data.length),s.data=h}s.data[1]=l;var _=this.rawData,u=e.z;if(!_.fixed&&(2>=_.length&&(_.length=3),_.data.length<_.length)){var c=_.data.length+10,d=new Array(c);pe.blit(_.data,0,d,0,_.data.length),_.data=d}_.data[2]=u;var f=this.rawData,g=e.w;if(!f.fixed&&(3>=f.length&&(f.length=4),f.data.length<f.length)){var p=f.data.length+10,m=new Array(p);pe.blit(f.data,0,m,0,f.data.length),f.data=m}f.data[3]=g;break;case 1:var v=this.rawData,x=e.x;if(!v.fixed&&(4>=v.length&&(v.length=5),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);pe.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[4]=x;var b=this.rawData,T=e.y;if(!b.fixed&&(5>=b.length&&(b.length=6),b.data.length<b.length)){var E=b.data.length+10,R=new Array(E);pe.blit(b.data,0,R,0,b.data.length),b.data=R}b.data[5]=T;var A=this.rawData,I=e.z;if(!A.fixed&&(6>=A.length&&(A.length=7),A.data.length<A.length)){var S=A.data.length+10,C=new Array(S);pe.blit(A.data,0,C,0,A.data.length),A.data=C}A.data[6]=I;var M=this.rawData,D=e.w;if(!M.fixed&&(7>=M.length&&(M.length=8),M.data.length<M.length)){var P=M.data.length+10,L=new Array(P);pe.blit(M.data,0,L,0,M.data.length),M.data=L}M.data[7]=D;break;case 2:var k=this.rawData,B=e.x;if(!k.fixed&&(8>=k.length&&(k.length=9),k.data.length<k.length)){var O=k.data.length+10,F=new Array(O);pe.blit(k.data,0,F,0,k.data.length),k.data=F}k.data[8]=B;var N=this.rawData,U=e.y;if(!N.fixed&&(9>=N.length&&(N.length=10),N.data.length<N.length)){var G=N.data.length+10,X=new Array(G);pe.blit(N.data,0,X,0,N.data.length),N.data=X}N.data[9]=U;var Y=this.rawData,H=e.z;if(!Y.fixed&&(10>=Y.length&&(Y.length=11),Y.data.length<Y.length)){var V=Y.data.length+10,W=new Array(V);pe.blit(Y.data,0,W,0,Y.data.length),Y.data=W}Y.data[10]=H;var z=this.rawData,j=e.w;if(!z.fixed&&(11>=z.length&&(z.length=12),z.data.length<z.length)){var K=z.data.length+10,q=new Array(K);pe.blit(z.data,0,q,0,z.data.length),z.data=q}z.data[11]=j;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(12>=J.length&&(J.length=13),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);pe.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[12]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(13>=tt.length&&(tt.length=14),tt.data.length<tt.length)){var nt=tt.data.length+10,it=new Array(nt);pe.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[13]=et;var rt=this.rawData,at=e.z;if(!rt.fixed&&(14>=rt.length&&(rt.length=15),rt.data.length<rt.length)){var st=rt.data.length+10,lt=new Array(st);pe.blit(rt.data,0,lt,0,rt.data.length),rt.data=lt}rt.data[14]=at;var ot=this.rawData,ht=e.w;if(!ot.fixed&&(15>=ot.length&&(ot.length=16),ot.data.length<ot.length)){var _t=ot.data.length+10,ut=new Array(_t);pe.blit(ot.data,0,ut,0,ot.data.length),ot.data=ut}ot.data[15]=ht}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[1],e.z=this.rawData.data[2],e.w=this.rawData.data[3];break;case 1:e.x=this.rawData.data[4],e.y=this.rawData.data[5],e.z=this.rawData.data[6],e.w=this.rawData.data[7];break;case 2:e.x=this.rawData.data[8],e.y=this.rawData.data[9],e.z=this.rawData.data[10],e.w=this.rawData.data[11];break;case 3:e.x=this.rawData.data[12],e.y=this.rawData.data[13],e.z=this.rawData.data[14],e.w=this.rawData.data[15]}},copyFrom:function(t){var e=t.rawData,n=new Qi;n.length=e.length,n.fixed=e.fixed;var i=e.length,r=new Array(i);n.data=r,pe.blit(e.data,0,n.data,0,e.length),this.rawData=n},copyRawDataFrom:function(t,e,n){null==n&&(n=!1),null==e&&(e=0),n&&this.transpose();for(var i=0,r=t.length-e;i<r;){var a=i++,s=this.rawData,l=t.data[a+e];if(!s.fixed&&(a>=s.length&&(s.length=a+1),s.data.length<s.length)){var o=s.data.length+10,h=new Array(o);pe.blit(s.data,0,h,0,s.data.length),s.data=h}s.data[a]=l}n&&this.transpose()},copyRawDataTo:function(t,e,n){null==n&&(n=!1),null==e&&(e=0),n&&this.transpose();for(var i=0,r=this.rawData.length;i<r;){var a=i++,s=a+e,l=this.rawData.data[a];if(!t.fixed&&(s>=t.length&&(t.length=s+1),t.data.length<t.length)){var o=t.data.length+10,h=new Array(o);pe.blit(t.data,0,h,0,t.data.length),t.data=h}t.data[s]=l}n&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:var n=this.rawData,i=e.x;if(!n.fixed&&(0>=n.length&&(n.length=1),n.data.length<n.length)){var r=n.data.length+10,a=new Array(r);pe.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[0]=i;var s=this.rawData,l=e.y;if(!s.fixed&&(4>=s.length&&(s.length=5),s.data.length<s.length)){var o=s.data.length+10,h=new Array(o);pe.blit(s.data,0,h,0,s.data.length),s.data=h}s.data[4]=l;var _=this.rawData,u=e.z;if(!_.fixed&&(8>=_.length&&(_.length=9),_.data.length<_.length)){var c=_.data.length+10,d=new Array(c);pe.blit(_.data,0,d,0,_.data.length),_.data=d}_.data[8]=u;var f=this.rawData,g=e.w;if(!f.fixed&&(12>=f.length&&(f.length=13),f.data.length<f.length)){var p=f.data.length+10,m=new Array(p);pe.blit(f.data,0,m,0,f.data.length),f.data=m}f.data[12]=g;break;case 1:var v=this.rawData,x=e.x;if(!v.fixed&&(1>=v.length&&(v.length=2),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);pe.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[1]=x;var b=this.rawData,T=e.y;if(!b.fixed&&(5>=b.length&&(b.length=6),b.data.length<b.length)){var E=b.data.length+10,R=new Array(E);pe.blit(b.data,0,R,0,b.data.length),b.data=R}b.data[5]=T;var A=this.rawData,I=e.z;if(!A.fixed&&(9>=A.length&&(A.length=10),A.data.length<A.length)){var S=A.data.length+10,C=new Array(S);pe.blit(A.data,0,C,0,A.data.length),A.data=C}A.data[9]=I;var M=this.rawData,D=e.w;if(!M.fixed&&(13>=M.length&&(M.length=14),M.data.length<M.length)){var P=M.data.length+10,L=new Array(P);pe.blit(M.data,0,L,0,M.data.length),M.data=L}M.data[13]=D;break;case 2:var k=this.rawData,B=e.x;if(!k.fixed&&(2>=k.length&&(k.length=3),k.data.length<k.length)){var O=k.data.length+10,F=new Array(O);pe.blit(k.data,0,F,0,k.data.length),k.data=F}k.data[2]=B;var N=this.rawData,U=e.y;if(!N.fixed&&(6>=N.length&&(N.length=7),N.data.length<N.length)){var G=N.data.length+10,X=new Array(G);pe.blit(N.data,0,X,0,N.data.length),N.data=X}N.data[6]=U;var Y=this.rawData,H=e.z;if(!Y.fixed&&(10>=Y.length&&(Y.length=11),Y.data.length<Y.length)){var V=Y.data.length+10,W=new Array(V);pe.blit(Y.data,0,W,0,Y.data.length),Y.data=W}Y.data[10]=H;var z=this.rawData,j=e.w;if(!z.fixed&&(14>=z.length&&(z.length=15),z.data.length<z.length)){var K=z.data.length+10,q=new Array(K);pe.blit(z.data,0,q,0,z.data.length),z.data=q}z.data[14]=j;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(3>=J.length&&(J.length=4),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);pe.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[3]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(7>=tt.length&&(tt.length=8),tt.data.length<tt.length)){var nt=tt.data.length+10,it=new Array(nt);pe.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=et;var rt=this.rawData,at=e.z;if(!rt.fixed&&(11>=rt.length&&(rt.length=12),rt.data.length<rt.length)){var st=rt.data.length+10,lt=new Array(st);pe.blit(rt.data,0,lt,0,rt.data.length),rt.data=lt}rt.data[11]=at;var ot=this.rawData,ht=e.w;if(!ot.fixed&&(15>=ot.length&&(ot.length=16),ot.data.length<ot.length)){var _t=ot.data.length+10,ut=new Array(_t);pe.blit(ot.data,0,ut,0,ot.data.length),ot.data=ut}ot.data[15]=ht}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[4],e.z=this.rawData.data[8],e.w=this.rawData.data[12];break;case 1:e.x=this.rawData.data[1],e.y=this.rawData.data[5],e.z=this.rawData.data[9],e.w=this.rawData.data[13];break;case 2:e.x=this.rawData.data[2],e.y=this.rawData.data[6],e.z=this.rawData.data[10],e.w=this.rawData.data[14];break;case 3:e.x=this.rawData.data[3],e.y=this.rawData.data[7],e.z=this.rawData.data[11],e.w=this.rawData.data[15]}},copyToMatrix3D:function(t){var e=this.rawData,n=new Qi;n.length=e.length,n.fixed=e.fixed;var i=e.length,r=new Array(i);n.data=r,pe.blit(e.data,0,n.data,0,e.length),t.rawData=n},decompose:function(t){null==t&&(t=1);var e=new Qi,n=new Array(0);e.data=n,e.length=0,e.fixed=!1;var i=e,r=this.clone().rawData,a=new Qi;a.length=r.length,a.fixed=r.fixed;var s=r.length,l=new Array(s);a.data=l,pe.blit(r.data,0,a.data,0,r.length);var o=a,h=new rl(o.data[12],o.data[13],o.data[14]);if(!o.fixed&&(12>=o.length&&(o.length=13),o.data.length<o.length)){var _=o.data.length+10,u=new Array(_);pe.blit(o.data,0,u,0,o.data.length),o.data=u}if(o.data[12]=0,!o.fixed&&(13>=o.length&&(o.length=14),o.data.length<o.length)){var c=o.data.length+10,d=new Array(c);pe.blit(o.data,0,d,0,o.data.length),o.data=d}if(o.data[13]=0,!o.fixed&&(14>=o.length&&(o.length=15),o.data.length<o.length)){var f=o.data.length+10,g=new Array(f);pe.blit(o.data,0,g,0,o.data.length),o.data=g}o.data[14]=0;var p=new rl;p.x=Math.sqrt(o.data[0]*o.data[0]+o.data[1]*o.data[1]+o.data[2]*o.data[2]),p.y=Math.sqrt(o.data[4]*o.data[4]+o.data[5]*o.data[5]+o.data[6]*o.data[6]),p.z=Math.sqrt(o.data[8]*o.data[8]+o.data[9]*o.data[9]+o.data[10]*o.data[10]),o.data[0]*(o.data[5]*o.data[10]-o.data[6]*o.data[9])-o.data[1]*(o.data[4]*o.data[10]-o.data[6]*o.data[8])+o.data[2]*(o.data[4]*o.data[9]-o.data[5]*o.data[8])<0&&(p.z=-p.z);var m=o,v=m.data[0]/p.x;if(!m.fixed&&(0>=m.length&&(m.length=1),m.data.length<m.length)){var x=m.data.length+10,y=new Array(x);pe.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[0]=v;var w=o,b=w.data[1]/p.x;if(!w.fixed&&(1>=w.length&&(w.length=2),w.data.length<w.length)){var T=w.data.length+10,E=new Array(T);pe.blit(w.data,0,E,0,w.data.length),w.data=E}w.data[1]=b;var R=o,A=R.data[2]/p.x;if(!R.fixed&&(2>=R.length&&(R.length=3),R.data.length<R.length)){var I=R.data.length+10,S=new Array(I);pe.blit(R.data,0,S,0,R.data.length),R.data=S}R.data[2]=A;var C=o,M=C.data[4]/p.y;if(!C.fixed&&(4>=C.length&&(C.length=5),C.data.length<C.length)){var D=C.data.length+10,P=new Array(D);pe.blit(C.data,0,P,0,C.data.length),C.data=P}C.data[4]=M;var L=o,k=L.data[5]/p.y;if(!L.fixed&&(5>=L.length&&(L.length=6),L.data.length<L.length)){var B=L.data.length+10,O=new Array(B);pe.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[5]=k;var F=o,N=F.data[6]/p.y;if(!F.fixed&&(6>=F.length&&(F.length=7),F.data.length<F.length)){var U=F.data.length+10,G=new Array(U);pe.blit(F.data,0,G,0,F.data.length),F.data=G}F.data[6]=N;var X=o,Y=X.data[8]/p.z;if(!X.fixed&&(8>=X.length&&(X.length=9),X.data.length<X.length)){var H=X.data.length+10,V=new Array(H);pe.blit(X.data,0,V,0,X.data.length),X.data=V}X.data[8]=Y;var W=o,z=W.data[9]/p.z;if(!W.fixed&&(9>=W.length&&(W.length=10),W.data.length<W.length)){var j=W.data.length+10,K=new Array(j);pe.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[9]=z;var q=o,J=q.data[10]/p.z;if(!q.fixed&&(10>=q.length&&(q.length=11),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);pe.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[10]=J;var $=new rl;switch(t){case 0:$.w=Math.acos((o.data[0]+o.data[5]+o.data[10]-1)/2);var tt=Math.sqrt((o.data[6]-o.data[9])*(o.data[6]-o.data[9])+(o.data[8]-o.data[2])*(o.data[8]-o.data[2])+(o.data[1]-o.data[4])*(o.data[1]-o.data[4]));0!=tt?($.x=(o.data[6]-o.data[9])/tt,$.y=(o.data[8]-o.data[2])/tt,$.z=(o.data[1]-o.data[4])/tt):$.x=$.y=$.z=0;break;case 1:$.y=Math.asin(-o.data[2]),1!=o.data[2]&&-1!=o.data[2]?($.x=Math.atan2(o.data[6],o.data[10]),$.z=Math.atan2(o.data[1],o.data[0])):($.z=0,$.x=Math.atan2(o.data[4],o.data[5]));break;case 2:var et=o.data[0]+o.data[5]+o.data[10];et>0?($.w=Math.sqrt(1+et)/2,$.x=(o.data[6]-o.data[9])/(4*$.w),$.y=(o.data[8]-o.data[2])/(4*$.w),$.z=(o.data[1]-o.data[4])/(4*$.w)):o.data[0]>o.data[5]&&o.data[0]>o.data[10]?($.x=Math.sqrt(1+o.data[0]-o.data[5]-o.data[10])/2,$.w=(o.data[6]-o.data[9])/(4*$.x),$.y=(o.data[1]+o.data[4])/(4*$.x),$.z=(o.data[8]+o.data[2])/(4*$.x)):o.data[5]>o.data[10]?($.y=Math.sqrt(1+o.data[5]-o.data[0]-o.data[10])/2,$.x=(o.data[1]+o.data[4])/(4*$.y),$.w=(o.data[8]-o.data[2])/(4*$.y),$.z=(o.data[6]+o.data[9])/(4*$.y)):($.z=Math.sqrt(1+o.data[10]-o.data[0]-o.data[5])/2,$.x=(o.data[8]+o.data[2])/(4*$.z),$.y=(o.data[6]+o.data[9])/(4*$.z),$.w=(o.data[1]-o.data[4])/(4*$.z))}if(!i.fixed){if(i.length++,i.data.length<i.length){var nt=i.data.length+10,it=new Array(nt);pe.blit(i.data,0,it,0,i.data.length),i.data=it}i.data[i.length-1]=h}if(!i.fixed){if(i.length++,i.data.length<i.length){var rt=i.data.length+10,at=new Array(rt);pe.blit(i.data,0,at,0,i.data.length),i.data=at}i.data[i.length-1]=$}if(!i.fixed){if(i.length++,i.data.length<i.length){var st=i.data.length+10,lt=new Array(st);pe.blit(i.data,0,lt,0,i.data.length),i.data=lt}i.data[i.length-1]=p}return i},deltaTransformVector:function(t){var e=t.x,n=t.y,i=t.z;return new rl(e*this.rawData.data[0]+n*this.rawData.data[4]+i*this.rawData.data[8]+this.rawData.data[3],e*this.rawData.data[1]+n*this.rawData.data[5]+i*this.rawData.data[9]+this.rawData.data[7],e*this.rawData.data[2]+n*this.rawData.data[6]+i*this.rawData.data[10]+this.rawData.data[11],0)},identity:function(){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e=new Qi;e.length=t.length,e.fixed=!0,e.data=t.slice(0),this.rawData=e},interpolateTo:function(t,e){for(var n=0;n<16;){var i=n++,r=this.rawData,a=this.rawData.data[i]+(t.rawData.data[i]-this.rawData.data[i])*e;if(!r.fixed&&(i>=r.length&&(r.length=i+1),r.data.length<r.length)){var s=r.data.length+10,l=new Array(s);pe.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[i]=a}},invert:function(){var t=this.get_determinant(),e=Math.abs(t)>1e-11;if(e){t=1/t;var n=this.rawData.data[0],i=this.rawData.data[4],r=this.rawData.data[8],a=this.rawData.data[12],s=this.rawData.data[1],l=this.rawData.data[5],o=this.rawData.data[9],h=this.rawData.data[13],_=this.rawData.data[2],u=this.rawData.data[6],c=this.rawData.data[10],d=this.rawData.data[14],f=this.rawData.data[3],g=this.rawData.data[7],p=this.rawData.data[11],m=this.rawData.data[15],v=this.rawData;if(!v.fixed&&(0>=v.length&&(v.length=1),v.data.length<v.length)){var x=v.data.length+10,y=new Array(x);pe.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[0]=t*(l*(c*m-d*p)-o*(u*m-d*g)+h*(u*p-c*g));var w=this.rawData;if(!w.fixed&&(1>=w.length&&(w.length=2),w.data.length<w.length)){var b=w.data.length+10,T=new Array(b);pe.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[1]=-t*(s*(c*m-d*p)-o*(_*m-d*f)+h*(_*p-c*f));var E=this.rawData;if(!E.fixed&&(2>=E.length&&(E.length=3),E.data.length<E.length)){var R=E.data.length+10,A=new Array(R);pe.blit(E.data,0,A,0,E.data.length),E.data=A}E.data[2]=t*(s*(u*m-d*g)-l*(_*m-d*f)+h*(_*g-u*f));var I=this.rawData;if(!I.fixed&&(3>=I.length&&(I.length=4),I.data.length<I.length)){var S=I.data.length+10,C=new Array(S);pe.blit(I.data,0,C,0,I.data.length),I.data=C}I.data[3]=-t*(s*(u*p-c*g)-l*(_*p-c*f)+o*(_*g-u*f));var M=this.rawData;if(!M.fixed&&(4>=M.length&&(M.length=5),M.data.length<M.length)){var D=M.data.length+10,P=new Array(D);pe.blit(M.data,0,P,0,M.data.length),M.data=P}M.data[4]=-t*(i*(c*m-d*p)-r*(u*m-d*g)+a*(u*p-c*g));var L=this.rawData;if(!L.fixed&&(5>=L.length&&(L.length=6),L.data.length<L.length)){var k=L.data.length+10,B=new Array(k);pe.blit(L.data,0,B,0,L.data.length),L.data=B}L.data[5]=t*(n*(c*m-d*p)-r*(_*m-d*f)+a*(_*p-c*f));var O=this.rawData;if(!O.fixed&&(6>=O.length&&(O.length=7),O.data.length<O.length)){var F=O.data.length+10,N=new Array(F);pe.blit(O.data,0,N,0,O.data.length),O.data=N}O.data[6]=-t*(n*(u*m-d*g)-i*(_*m-d*f)+a*(_*g-u*f));var U=this.rawData;if(!U.fixed&&(7>=U.length&&(U.length=8),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);pe.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[7]=t*(n*(u*p-c*g)-i*(_*p-c*f)+r*(_*g-u*f));var Y=this.rawData;if(!Y.fixed&&(8>=Y.length&&(Y.length=9),Y.data.length<Y.length)){var H=Y.data.length+10,V=new Array(H);pe.blit(Y.data,0,V,0,Y.data.length),Y.data=V}Y.data[8]=t*(i*(o*m-h*p)-r*(l*m-h*g)+a*(l*p-o*g));var W=this.rawData;if(!W.fixed&&(9>=W.length&&(W.length=10),W.data.length<W.length)){var z=W.data.length+10,j=new Array(z);pe.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[9]=-t*(n*(o*m-h*p)-r*(s*m-h*f)+a*(s*p-o*f));var K=this.rawData;if(!K.fixed&&(10>=K.length&&(K.length=11),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);pe.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[10]=t*(n*(l*m-h*g)-i*(s*m-h*f)+a*(s*g-l*f));var Z=this.rawData;if(!Z.fixed&&(11>=Z.length&&(Z.length=12),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);pe.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[11]=-t*(n*(l*p-o*g)-i*(s*p-o*f)+r*(s*g-l*f));var tt=this.rawData;if(!tt.fixed&&(12>=tt.length&&(tt.length=13),tt.data.length<tt.length)){var et=tt.data.length+10,nt=new Array(et);pe.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[12]=-t*(i*(o*d-h*c)-r*(l*d-h*u)+a*(l*c-o*u));var it=this.rawData;if(!it.fixed&&(13>=it.length&&(it.length=14),it.data.length<it.length)){var rt=it.data.length+10,at=new Array(rt);pe.blit(it.data,0,at,0,it.data.length),it.data=at}it.data[13]=t*(n*(o*d-h*c)-r*(s*d-h*_)+a*(s*c-o*_));var st=this.rawData;if(!st.fixed&&(14>=st.length&&(st.length=15),st.data.length<st.length)){var lt=st.data.length+10,ot=new Array(lt);pe.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[14]=-t*(n*(l*d-h*u)-i*(s*d-h*_)+a*(s*u-l*_));var ht=this.rawData;if(!ht.fixed&&(15>=ht.length&&(ht.length=16),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);pe.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[15]=t*(n*(l*c-o*u)-i*(s*c-o*_)+r*(s*u-l*_))}return e},pointAt:function(t,e,n){null==e&&(e=new rl(0,0,-1)),null==n&&(n=new rl(0,-1,0));var i,r=e.subtract(t),a=n.clone();r.normalize(),a.normalize();var s=r.clone();s.scaleBy(a.dotProduct(r)),(a=a.subtract(s)).get_length()>0?a.normalize():a=0!=r.x?new rl(-r.y,r.x,0):new rl(1,0,0),(i=a.crossProduct(r)).normalize();var l=this.rawData,o=i.x;if(!l.fixed&&(0>=l.length&&(l.length=1),l.data.length<l.length)){var h=l.data.length+10,_=new Array(h);pe.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[0]=o;var u=this.rawData,c=i.y;if(!u.fixed&&(4>=u.length&&(u.length=5),u.data.length<u.length)){var d=u.data.length+10,f=new Array(d);pe.blit(u.data,0,f,0,u.data.length),u.data=f}u.data[4]=c;var g=this.rawData,p=i.z;if(!g.fixed&&(8>=g.length&&(g.length=9),g.data.length<g.length)){var m=g.data.length+10,v=new Array(m);pe.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[8]=p;var x=this.rawData;if(!x.fixed&&(12>=x.length&&(x.length=13),x.data.length<x.length)){var y=x.data.length+10,w=new Array(y);pe.blit(x.data,0,w,0,x.data.length),x.data=w}x.data[12]=0;var b=this.rawData,T=a.x;if(!b.fixed&&(1>=b.length&&(b.length=2),b.data.length<b.length)){var E=b.data.length+10,R=new Array(E);pe.blit(b.data,0,R,0,b.data.length),b.data=R}b.data[1]=T;var A=this.rawData,I=a.y;if(!A.fixed&&(5>=A.length&&(A.length=6),A.data.length<A.length)){var S=A.data.length+10,C=new Array(S);pe.blit(A.data,0,C,0,A.data.length),A.data=C}A.data[5]=I;var M=this.rawData,D=a.z;if(!M.fixed&&(9>=M.length&&(M.length=10),M.data.length<M.length)){var P=M.data.length+10,L=new Array(P);pe.blit(M.data,0,L,0,M.data.length),M.data=L}M.data[9]=D;var k=this.rawData;if(!k.fixed&&(13>=k.length&&(k.length=14),k.data.length<k.length)){var B=k.data.length+10,O=new Array(B);pe.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[13]=0;var F=this.rawData,N=r.x;if(!F.fixed&&(2>=F.length&&(F.length=3),F.data.length<F.length)){var U=F.data.length+10,G=new Array(U);pe.blit(F.data,0,G,0,F.data.length),F.data=G}F.data[2]=N;var X=this.rawData,Y=r.y;if(!X.fixed&&(6>=X.length&&(X.length=7),X.data.length<X.length)){var H=X.data.length+10,V=new Array(H);pe.blit(X.data,0,V,0,X.data.length),X.data=V}X.data[6]=Y;var W=this.rawData,z=r.z;if(!W.fixed&&(10>=W.length&&(W.length=11),W.data.length<W.length)){var j=W.data.length+10,K=new Array(j);pe.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[10]=z;var q=this.rawData;if(!q.fixed&&(14>=q.length&&(q.length=15),q.data.length<q.length)){var J=q.data.length+10,Z=new Array(J);pe.blit(q.data,0,Z,0,q.data.length),q.data=Z}q.data[14]=0;var Q=this.rawData,$=t.x;if(!Q.fixed&&(3>=Q.length&&(Q.length=4),Q.data.length<Q.length)){var tt=Q.data.length+10,et=new Array(tt);pe.blit(Q.data,0,et,0,Q.data.length),Q.data=et}Q.data[3]=$;var nt=this.rawData,it=t.y;if(!nt.fixed&&(7>=nt.length&&(nt.length=8),nt.data.length<nt.length)){var rt=nt.data.length+10,at=new Array(rt);pe.blit(nt.data,0,at,0,nt.data.length),nt.data=at}nt.data[7]=it;var st=this.rawData,lt=t.z;if(!st.fixed&&(11>=st.length&&(st.length=12),st.data.length<st.length)){var ot=st.data.length+10,ht=new Array(ot);pe.blit(st.data,0,ht,0,st.data.length),st.data=ht}st.data[11]=lt;var _t=this.rawData;if(!_t.fixed&&(15>=_t.length&&(_t.length=16),_t.data.length<_t.length)){var ut=_t.data.length+10,ct=new Array(ut);pe.blit(_t.data,0,ct,0,_t.data.length),_t.data=ct}_t.data[15]=1},prepend:function(t){var e=t.rawData.data[0],n=t.rawData.data[4],i=t.rawData.data[8],r=t.rawData.data[12],a=t.rawData.data[1],s=t.rawData.data[5],l=t.rawData.data[9],o=t.rawData.data[13],h=t.rawData.data[2],_=t.rawData.data[6],u=t.rawData.data[10],c=t.rawData.data[14],d=t.rawData.data[3],f=t.rawData.data[7],g=t.rawData.data[11],p=t.rawData.data[15],m=this.rawData.data[0],v=this.rawData.data[4],x=this.rawData.data[8],y=this.rawData.data[12],w=this.rawData.data[1],b=this.rawData.data[5],T=this.rawData.data[9],E=this.rawData.data[13],R=this.rawData.data[2],A=this.rawData.data[6],I=this.rawData.data[10],S=this.rawData.data[14],C=this.rawData.data[3],M=this.rawData.data[7],D=this.rawData.data[11],P=this.rawData.data[15],L=this.rawData;if(!L.fixed&&(0>=L.length&&(L.length=1),L.data.length<L.length)){var k=L.data.length+10,B=new Array(k);pe.blit(L.data,0,B,0,L.data.length),L.data=B}L.data[0]=e*m+a*v+h*x+d*y;var O=this.rawData;if(!O.fixed&&(1>=O.length&&(O.length=2),O.data.length<O.length)){var F=O.data.length+10,N=new Array(F);pe.blit(O.data,0,N,0,O.data.length),O.data=N}O.data[1]=e*w+a*b+h*T+d*E;var U=this.rawData;if(!U.fixed&&(2>=U.length&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);pe.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*R+a*A+h*I+d*S;var Y=this.rawData;if(!Y.fixed&&(3>=Y.length&&(Y.length=4),Y.data.length<Y.length)){var H=Y.data.length+10,V=new Array(H);pe.blit(Y.data,0,V,0,Y.data.length),Y.data=V}Y.data[3]=e*C+a*M+h*D+d*P;var W=this.rawData;if(!W.fixed&&(4>=W.length&&(W.length=5),W.data.length<W.length)){var z=W.data.length+10,j=new Array(z);pe.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[4]=n*m+s*v+_*x+f*y;var K=this.rawData;if(!K.fixed&&(5>=K.length&&(K.length=6),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);pe.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[5]=n*w+s*b+_*T+f*E;var Z=this.rawData;if(!Z.fixed&&(6>=Z.length&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);pe.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=n*R+s*A+_*I+f*S;var tt=this.rawData;if(!tt.fixed&&(7>=tt.length&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,nt=new Array(et);pe.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[7]=n*C+s*M+_*D+f*P;var it=this.rawData;if(!it.fixed&&(8>=it.length&&(it.length=9),it.data.length<it.length)){var rt=it.data.length+10,at=new Array(rt);pe.blit(it.data,0,at,0,it.data.length),it.data=at}it.data[8]=i*m+l*v+u*x+g*y;var st=this.rawData;if(!st.fixed&&(9>=st.length&&(st.length=10),st.data.length<st.length)){var lt=st.data.length+10,ot=new Array(lt);pe.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[9]=i*w+l*b+u*T+g*E;var ht=this.rawData;if(!ht.fixed&&(10>=ht.length&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);pe.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=i*R+l*A+u*I+g*S;var ct=this.rawData;if(!ct.fixed&&(11>=ct.length&&(ct.length=12),ct.data.length<ct.length)){var dt=ct.data.length+10,ft=new Array(dt);pe.blit(ct.data,0,ft,0,ct.data.length),ct.data=ft}ct.data[11]=i*C+l*M+u*D+g*P;var gt=this.rawData;if(!gt.fixed&&(12>=gt.length&&(gt.length=13),gt.data.length<gt.length)){var pt=gt.data.length+10,mt=new Array(pt);pe.blit(gt.data,0,mt,0,gt.data.length),gt.data=mt}gt.data[12]=r*m+o*v+c*x+p*y;var vt=this.rawData;if(!vt.fixed&&(13>=vt.length&&(vt.length=14),vt.data.length<vt.length)){var xt=vt.data.length+10,yt=new Array(xt);pe.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=r*w+o*b+c*T+p*E;var wt=this.rawData;if(!wt.fixed&&(14>=wt.length&&(wt.length=15),wt.data.length<wt.length)){var bt=wt.data.length+10,Tt=new Array(bt);pe.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=r*R+o*A+c*I+p*S;var Et=this.rawData;if(!Et.fixed&&(15>=Et.length&&(Et.length=16),Et.data.length<Et.length)){var Rt=Et.data.length+10,At=new Array(Rt);pe.blit(Et.data,0,At,0,Et.data.length),Et.data=At}Et.data[15]=r*C+o*M+c*D+p*P},prependRotation:function(t,e,n){var i=el.__getAxisRotation(e.x,e.y,e.z,t);if(null!=n){var r=n;i.appendTranslation(r.x,r.y,r.z)}this.prepend(i)},prependScale:function(t,e,n){var i=[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1],r=new Qi;r.length=i.length,r.fixed=!0,r.data=i.slice(0),this.prepend(new el(r))},prependTranslation:function(t,e,n){var i=new el;i.set_position(new rl(t,e,n)),this.prepend(i)},recompose:function(t,e){if(t.length<3||0==t.data[2].x||0==t.data[2].y||0==t.data[2].z)return!1;null==e&&(e=1),this.identity();var n=[];if(n[0]=n[1]=n[2]=t.data[2].x,n[4]=n[5]=n[6]=t.data[2].y,n[8]=n[9]=n[10]=t.data[2].z,null==e){var i=t.data[1].x,r=t.data[1].y,a=t.data[1].z,s=t.data[1].w;B.enumEq(e,0)&&(i*=Math.sin(s/2),r*=Math.sin(s/2),a*=Math.sin(s/2),s=Math.cos(s/2));var l=this.rawData;if(!l.fixed&&(0>=l.length&&(l.length=1),l.data.length<l.length)){var o=l.data.length+10,h=new Array(o);pe.blit(l.data,0,h,0,l.data.length),l.data=h}l.data[0]=(1-2*r*r-2*a*a)*n[0];var _=this.rawData;if(!_.fixed&&(1>=_.length&&(_.length=2),_.data.length<_.length)){var u=_.data.length+10,c=new Array(u);pe.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[1]=(2*i*r+2*s*a)*n[1];var d=this.rawData;if(!d.fixed&&(2>=d.length&&(d.length=3),d.data.length<d.length)){var f=d.data.length+10,g=new Array(f);pe.blit(d.data,0,g,0,d.data.length),d.data=g}d.data[2]=(2*i*a-2*s*r)*n[2];var p=this.rawData;if(!p.fixed&&(3>=p.length&&(p.length=4),p.data.length<p.length)){var m=p.data.length+10,v=new Array(m);pe.blit(p.data,0,v,0,p.data.length),p.data=v}p.data[3]=0;var x=this.rawData;if(!x.fixed&&(4>=x.length&&(x.length=5),x.data.length<x.length)){var y=x.data.length+10,w=new Array(y);pe.blit(x.data,0,w,0,x.data.length),x.data=w}x.data[4]=(2*i*r-2*s*a)*n[4];var b=this.rawData;if(!b.fixed&&(5>=b.length&&(b.length=6),b.data.length<b.length)){var T=b.data.length+10,E=new Array(T);pe.blit(b.data,0,E,0,b.data.length),b.data=E}b.data[5]=(1-2*i*i-2*a*a)*n[5];var R=this.rawData;if(!R.fixed&&(6>=R.length&&(R.length=7),R.data.length<R.length)){var A=R.data.length+10,I=new Array(A);pe.blit(R.data,0,I,0,R.data.length),R.data=I}R.data[6]=(2*r*a+2*s*i)*n[6];var S=this.rawData;if(!S.fixed&&(7>=S.length&&(S.length=8),S.data.length<S.length)){var C=S.data.length+10,M=new Array(C);pe.blit(S.data,0,M,0,S.data.length),S.data=M}S.data[7]=0;var D=this.rawData;if(!D.fixed&&(8>=D.length&&(D.length=9),D.data.length<D.length)){var P=D.data.length+10,L=new Array(P);pe.blit(D.data,0,L,0,D.data.length),D.data=L}D.data[8]=(2*i*a+2*s*r)*n[8];var k=this.rawData;if(!k.fixed&&(9>=k.length&&(k.length=10),k.data.length<k.length)){var O=k.data.length+10,F=new Array(O);pe.blit(k.data,0,F,0,k.data.length),k.data=F}k.data[9]=(2*r*a-2*s*i)*n[9];var N=this.rawData;if(!N.fixed&&(10>=N.length&&(N.length=11),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);pe.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[10]=(1-2*i*i-2*r*r)*n[10];var X=this.rawData;if(!X.fixed&&(11>=X.length&&(X.length=12),X.data.length<X.length)){var Y=X.data.length+10,H=new Array(Y);pe.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[11]=0;var V=this.rawData,W=t.data[0].x;if(!V.fixed&&(12>=V.length&&(V.length=13),V.data.length<V.length)){var z=V.data.length+10,j=new Array(z);pe.blit(V.data,0,j,0,V.data.length),V.data=j}V.data[12]=W;var K=this.rawData,q=t.data[0].y;if(!K.fixed&&(13>=K.length&&(K.length=14),K.data.length<K.length)){var J=K.data.length+10,Z=new Array(J);pe.blit(K.data,0,Z,0,K.data.length),K.data=Z}K.data[13]=q;var Q=this.rawData,$=t.data[0].z;if(!Q.fixed&&(14>=Q.length&&(Q.length=15),Q.data.length<Q.length)){var tt=Q.data.length+10,et=new Array(tt);pe.blit(Q.data,0,et,0,Q.data.length),Q.data=et}Q.data[14]=$;var nt=this.rawData;if(!nt.fixed&&(15>=nt.length&&(nt.length=16),nt.data.length<nt.length)){var it=nt.data.length+10,rt=new Array(it);pe.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[15]=1}else if(1==e){var at=Math.cos(t.data[1].x),st=Math.cos(t.data[1].y),lt=Math.cos(t.data[1].z),ot=Math.sin(t.data[1].x),ht=Math.sin(t.data[1].y),_t=Math.sin(t.data[1].z),ut=this.rawData;if(!ut.fixed&&(0>=ut.length&&(ut.length=1),ut.data.length<ut.length)){var ct=ut.data.length+10,dt=new Array(ct);pe.blit(ut.data,0,dt,0,ut.data.length),ut.data=dt}ut.data[0]=st*lt*n[0];var ft=this.rawData;if(!ft.fixed&&(1>=ft.length&&(ft.length=2),ft.data.length<ft.length)){var gt=ft.data.length+10,pt=new Array(gt);pe.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[1]=st*_t*n[1];var mt=this.rawData;if(!mt.fixed&&(2>=mt.length&&(mt.length=3),mt.data.length<mt.length)){var vt=mt.data.length+10,xt=new Array(vt);pe.blit(mt.data,0,xt,0,mt.data.length),mt.data=xt}mt.data[2]=-ht*n[2];var yt=this.rawData;if(!yt.fixed&&(3>=yt.length&&(yt.length=4),yt.data.length<yt.length)){var wt=yt.data.length+10,bt=new Array(wt);pe.blit(yt.data,0,bt,0,yt.data.length),yt.data=bt}yt.data[3]=0;var Tt=this.rawData;if(!Tt.fixed&&(4>=Tt.length&&(Tt.length=5),Tt.data.length<Tt.length)){var Et=Tt.data.length+10,Rt=new Array(Et);pe.blit(Tt.data,0,Rt,0,Tt.data.length),Tt.data=Rt}Tt.data[4]=(ot*ht*lt-at*_t)*n[4];var At=this.rawData;if(!At.fixed&&(5>=At.length&&(At.length=6),At.data.length<At.length)){var It=At.data.length+10,St=new Array(It);pe.blit(At.data,0,St,0,At.data.length),At.data=St}At.data[5]=(ot*ht*_t+at*lt)*n[5];var Ct=this.rawData;if(!Ct.fixed&&(6>=Ct.length&&(Ct.length=7),Ct.data.length<Ct.length)){var Mt=Ct.data.length+10,Dt=new Array(Mt);pe.blit(Ct.data,0,Dt,0,Ct.data.length),Ct.data=Dt}Ct.data[6]=ot*st*n[6];var Pt=this.rawData;if(!Pt.fixed&&(7>=Pt.length&&(Pt.length=8),Pt.data.length<Pt.length)){var Lt=Pt.data.length+10,kt=new Array(Lt);pe.blit(Pt.data,0,kt,0,Pt.data.length),Pt.data=kt}Pt.data[7]=0;var Bt=this.rawData;if(!Bt.fixed&&(8>=Bt.length&&(Bt.length=9),Bt.data.length<Bt.length)){var Ot=Bt.data.length+10,Ft=new Array(Ot);pe.blit(Bt.data,0,Ft,0,Bt.data.length),Bt.data=Ft}Bt.data[8]=(at*ht*lt+ot*_t)*n[8];var Nt=this.rawData;if(!Nt.fixed&&(9>=Nt.length&&(Nt.length=10),Nt.data.length<Nt.length)){var Ut=Nt.data.length+10,Gt=new Array(Ut);pe.blit(Nt.data,0,Gt,0,Nt.data.length),Nt.data=Gt}Nt.data[9]=(at*ht*_t-ot*lt)*n[9];var Xt=this.rawData;if(!Xt.fixed&&(10>=Xt.length&&(Xt.length=11),Xt.data.length<Xt.length)){var Yt=Xt.data.length+10,Ht=new Array(Yt);pe.blit(Xt.data,0,Ht,0,Xt.data.length),Xt.data=Ht}Xt.data[10]=at*st*n[10];var Vt=this.rawData;if(!Vt.fixed&&(11>=Vt.length&&(Vt.length=12),Vt.data.length<Vt.length)){var Wt=Vt.data.length+10,zt=new Array(Wt);pe.blit(Vt.data,0,zt,0,Vt.data.length),Vt.data=zt}Vt.data[11]=0;var jt=this.rawData,Kt=t.data[0].x;if(!jt.fixed&&(12>=jt.length&&(jt.length=13),jt.data.length<jt.length)){var qt=jt.data.length+10,Jt=new Array(qt);pe.blit(jt.data,0,Jt,0,jt.data.length),jt.data=Jt}jt.data[12]=Kt;var Zt=this.rawData,Qt=t.data[0].y;if(!Zt.fixed&&(13>=Zt.length&&(Zt.length=14),Zt.data.length<Zt.length)){var $t=Zt.data.length+10,te=new Array($t);pe.blit(Zt.data,0,te,0,Zt.data.length),Zt.data=te}Zt.data[13]=Qt;var ee=this.rawData,ne=t.data[0].z;if(!ee.fixed&&(14>=ee.length&&(ee.length=15),ee.data.length<ee.length)){var ie=ee.data.length+10,re=new Array(ie);pe.blit(ee.data,0,re,0,ee.data.length),ee.data=re}ee.data[14]=ne;var ae=this.rawData;if(!ae.fixed&&(15>=ae.length&&(ae.length=16),ae.data.length<ae.length)){var se=ae.data.length+10,le=new Array(se);pe.blit(ae.data,0,le,0,ae.data.length),ae.data=le}ae.data[15]=1}else{var oe=t.data[1].x,he=t.data[1].y,_e=t.data[1].z,ue=t.data[1].w;B.enumEq(e,0)&&(oe*=Math.sin(ue/2),he*=Math.sin(ue/2),_e*=Math.sin(ue/2),ue=Math.cos(ue/2));var ce=this.rawData;if(!ce.fixed&&(0>=ce.length&&(ce.length=1),ce.data.length<ce.length)){var de=ce.data.length+10,fe=new Array(de);pe.blit(ce.data,0,fe,0,ce.data.length),ce.data=fe}ce.data[0]=(1-2*he*he-2*_e*_e)*n[0];var ge=this.rawData;if(!ge.fixed&&(1>=ge.length&&(ge.length=2),ge.data.length<ge.length)){var me=ge.data.length+10,ve=new Array(me);pe.blit(ge.data,0,ve,0,ge.data.length),ge.data=ve}ge.data[1]=(2*oe*he+2*ue*_e)*n[1];var xe=this.rawData;if(!xe.fixed&&(2>=xe.length&&(xe.length=3),xe.data.length<xe.length)){var ye=xe.data.length+10,we=new Array(ye);pe.blit(xe.data,0,we,0,xe.data.length),xe.data=we}xe.data[2]=(2*oe*_e-2*ue*he)*n[2];var be=this.rawData;if(!be.fixed&&(3>=be.length&&(be.length=4),be.data.length<be.length)){var Te=be.data.length+10,Ee=new Array(Te);pe.blit(be.data,0,Ee,0,be.data.length),be.data=Ee}be.data[3]=0;var Re=this.rawData;if(!Re.fixed&&(4>=Re.length&&(Re.length=5),Re.data.length<Re.length)){var Ae=Re.data.length+10,Ie=new Array(Ae);pe.blit(Re.data,0,Ie,0,Re.data.length),Re.data=Ie}Re.data[4]=(2*oe*he-2*ue*_e)*n[4];var Se=this.rawData;if(!Se.fixed&&(5>=Se.length&&(Se.length=6),Se.data.length<Se.length)){var Ce=Se.data.length+10,Me=new Array(Ce);pe.blit(Se.data,0,Me,0,Se.data.length),Se.data=Me}Se.data[5]=(1-2*oe*oe-2*_e*_e)*n[5];var De=this.rawData;if(!De.fixed&&(6>=De.length&&(De.length=7),De.data.length<De.length)){var Pe=De.data.length+10,Le=new Array(Pe);pe.blit(De.data,0,Le,0,De.data.length),De.data=Le}De.data[6]=(2*he*_e+2*ue*oe)*n[6];var ke=this.rawData;if(!ke.fixed&&(7>=ke.length&&(ke.length=8),ke.data.length<ke.length)){var Be=ke.data.length+10,Oe=new Array(Be);pe.blit(ke.data,0,Oe,0,ke.data.length),ke.data=Oe}ke.data[7]=0;var Fe=this.rawData;if(!Fe.fixed&&(8>=Fe.length&&(Fe.length=9),Fe.data.length<Fe.length)){var Ne=Fe.data.length+10,Ue=new Array(Ne);pe.blit(Fe.data,0,Ue,0,Fe.data.length),Fe.data=Ue}Fe.data[8]=(2*oe*_e+2*ue*he)*n[8];var Ge=this.rawData;if(!Ge.fixed&&(9>=Ge.length&&(Ge.length=10),Ge.data.length<Ge.length)){var Xe=Ge.data.length+10,Ye=new Array(Xe);pe.blit(Ge.data,0,Ye,0,Ge.data.length),Ge.data=Ye}Ge.data[9]=(2*he*_e-2*ue*oe)*n[9];var He=this.rawData;if(!He.fixed&&(10>=He.length&&(He.length=11),He.data.length<He.length)){var Ve=He.data.length+10,We=new Array(Ve);pe.blit(He.data,0,We,0,He.data.length),He.data=We}He.data[10]=(1-2*oe*oe-2*he*he)*n[10];var ze=this.rawData;if(!ze.fixed&&(11>=ze.length&&(ze.length=12),ze.data.length<ze.length)){var je=ze.data.length+10,Ke=new Array(je);pe.blit(ze.data,0,Ke,0,ze.data.length),ze.data=Ke}ze.data[11]=0;var qe=this.rawData,Je=t.data[0].x;if(!qe.fixed&&(12>=qe.length&&(qe.length=13),qe.data.length<qe.length)){var Ze=qe.data.length+10,Qe=new Array(Ze);pe.blit(qe.data,0,Qe,0,qe.data.length),qe.data=Qe}qe.data[12]=Je;var $e=this.rawData,tn=t.data[0].y;if(!$e.fixed&&(13>=$e.length&&($e.length=14),$e.data.length<$e.length)){var en=$e.data.length+10,nn=new Array(en);pe.blit($e.data,0,nn,0,$e.data.length),$e.data=nn}$e.data[13]=tn;var rn=this.rawData,an=t.data[0].z;if(!rn.fixed&&(14>=rn.length&&(rn.length=15),rn.data.length<rn.length)){var sn=rn.data.length+10,ln=new Array(sn);pe.blit(rn.data,0,ln,0,rn.data.length),rn.data=ln}rn.data[14]=an;var on=this.rawData;if(!on.fixed&&(15>=on.length&&(on.length=16),on.data.length<on.length)){var hn=on.data.length+10,_n=new Array(hn);pe.blit(on.data,0,_n,0,on.data.length),on.data=_n}on.data[15]=1}if(0==t.data[2].x){var un=this.rawData;if(!un.fixed&&(0>=un.length&&(un.length=1),un.data.length<un.length)){var cn=un.data.length+10,dn=new Array(cn);pe.blit(un.data,0,dn,0,un.data.length),un.data=dn}un.data[0]=1e-15}if(0==t.data[2].y){var fn=this.rawData;if(!fn.fixed&&(5>=fn.length&&(fn.length=6),fn.data.length<fn.length)){var gn=fn.data.length+10,pn=new Array(gn);pe.blit(fn.data,0,pn,0,fn.data.length),fn.data=pn}fn.data[5]=1e-15}if(0==t.data[2].z){var mn=this.rawData;if(!mn.fixed&&(10>=mn.length&&(mn.length=11),mn.data.length<mn.length)){var vn=mn.data.length+10,xn=new Array(vn);pe.blit(mn.data,0,xn,0,mn.data.length),mn.data=xn}mn.data[10]=1e-15}return!(0==t.data[2].x||0==t.data[2].y||0==t.data[2].y)},transformVector:function(t){var e=t.x,n=t.y,i=t.z;return new rl(e*this.rawData.data[0]+n*this.rawData.data[4]+i*this.rawData.data[8]+this.rawData.data[12],e*this.rawData.data[1]+n*this.rawData.data[5]+i*this.rawData.data[9]+this.rawData.data[13],e*this.rawData.data[2]+n*this.rawData.data[6]+i*this.rawData.data[10]+this.rawData.data[14],e*this.rawData.data[3]+n*this.rawData.data[7]+i*this.rawData.data[11]+this.rawData.data[15])},transformVectors:function(t,e){for(var n,i,r,a=0;a+3<=t.length;){n=t.data[a],i=t.data[a+1],r=t.data[a+2];var s=n*this.rawData.data[0]+i*this.rawData.data[4]+r*this.rawData.data[8]+this.rawData.data[12];if(!e.fixed&&(a>=e.length&&(e.length=a+1),e.data.length<e.length)){var l=e.data.length+10,o=new Array(l);pe.blit(e.data,0,o,0,e.data.length),e.data=o}e.data[a]=s;var h=a+1,_=n*this.rawData.data[1]+i*this.rawData.data[5]+r*this.rawData.data[9]+this.rawData.data[13];if(!e.fixed&&(h>=e.length&&(e.length=h+1),e.data.length<e.length)){var u=e.data.length+10,c=new Array(u);pe.blit(e.data,0,c,0,e.data.length),e.data=c}e.data[h]=_;var d=a+2,f=n*this.rawData.data[2]+i*this.rawData.data[6]+r*this.rawData.data[10]+this.rawData.data[14];if(!e.fixed&&(d>=e.length&&(e.length=d+1),e.data.length<e.length)){var g=e.data.length+10,p=new Array(g);pe.blit(e.data,0,p,0,e.data.length),e.data=p}e.data[d]=f,a+=3}},transpose:function(){var t=this.rawData,e=new Qi;e.length=t.length,e.fixed=t.fixed;var n=t.length,i=new Array(n);e.data=i,pe.blit(t.data,0,e.data,0,t.length);var r=e,a=this.rawData,s=r.data[4];if(!a.fixed&&(1>=a.length&&(a.length=2),a.data.length<a.length)){var l=a.data.length+10,o=new Array(l);pe.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[1]=s;var h=this.rawData,_=r.data[8];if(!h.fixed&&(2>=h.length&&(h.length=3),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);pe.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[2]=_;var d=this.rawData,f=r.data[12];if(!d.fixed&&(3>=d.length&&(d.length=4),d.data.length<d.length)){var g=d.data.length+10,p=new Array(g);pe.blit(d.data,0,p,0,d.data.length),d.data=p}d.data[3]=f;var m=this.rawData,v=r.data[1];if(!m.fixed&&(4>=m.length&&(m.length=5),m.data.length<m.length)){var x=m.data.length+10,y=new Array(x);pe.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[4]=v;var w=this.rawData,b=r.data[9];if(!w.fixed&&(6>=w.length&&(w.length=7),w.data.length<w.length)){var T=w.data.length+10,E=new Array(T);pe.blit(w.data,0,E,0,w.data.length),w.data=E}w.data[6]=b;var R=this.rawData,A=r.data[13];if(!R.fixed&&(7>=R.length&&(R.length=8),R.data.length<R.length)){var I=R.data.length+10,S=new Array(I);pe.blit(R.data,0,S,0,R.data.length),R.data=S}R.data[7]=A;var C=this.rawData,M=r.data[2];if(!C.fixed&&(8>=C.length&&(C.length=9),C.data.length<C.length)){var D=C.data.length+10,P=new Array(D);pe.blit(C.data,0,P,0,C.data.length),C.data=P}C.data[8]=M;var L=this.rawData,k=r.data[6];if(!L.fixed&&(9>=L.length&&(L.length=10),L.data.length<L.length)){var B=L.data.length+10,O=new Array(B);pe.blit(L.data,0,O,0,L.data.length),L.data=O}L.data[9]=k;var F=this.rawData,N=r.data[14];if(!F.fixed&&(11>=F.length&&(F.length=12),F.data.length<F.length)){var U=F.data.length+10,G=new Array(U);pe.blit(F.data,0,G,0,F.data.length),F.data=G}F.data[11]=N;var X=this.rawData,Y=r.data[3];if(!X.fixed&&(12>=X.length&&(X.length=13),X.data.length<X.length)){var H=X.data.length+10,V=new Array(H);pe.blit(X.data,0,V,0,X.data.length),X.data=V}X.data[12]=Y;var W=this.rawData,z=r.data[7];if(!W.fixed&&(13>=W.length&&(W.length=14),W.data.length<W.length)){var j=W.data.length+10,K=new Array(j);pe.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[13]=z;var q=this.rawData,J=r.data[11];if(!q.fixed&&(14>=q.length&&(q.length=15),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);pe.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[14]=J},get_determinant:function(){return(this.rawData.data[0]*this.rawData.data[5]-this.rawData.data[4]*this.rawData.data[1])*(this.rawData.data[10]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[11])-(this.rawData.data[0]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[7])+(this.rawData.data[0]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[7])+(this.rawData.data[4]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[3])-(this.rawData.data[4]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[3])+(this.rawData.data[8]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[9])*(this.rawData.data[2]*this.rawData.data[7]-this.rawData.data[6]*this.rawData.data[3])},get_position:function(){return new rl(this.rawData.data[12],this.rawData.data[13],this.rawData.data[14])},set_position:function(t){var e=this.rawData,n=t.x;if(!e.fixed&&(12>=e.length&&(e.length=13),e.data.length<e.length)){var i=e.data.length+10,r=new Array(i);pe.blit(e.data,0,r,0,e.data.length),e.data=r}e.data[12]=n;var a=this.rawData,s=t.y;if(!a.fixed&&(13>=a.length&&(a.length=14),a.data.length<a.length)){var l=a.data.length+10,o=new Array(l);pe.blit(a.data,0,o,0,a.data.length),a.data=o}a.data[13]=s;var h=this.rawData,_=t.z;if(!h.fixed&&(14>=h.length&&(h.length=15),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);pe.blit(h.data,0,c,0,h.data.length),h.data=c}return h.data[14]=_,t},__class__:el,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var nl={};a["openfl.geom._Orientation3D.Orientation3D_Impl_"]=nl,nl.__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"],nl.fromString=function(t){switch(t){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},nl.toString=function(t){switch(t){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var il=function(t){this.__colorTransform=new J,this.concatenatedColorTransform=new J,this.pixelBounds=new z,this.__displayObject=t,this.__hasMatrix=!0};a["openfl.geom.Transform"]=il,il.__name__=["openfl","geom","Transform"],il.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(t){if(!this.__colorTransform.__equals(t)){this.__colorTransform=t,null!=t&&this.__displayObject.set_alpha(t.alphaMultiplier);var e=this.__displayObject;e.__renderDirty||(e.__updateCachedBitmap=!0,e.__updateFilters=null!=e.get_filters()&&e.get_filters().length>0,e.__renderDirty=!0,u.__worldRenderDirty++)}return this.__colorTransform},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},set_matrix:function(t){if(null==t)return this.__hasMatrix=!1,null;if(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.d,t.c)-90;if(e!=this.__displayObject.__rotation){this.__displayObject.__rotation=e;var n=e*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(n),this.__displayObject.__rotationCosine=Math.cos(n)}this.__displayObject.__transform.copyFrom(t);var i=this.__displayObject;i.__transformDirty||(i.__transformDirty=!0,u.__worldTransformDirty++)}return t},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform,e=[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1],n=new Qi;return n.length=e.length,n.fixed=!0,n.data=e.slice(0),new el(n)}return null},set_matrix3D:function(t){if(null==t)return this.__hasMatrix3D=!1,null;if(this.__hasMatrix=!1,this.__hasMatrix3D=!0,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.rawData.data[5],t.rawData.data[4])-90;if(e!=this.__displayObject.__rotation){this.__displayObject.__rotation=e;var n=e*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(n),this.__displayObject.__rotationCosine=Math.cos(n)}this.__displayObject.__transform.a=t.rawData.data[0],this.__displayObject.__transform.b=t.rawData.data[1],this.__displayObject.__transform.c=t.rawData.data[5],this.__displayObject.__transform.d=t.rawData.data[6],this.__displayObject.__transform.tx=t.rawData.data[12],this.__displayObject.__transform.ty=t.rawData.data[13];var i=this.__displayObject;i.__transformDirty||(i.__transformDirty=!0,u.__worldTransformDirty++)}return t},__class__:il,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var rl=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.w=i,this.x=t,this.y=e,this.z=n};a["openfl.geom.Vector3D"]=rl,rl.__name__=["openfl","geom","Vector3D"],rl.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},rl.X_AXIS=null,rl.Y_AXIS=null,rl.Z_AXIS=null,rl.angleBetween=function(t,e){var n=t.get_length(),i=e.get_length(),r=t.dotProduct(e);return 0!=n&&(r/=n),0!=i&&(r/=i),Math.acos(r)},rl.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z;return Math.sqrt(n*n+i*i+r*r)},rl.get_X_AXIS=function(){return new rl(1,0,0)},rl.get_Y_AXIS=function(){return new rl(0,1,0)},rl.get_Z_AXIS=function(){return new rl(0,0,1)},rl.prototype={length:null,lengthSquared:null,w:null,x:null,y:null,z:null,add:function(t){return new rl(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new rl(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new rl(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,n){return null==n&&(n=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!n||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,n){this.x=t,this.y=e,this.z=n},subtract:function(t){return new rl(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:rl,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var al=function(){};a["openfl.media.ID3Info"]=al,al.__name__=["openfl","media","ID3Info"],al.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:al};var sl=function(t,e){h.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,this.url=null,null!=t&&this.load(t,e)};a["openfl.media.Sound"]=sl,sl.__name__=["openfl","media","Sound"],sl.fromAudioBuffer=function(t){var e=new sl;return e.__buffer=t,e},sl.fromFile=function(t){return sl.fromAudioBuffer(_n.fromFile(t))},sl.__super__=h,sl.prototype=n(h.prototype,{bytesLoaded:null,bytesTotal:null,id3:null,isBuffering:null,url:null,__buffer:null,__sound:null,__soundID:null,close:function(){var t=this.__soundID,e=sl.__registeredSounds;(null!=vo[t]?e.existsReserved(t):e.h.hasOwnProperty(t))&&createjs.Sound.removeSound(this.__soundID)},load:function(t,e){this.url=t.url,this.__soundID=we.withoutExtension(t.url);var n=this.__soundID,i=sl.__registeredSounds;if(null!=vo[n]?i.existsReserved(n):i.h.hasOwnProperty(n))this.dispatchEvent(new Nt("complete"));else{var a=this.__soundID,s=sl.__registeredSounds;null!=vo[a]?s.setReserved(a,!0):s.h[a]=!0,createjs.Sound.addEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",r(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID)}},loadCompressedDataFromByteArray:function(t,e,n){null==n&&(n=!1),Ji.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(t,e,n,i,r){null==r&&(r=44100),null==i&&(i=!0),Ji.notImplemented("Sound.loadPCMFromByteArray")},play:function(t,e,n){null==e&&(e=0),null==t&&(t=0),null==n&&(n=new hl(1,0));var i=n.pan;0==i&&(i=-1e-7);var r=e>1?createjs.Sound.play(this.__soundID,"any",0,0|t,e-1,n.volume,i):createjs.Sound.play(this.__soundID,"any",0,0|t,0,n.volume,i);return new ll(r)},get_id3:function(){return new al},get_length:function(){this.__buffer;return 0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new Ks("ioError")):(this.__buffer=t,this.dispatchEvent(new Nt("complete")))},SoundJS_onFileLoad:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new Nt("complete")))},SoundJS_onFileError:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new Ks("ioError")))},__class__:sl,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var ll=function(t){h.call(this,this),this.leftPeak=1,this.rightPeak=1,null!=t&&(this.__soundInstance=t,this.__soundInstance.addEventListener("complete",r(this,this.source_onComplete)),this.__isValid=!0)};a["openfl.media.SoundChannel"]=ll,ll.__name__=["openfl","media","SoundChannel"],ll.__super__=h,ll.prototype=n(h.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__source:null,__soundInstance:null,stop:function(){this.__isValid&&this.__soundInstance.stop()},__dispose:function(){this.__isValid&&(this.__soundInstance.stop(),this.__soundInstance=null,this.__isValid=!1)},get_position:function(){return this.__isValid?this.__soundInstance.getPosition():0},set_position:function(t){return this.__isValid?(this.__soundInstance.setPosition(0|t),this.__soundInstance.getPosition()):0},get_soundTransform:function(){return this.__isValid?new hl(this.__soundInstance.getVolume(),this.__soundInstance.getPan()):new hl},set_soundTransform:function(t){return this.__isValid?(this.__soundInstance.setVolume(t.volume),this.__soundInstance.setPan(t.pan),t):t},soundInstance_onComplete:function(t){this.dispatchEvent(new Nt("soundComplete"))},source_onComplete:function(){this.__dispose(),this.dispatchEvent(new Nt("soundComplete"))},__class__:ll,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var ol=function(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e};a["openfl.media.SoundLoaderContext"]=ol,ol.__name__=["openfl","media","SoundLoaderContext"],ol.prototype={bufferTime:null,checkPolicyFile:null,__class__:ol};var hl=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};a["openfl.media.SoundTransform"]=hl,hl.__name__=["openfl","media","SoundTransform"],hl.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new hl(this.volume,this.pan)},__class__:hl};var _l=function(t){h.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(1),null!=t&&this.load(t)};a["openfl.net.URLLoader"]=_l,_l.__name__=["openfl","net","URLLoader"],_l.__super__=h,_l.prototype=n(h.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,close:function(){},getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var e=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",r(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var n;try{n=t.status}catch(t){ae.lastException=t,n=null}void 0==n&&(n=null),null!=n&&e.onStatus(n),null!=n&&n>=200&&n<400?e.onData(t.response):null==n?e.onError("Failed to connect or resolve host"):12029==n?e.onError("Failed to connect to host"):12007==n?e.onError("Unknown host"):0==n?(e.onError("Unable to make request (may be blocked due to cross-domain permissions)"),e.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):e.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,n,i){var r=new XMLHttpRequest;this.registerEvents(r);var a="";if(X.__instanceof(n,Nl)){var s=n;a=0==this.dataFormat?X.__cast(s,xo):s.readUTFBytes(s.length)}else if(X.__instanceof(n,gl))for(var l=n,o=0,h=D.fields(l);o<h.length;){var _=h[o];++o,0!=a.length&&(a+="&");var u=encodeURIComponent(_)+"=",c=D.field(l,_);a+=u+encodeURIComponent(c)}else null!=n&&(a=n.toString());try{if("GET"==e&&null!=a&&""!=a){var d=t.split("?").length<=1;r.open(e,t+(d?"?":"&")+P.string(a),!0),a=""}else r.open(e,t,!0)}catch(t){return ae.lastException=t,t instanceof Ee&&(t=t.val),void this.onError(t.toString())}0==this.dataFormat&&(r.responseType="arraybuffer");for(var f=0;f<i.length;){var g=i[f];++f,r.setRequestHeader(g.name,g.value)}r.send(a),this.onOpen(),this.getData=function(){return null!=r.response?r.response:r.responseText}},onData:function(t){var e=this.getData(),n=this.dataFormat;this.data=0==n?Bl.fromArrayBuffer(e):P.string(e);var i=new Nt("complete");i.currentTarget=this,this.dispatchEvent(i)},onError:function(t){var e=new Ks("ioError");e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onOpen:function(){var t=new Nt("open");t.currentTarget=this,this.dispatchEvent(t)},onProgress:function(t){var e=new Zs("progress");e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new Qs("securityError");e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onStatus:function(t){var e=new js("httpStatus",!1,!1,t);e.currentTarget=this,this.dispatchEvent(e)},set_dataFormat:function(t){return 0!=t||Object.prototype.hasOwnProperty.call(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=1,this.dataFormat},__class__:_l,__properties__:{set_dataFormat:"set_dataFormat"}});var ul={};a["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=ul,ul.__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"],ul.fromString=function(t){switch(t){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},ul.toString=function(t){switch(t){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var cl=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method=fl.toString(1),this.contentType=null};a["openfl.net.URLRequest"]=cl,cl.__name__=["openfl","net","URLRequest"],cl.prototype={contentType:null,data:null,method:null,requestHeaders:null,url:null,userAgent:null,formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),1==fl.fromString(this.method)||null==this.data?t:(("string"==typeof this.data||X.__instanceof(this.data,Nl))&&(t=t.slice()).push(new dl("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded")),t)},__class__:cl};var dl=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};a["openfl.net.URLRequestHeader"]=dl,dl.__name__=["openfl","net","URLRequestHeader"],dl.prototype={name:null,value:null,__class__:dl};var fl={};a["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=fl,fl.__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"],fl.fromString=function(t){switch(t){case"DELETE":return 0;case"GET":return 1;case"HEAD":return 2;case"OPTIONS":return 3;case"POST":return 4;case"PUT":return 5;default:return null}},fl.toString=function(t){switch(t){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var gl=function(t){null!=t&&this.decode(t)};a["openfl.net.URLVariables"]=gl,gl.__name__=["openfl","net","URLVariables"],gl.prototype={decode:function(t){for(var e=D.fields(this),n=0;n<e.length;){var i=e[n];++n,D.deleteField(this,i)}for(var r=t.split(";").join("&").split("&"),a=0;a<r.length;){var s=r[a];++a;var l=s.indexOf("=");if(l>0){var o=I.substr(s,0,l),h=decodeURIComponent(o.split("+").join(" ")),_=I.substr(s,l+1,null);this[h]=decodeURIComponent(_.split("+").join(" "))}else 0!=l&&(this[decodeURIComponent(s.split("+").join(" "))]="")}},toString:function(){for(var t=[],e=D.fields(this),n=0;n<e.length;){var i=e[n];++n;var r=encodeURIComponent(i)+"=",a=D.field(this,i);t.push(r+encodeURIComponent(a))}return t.join("&")},__class__:gl};var pl=function(t,e,n){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=n,this.applicationDomain=e,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0};a["openfl.system.LoaderContext"]=pl,pl.__name__=["openfl","system","LoaderContext"],pl.prototype={allowCodeImport:null,allowLoadBytesCodeExecution:null,applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:pl};var ml=function(){};a["openfl.system.SecurityDomain"]=ml,ml.__name__=["openfl","system","SecurityDomain"],ml.prototype={__class__:ml};var vl=function(){};a["openfl.system.System"]=vl,vl.__name__=["openfl","system","System"],vl.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"},vl.totalMemory=null,vl.vmVersion=null,vl.exit=function(t){fi.exit(t)},vl.gc=function(){},vl.pause=function(){Ji.notImplemented("System.pause")},vl.resume=function(){Ji.notImplemented("System.resume")},vl.setClipboard=function(t){_i.set_text(t)},vl.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0},vl.get_vmVersion=function(){return"1.0.0"};var xl={};a["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=xl,xl.__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"],xl.fromString=function(t){switch(t){case"advanced":return 0;case"normal":return 1;default:return null}},xl.toString=function(t){switch(t){case 0:return"advanced";case 1:return"normal";default:return null}};var yl={};a["openfl.text._FontStyle.FontStyle_Impl_"]=yl,yl.__name__=["openfl","text","_FontStyle","FontStyle_Impl_"],yl.fromString=function(t){switch(t){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},yl.toString=function(t){switch(t){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var wl={};a["openfl.text._FontType.FontType_Impl_"]=wl,wl.__name__=["openfl","text","_FontType","FontType_Impl_"],wl.fromString=function(t){switch(t){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},wl.toString=function(t){switch(t){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var bl={};a["openfl.text._GridFitType.GridFitType_Impl_"]=bl,bl.__name__=["openfl","text","_GridFitType","GridFitType_Impl_"],bl.fromString=function(t){switch(t){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},bl.toString=function(t){switch(t){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var Tl=function(){c.call(this),this.__caretIndex=-1,this.__graphics=new ka,this.__textEngine=new ba(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==Tl.__defaultTextFormat&&(Tl.__defaultTextFormat=new Al("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),Tl.__defaultTextFormat.blockIndent=0,Tl.__defaultTextFormat.bullet=!1,Tl.__defaultTextFormat.letterSpacing=0,Tl.__defaultTextFormat.kerning=!1),this.__textFormat=Tl.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new Ta(this.__textFormat,0,0)),this.addEventListener("mouseDown",r(this,this.this_onMouseDown))};a["openfl.text.TextField"]=Tl,Tl.__name__=["openfl","text","TextField"],Tl.__defaultTextFormat=null,Tl.__super__=c,Tl.prototype=n(c.prototype,{bottomScrollV:null,caretIndex:null,length:null,maxScrollH:null,maxScrollV:null,numLines:null,selectionBeginIndex:null,selectionEndIndex:null,textHeight:null,textWidth:null,__bounds:null,__caretIndex:null,__cursorTimer:null,__dirty:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__selectionIndex:null,__showCursor:null,__textEngine:null,__textFormat:null,__div:null,appendText:function(t){this.__textEngine.text+=t,this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length,this.__dirty=!0,this.__layoutDirty=!0},getCharBoundaries:function(t){if(t<0||t>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var e=0,n=this.__textEngine.layoutGroups;e<n.length;){var i=n[e];if(++e,t>=i.startIndex&&t<=i.endIndex){for(var r=i.offsetX,a=0,s=t-i.startIndex;a<s;){var l=a++;r+=i.advances[l]}return new z(r,i.offsetY,i.advances[t-i.startIndex],i.ascent+i.descent)}}return null},getCharIndexAtPoint:function(t,e){if(t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var n=0,i=this.get_scrollV()-1;n<i;){var r=n++;e+=this.__textEngine.lineHeights[r]}for(var a=0,s=this.__textEngine.layoutGroups;a<s.length;){var l=s[a];if(++a,e>=l.offsetY&&e<=l.offsetY+l.height&&t>=l.offsetX&&t<=l.offsetX+l.width){for(var o=0,h=0,_=l.advances.length;h<_;){var u=h++;if(o+=l.advances[u],t<=l.offsetX+o)return l.startIndex+u}return l.endIndex}}return-1},getFirstCharInParagraph:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;for(var e=this.__textEngine.text.indexOf("\n"),n=0;e>-1;){if(e<=t)n=e+1;else if(e>t)break;e=this.__textEngine.text.indexOf("\n",e+1)}return n},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;for(var n=0,i=this.get_scrollV()-1;n<i;){var r=n++;e+=this.__textEngine.lineHeights[r]}for(var a=0,s=this.__textEngine.layoutGroups;a<s.length;){var l=s[a];if(++a,e>=l.offsetY&&e<=l.offsetY+l.height)return l.lineIndex}return-1},getLineIndexOfChar:function(t){if(t<0||t>this.__textEngine.text.length-1)return-1;this.__updateLayout();for(var e=0,n=this.__textEngine.layoutGroups;e<n.length;){var i=n[e];if(++e,i.startIndex<=t&&i.endIndex>=t)return i.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return 0;for(var e=-1,n=-1,i=0,r=this.__textEngine.layoutGroups;i<r.length;){var a=r[i];if(++i,a.lineIndex==t)-1==e&&(e=a.startIndex);else if(a.lineIndex==t+1){n=a.startIndex;break}}return-1==n&&(n=this.__textEngine.text.length),n-e},getLineMetrics:function(t){this.__updateLayout();var e,n=this.__textEngine.lineAscents[t],i=this.__textEngine.lineDescents[t],r=this.__textEngine.lineLeadings[t],a=this.__textEngine.lineHeights[t],s=this.__textEngine.lineWidths[t];switch(this.__textFormat.align){case 0:e=(this.__textEngine.width-s)/2;break;case 1:case 4:e=this.__textEngine.width-s-2;break;case 2:case 3:case 5:e=2}return new Sl(e,s,a,n,i,r)},getLineOffset:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return-1;for(var e=0,n=this.__textEngine.layoutGroups;e<n.length;){var i=n[e];if(++e,i.lineIndex==t)return i.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return null;for(var e=-1,n=-1,i=0,r=this.__textEngine.layoutGroups;i<r.length;){var a=r[i];if(++i,a.lineIndex==t)-1==e&&(e=a.startIndex);else if(a.lineIndex==t+1){n=a.startIndex;break}}return-1==n&&(n=this.__textEngine.text.length),this.__textEngine.text.substring(e,n)},getParagraphLength:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;var e=this.getFirstCharInParagraph(t),n=this.__textEngine.text.indexOf("\n",t)+1;return 0==n&&(n=this.__textEngine.text.length),n-e},getTextFormat:function(t,e){null==e&&(e=0),null==t&&(t=0);for(var n=null,i=0,r=this.__textEngine.textFormatRanges;i<r.length;){var a=r[i];++i,(a.start<=t&&a.end>=t||a.start<=e&&a.end>=e)&&(null==n?n=a.format.clone():(a.format.font!=n.font&&(n.font=null),a.format.size!=n.size&&(n.size=null),a.format.color!=n.color&&(n.color=null),a.format.bold!=n.bold&&(n.bold=null),a.format.italic!=n.italic&&(n.italic=null),a.format.underline!=n.underline&&(n.underline=null),a.format.url!=n.url&&(n.url=null),a.format.target!=n.target&&(n.target=null),a.format.align!=n.align&&(n.align=null),a.format.leftMargin!=n.leftMargin&&(n.leftMargin=null),a.format.rightMargin!=n.rightMargin&&(n.rightMargin=null),a.format.indent!=n.indent&&(n.indent=null),a.format.leading!=n.leading&&(n.leading=null),a.format.blockIndent!=n.blockIndent&&(n.blockIndent=null),a.format.bullet!=n.bullet&&(n.bullet=null),a.format.kerning!=n.kerning&&(n.kerning=null),a.format.letterSpacing!=n.letterSpacing&&(n.letterSpacing=null),a.format.tabStops!=n.tabStops&&(n.tabStops=null)))}return n},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,n=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(e,n,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,n){if(!(e<t||t<0||e>this.__textEngine.text.length||null==n)){var i=this.__textEngine.text.substring(0,t)+n,r=this.__textEngine.text.substring(e);this.__textEngine.text=i+r;for(var a,s=n.length-(e-t),l=0;l<this.__textEngine.textFormatRanges.length;)(a=this.__textEngine.textFormatRanges[l]).start<=t&&a.end>=e?(a.end+=s,++l):a.start>=t&&a.end<=e?(this.__textEngine.textFormatRanges.splice(l,1),s-=a.end-a.start):a.start>t&&a.start<=e?(a.start+=s,++l):++l;this.__dirty=!0,this.__layoutDirty=!0}},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e},setTextFormat:function(t,e,n){null==n&&(n=0),null==e&&(e=0),null!=t.font&&(this.__textFormat.font=t.font),null!=t.size&&(this.__textFormat.size=t.size),null!=t.color&&(this.__textFormat.color=t.color),null!=t.bold&&(this.__textFormat.bold=t.bold),null!=t.italic&&(this.__textFormat.italic=t.italic),null!=t.underline&&(this.__textFormat.underline=t.underline),null!=t.url&&(this.__textFormat.url=t.url),null!=t.target&&(this.__textFormat.target=t.target),null!=t.align&&(this.__textFormat.align=t.align),null!=t.leftMargin&&(this.__textFormat.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.__textFormat.rightMargin=t.rightMargin),null!=t.indent&&(this.__textFormat.indent=t.indent),null!=t.leading&&(this.__textFormat.leading=t.leading),null!=t.blockIndent&&(this.__textFormat.blockIndent=t.blockIndent),null!=t.bullet&&(this.__textFormat.bullet=t.bullet),null!=t.kerning&&(this.__textFormat.kerning=t.kerning),null!=t.letterSpacing&&(this.__textFormat.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.__textFormat.tabStops=t.tabStops),this.__dirty=!0,this.__layoutDirty=!0},__getBounds:function(t,e){this.__updateLayout();var n=z.__temp;this.__textEngine.bounds.__transform(n,e),t.__expand(n.x,n.y,n.width,n.height)},__getCursor:function(){return this.__textEngine.selectable?Pi.TEXT:null},__getPosition:function(t,e){this.__updateLayout(),t+=this.get_scrollH();for(var n=0,i=this.get_scrollV()-1;n<i;){var r=n++;e+=this.__textEngine.lineHeights[r]}e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight);for(var a,s,l=!0,o=0,h=this.__textEngine.layoutGroups.length;o<h;){var _=o++;if(a=this.__textEngine.layoutGroups[_],s=_<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[_+1]:null,l&&(e<a.offsetY&&(e=a.offsetY),t<a.offsetX&&(t=a.offsetX),l=!1),(e>=a.offsetY&&e<=a.offsetY+a.height||null==s)&&(t>=a.offsetX&&t<=a.offsetX+a.width||null==s||s.lineIndex!=a.lineIndex)){for(var u=0,c=0,d=a.advances.length;c<d;){var f=c++;if(u+=a.advances[f],t<=a.offsetX+u)return t<=a.offsetX+(u-a.advances[f])+a.advances[f]/2?a.startIndex+f:a.startIndex+f<a.endIndex?a.startIndex+f+1:a.endIndex}return a.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,n,i,r,a){if(!a.get_visible()||this.__isMask||r&&!this.mouseEnabled)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var s=this.__worldTransform,l=s.a*s.d-s.b*s.c,o=0==l?-s.tx:1/l*(s.c*(s.ty-e)+s.d*(t-s.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return!!this.__textEngine.bounds.contains(o,u)&&(null!=i&&i.push(a),!0)},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var n=this.__worldTransform,i=n.a*n.d-n.b*n.c,r=0==i?-n.tx:1/i*(n.c*(n.ty-e)+n.d*(t-n.tx)),a=this.__worldTransform,s=a.a*a.d-a.b*a.c,l=0==s?-a.ty:1/s*(a.a*(e-a.ty)+a.b*(a.tx-t));return!!this.__textEngine.bounds.contains(r,l)},__renderCairo:function(t){Pr.render(this,t),c.prototype.__renderCairo.call(this,t)},__renderCanvas:function(t){if(this.__dirty){var e=this.__textEngine;if(this.__updateLayout(),(null==e.text||""==e.text)&&!e.background&&!e.border&&!e.__hasFocus||(e.width<=0||e.height<=0)&&2!=e.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{var n=e.bounds;null!=this.__graphics&&null!=this.__graphics.__canvas||(null==this.__graphics&&(this.__graphics=new ka),this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"),this.__graphics.__bounds=new z(0,0,n.width,n.height));var i=this.__graphics;if(Nr.context=i.__context,null!=e.text&&""!=e.text||e.__hasFocus){var r=e.text;if(e.displayAsPassword){for(var a="",s=0,l=r.length;s<l;){s++;a+="*"}r=a}if(i.__canvas.width=Math.ceil(n.width),i.__canvas.height=Math.ceil(n.height),0!=e.antiAliasType||1!=e.gridFitType?(i.__context.mozImageSmoothingEnabled=!0,i.__context.msImageSmoothingEnabled=!0,i.__context.imageSmoothingEnabled=!0):(i.__context.mozImageSmoothingEnabled=!1,i.__context.msImageSmoothingEnabled=!1,i.__context.imageSmoothingEnabled=!1),e.border||e.background){if(Nr.context.rect(.5,.5,n.width-1,n.height-1),e.background){var o=k.hex(e.backgroundColor,6);Nr.context.fillStyle="#"+o,Nr.context.fill()}if(e.border){Nr.context.lineWidth=1;var h=k.hex(e.borderColor,6);Nr.context.strokeStyle="#"+h,Nr.context.stroke()}}Nr.context.textBaseline="top",Nr.context.textAlign="start";for(var _=-this.get_scrollH(),u=0,d=0,f=this.get_scrollV()-1;d<f;){var g=d++;u-=e.lineHeights[g]}for(var p,m=0,v=new A("(iPad|iPhone|iPod|Firefox)","g").match(window.navigator.userAgent),x=0,y=e.layoutGroups;x<y.length;){var w=y[x];if(++x,!(w.lineIndex<this.get_scrollV()-1)){if(w.lineIndex>this.get_scrollV()+e.bottomScrollV-2)break;Nr.context.font=ba.getFont(w.format);var b=k.hex(w.format.color,6);if(Nr.context.fillStyle="#"+b,v&&(m=.185*w.format.size),Nr.context.fillText(r.substring(w.startIndex,w.endIndex),w.offsetX+_,w.offsetY+m+u),this.__caretIndex>-1&&e.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&w.startIndex<=this.__caretIndex&&w.endIndex>=this.__caretIndex){p=0;for(var T=0,E=this.__caretIndex-w.startIndex;T<E;){var R=T++;if(w.advances.length<=R)break;p+=w.advances[R]}Nr.context.fillRect(w.offsetX+p,w.offsetY,1,w.height)}}else if(w.startIndex<=this.__caretIndex&&w.endIndex>=this.__caretIndex||w.startIndex<=this.__selectionIndex&&w.endIndex>=this.__selectionIndex){var I=0|Math.min(this.__selectionIndex,this.__caretIndex),S=0|Math.max(this.__selectionIndex,this.__caretIndex);w.startIndex>I&&(I=w.startIndex),w.endIndex<S&&(S=w.endIndex);var C,M;C=this.getCharBoundaries(I),S>=e.text.length?(M=this.getCharBoundaries(e.text.length-1)).x+=M.width+2:M=this.getCharBoundaries(S),null!=C&&null!=M&&(Nr.context.fillStyle="#000000",Nr.context.fillRect(C.x,C.y,M.x-C.x,w.height),Nr.context.fillStyle="#FFFFFF",Nr.context.fillText(r.substring(I,S),_+C.x,w.offsetY+m+u))}}}}else if(i.__canvas.width=Math.ceil(n.width),i.__canvas.height=Math.ceil(n.height),e.border||e.background){if(e.border?Nr.context.rect(.5,.5,n.width-1,n.height-1):Nr.context.rect(0,0,n.width,n.height),e.background){var D=k.hex(e.backgroundColor,6);Nr.context.fillStyle="#"+D,Nr.context.fill()}if(e.border){Nr.context.lineWidth=1,Nr.context.lineCap="square";var P=k.hex(e.borderColor,6);Nr.context.strokeStyle="#"+P,Nr.context.stroke()}}i.__bitmap=Ia.fromCanvas(this.__graphics.__canvas),this.__dirty=!1,i.set___dirty(!1)}}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var L=t.context.imageSmoothingEnabled;L&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),c.prototype.__renderCanvas.call(this,t),L&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else c.prototype.__renderCanvas.call(this,t)},__renderDOM:function(t){var e=this,n=e.__textEngine;if(null!=e.stage&&e.__worldVisible&&e.__renderable){if(e.__dirty||null==e.__div)if(""!=n.text||n.background||n.border||1==n.type){null==e.__div&&(e.__div=window.document.createElement("div"),Yr.initializeElement(e,e.__div,t),e.__style.setProperty("outline","none",null),e.__div.addEventListener("input",function(t){t.preventDefault(),e.get_htmlText()!=e.__div.innerHTML&&(e.set_htmlText(e.__div.innerHTML),e.__dirty=!1)},!0)),n.selectable?e.__style.setProperty("cursor","text",null):e.__style.setProperty("cursor","inherit",null),e.__div.contentEditable=1==n.type;var i=e.__style;switch(e.__div.innerHTML=n.text,n.background?i.setProperty("background-color","#"+k.hex(n.backgroundColor,6),null):i.removeProperty("background-color"),n.border?i.setProperty("border","solid 1px #"+k.hex(n.borderColor,6),null):i.removeProperty("border"),i.setProperty("font",ba.getFont(e.__textFormat),null),i.setProperty("color","#"+k.hex(e.__textFormat.color,6),null),2!=n.autoSize?i.setProperty("width","auto",null):i.setProperty("width",n.width+"px",null),i.setProperty("height",n.height+"px",null),e.__textFormat.align){case 0:i.setProperty("text-align","center",null);break;case 4:i.setProperty("text-align","right",null);break;default:i.setProperty("text-align","left",null)}e.__dirty=!1}else null!=e.__div&&(t.element.removeChild(e.__div),e.__div=null);null!=e.__div&&Yr.applyStyle(e,t,!0,!0,!1)}else null!=e.__div&&(t.element.removeChild(e.__div),e.__div=null,e.__style=null)},__renderGL:function(t){if(this.__cacheAsBitmap){var e=null!=this.__cacheAsBitmapMatrix,n=this.__cachedBitmapBounds.x,i=this.__cachedBitmapBounds.y,r=this.__cachedBitmapBounds.width,a=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new W),e){var s=z.__temp;this.__cachedBitmapBounds.__transform(s,this.__cacheAsBitmapMatrix),n=s.x,i=s.y,r=s.width,a=s.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(r<=0&&a<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(r+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),a+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Ia.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(r),Math.ceil(a));var l=this.__cacheGLMatrix.clone();l.translate(-n,-i);var o=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,l,null,null,null,!0,!1,!0),this.__shader=o,this.__updateCachedBitmap=!1}this.__updateFilters&&(tl.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert();var h=this.__cacheGLMatrix;h.tx=n*h.a+i*h.c+h.tx,h.ty=n*h.b+i*h.d+h.ty,this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}}else{if(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),this.__dirty){var _=this.__textEngine;if(this.__updateLayout(),(null==_.text||""==_.text)&&!_.background&&!_.border&&!_.__hasFocus||(_.width<=0||_.height<=0)&&2!=_.autoSize)this.__graphics.__canvas=null,this.__graphics.__context=null,this.__graphics.set___dirty(!1),this.__dirty=!1;else{var u=_.bounds;null!=this.__graphics&&null!=this.__graphics.__canvas||(null==this.__graphics&&(this.__graphics=new ka),this.__graphics.__canvas=window.document.createElement("canvas"),this.__graphics.__context=this.__graphics.__canvas.getContext("2d"),this.__graphics.__bounds=new z(0,0,u.width,u.height));var c=this.__graphics;if(Nr.context=c.__context,null!=_.text&&""!=_.text||_.__hasFocus){var d=_.text;if(_.displayAsPassword){for(var f="",g=0,p=d.length;g<p;){g++;f+="*"}d=f}if(c.__canvas.width=Math.ceil(u.width),c.__canvas.height=Math.ceil(u.height),0!=_.antiAliasType||1!=_.gridFitType?(c.__context.mozImageSmoothingEnabled=!0,c.__context.msImageSmoothingEnabled=!0,c.__context.imageSmoothingEnabled=!0):(c.__context.mozImageSmoothingEnabled=!1,c.__context.msImageSmoothingEnabled=!1,c.__context.imageSmoothingEnabled=!1),_.border||_.background){if(Nr.context.rect(.5,.5,u.width-1,u.height-1),_.background){var m=k.hex(_.backgroundColor,6);Nr.context.fillStyle="#"+m,Nr.context.fill()}if(_.border){Nr.context.lineWidth=1;var v=k.hex(_.borderColor,6);Nr.context.strokeStyle="#"+v,Nr.context.stroke()}}Nr.context.textBaseline="top",Nr.context.textAlign="start";for(var x=-this.get_scrollH(),y=0,w=0,b=this.get_scrollV()-1;w<b;){var T=w++;y-=_.lineHeights[T]}for(var E,R=0,I=new A("(iPad|iPhone|iPod|Firefox)","g").match(window.navigator.userAgent),S=0,C=_.layoutGroups;S<C.length;){var M=C[S];if(++S,!(M.lineIndex<this.get_scrollV()-1)){if(M.lineIndex>this.get_scrollV()+_.bottomScrollV-2)break;Nr.context.font=ba.getFont(M.format);var D=k.hex(M.format.color,6);if(Nr.context.fillStyle="#"+D,I&&(R=.185*M.format.size),Nr.context.fillText(d.substring(M.startIndex,M.endIndex),M.offsetX+x,M.offsetY+R+y),this.__caretIndex>-1&&_.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&M.startIndex<=this.__caretIndex&&M.endIndex>=this.__caretIndex){E=0;for(var P=0,L=this.__caretIndex-M.startIndex;P<L;){var B=P++;if(M.advances.length<=B)break;E+=M.advances[B]}Nr.context.fillRect(M.offsetX+E,M.offsetY,1,M.height)}}else if(M.startIndex<=this.__caretIndex&&M.endIndex>=this.__caretIndex||M.startIndex<=this.__selectionIndex&&M.endIndex>=this.__selectionIndex){var O=0|Math.min(this.__selectionIndex,this.__caretIndex),F=0|Math.max(this.__selectionIndex,this.__caretIndex);M.startIndex>O&&(O=M.startIndex),M.endIndex<F&&(F=M.endIndex);var N,U;N=this.getCharBoundaries(O),F>=_.text.length?(U=this.getCharBoundaries(_.text.length-1)).x+=U.width+2:U=this.getCharBoundaries(F),null!=N&&null!=U&&(Nr.context.fillStyle="#000000",Nr.context.fillRect(N.x,N.y,U.x-N.x,M.height),Nr.context.fillStyle="#FFFFFF",Nr.context.fillText(d.substring(O,F),x+N.x,M.offsetY+R+y))}}}}else if(c.__canvas.width=Math.ceil(u.width),c.__canvas.height=Math.ceil(u.height),_.border||_.background){if(_.border?Nr.context.rect(.5,.5,u.width-1,u.height-1):Nr.context.rect(0,0,u.width,u.height),_.background){var G=k.hex(_.backgroundColor,6);Nr.context.fillStyle="#"+G,Nr.context.fill()}if(_.border){Nr.context.lineWidth=1,Nr.context.lineCap="square";var X=k.hex(_.borderColor,6);Nr.context.strokeStyle="#"+X,Nr.context.stroke()}}c.__bitmap=Ia.fromCanvas(this.__graphics.__canvas),this.__dirty=!1,c.set___dirty(!1)}}zr.renderBitmap(this,t,0!=this.__textEngine.antiAliasType||1!=this.__textEngine.gridFitType),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__startCursorTimer:function(){this.__cursorTimer=he.delay(r(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(r(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(r(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(r(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),2!=this.__textEngine.autoSize){var t=this.__textEngine.width;this.__textEngine.height;switch(this.__textEngine.autoSize){case 0:case 1:case 3:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t)switch(this.__textEngine.autoSize){case 0:var e=this;e.set_x(e.get_x()+(t-this.__textEngine.width)/2);break;case 3:var n=this;n.set_x(n.get_x()+(t-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1}},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){this.__textEngine.antiAliasType;return this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&(this.__dirty=!0),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&(this.__dirty=!0),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&(this.__dirty=!0),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&(this.__dirty=!0),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.__dirty=!0,t},get_displayAsPassword:function(){return this.__textEngine.displayAsPassword},set_displayAsPassword:function(t){return t!=this.__textEngine.displayAsPassword&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.displayAsPassword=t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),this.__textEngine.height},set_height:function(t){return 1==this.get_scaleY()&&t==this.__textEngine.height||(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(t){if(this.__isHTML&&this.__textEngine.text==t||(this.__dirty=!0,this.__layoutDirty=!0),this.__isHTML=!0,null==this.__div){var e=new RegExp("<br>","g".split("u").join(""));t=t.replace(e,"\n");var n=new RegExp("<br/>","g".split("u").join("")),i=(t=t.replace(n,"\n")).split("<font");if(1==i.length){var r=new RegExp("<.*?>","g".split("u").join(""));t=t.replace(r,""),this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var a=this.__textEngine.textFormatRanges[0];return a.format=this.__textFormat,a.start=0,a.end=t.length,this.__textEngine.text=t}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),t="";for(var s=0;s<i.length;){var l=i[s];if(++s,""!=l){var o=l.indexOf("</font>");if(o>-1){var h=l.indexOf(">")+1,_=o,u=this.__textFormat.clone(),c=l.indexOf("face="),d=l.indexOf("color="),f=l.indexOf("size=");c>-1&&c<h&&(u.font=I.substr(l,c+6,l.indexOf('"',c))),d>-1&&d<h&&(u.color=P.parseInt("0x"+I.substr(l,d+8,6))),f>-1&&f<h&&(u.size=P.parseInt(I.substr(l,f+6,l.indexOf('"',f))));var g=l.substring(h,_),p=new RegExp("<.*?>","g".split("u").join(""));g=g.replace(p,""),this.__textEngine.textFormatRanges.push(new Ta(u,t.length,t.length+g.length)),t+=g,o+7<l.length&&(g=I.substr(l,o+7,null),this.__textEngine.textFormatRanges.push(new Ta(this.__textFormat,t.length,t.length+g.length)),t+=g)}else this.__textEngine.textFormatRanges.push(new Ta(this.__textFormat,t.length,t.length+l.length)),t+=l}}}return this.__textEngine.text=t},get_length:function(){return null!=this.__textEngine.text?this.__textEngine.text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.maxChars=t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.maxScrollV},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict=t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),t<0&&(t=0),t!=this.__textEngine.scrollH&&(this.__dirty=!0),this.__textEngine.scrollH=t},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(t){return t>this.__textEngine.maxScrollV&&(t=this.__textEngine.maxScrollV),t<1&&(t=1),t!=this.__textEngine.scrollV&&(this.__dirty=!0),this.__textEngine.scrollV=t},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&(this.__dirty=!0),this.__textEngine.sharpness=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.__dirty=!0,this.__layoutDirty=!0,this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__textEngine.text=t},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&(this.__dirty=!0);for(var e=0,n=this.__textEngine.textFormatRanges;e<n.length;){var i=n[e];++e,i.format.color=t}return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(1==t?(this.addEventListener("focusIn",r(this,this.this_onFocusIn)),this.addEventListener("focusOut",r(this,this.this_onFocusOut)),this.addEventListener("addedToStage",r(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",r(this,this.this_onFocusIn)),this.removeEventListener("focusOut",r(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",r(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),this.__textEngine.width},set_width:function(t){return 1==this.get_scaleX()&&this.__textEngine.width==t||(this.__transformDirty||(this.__transformDirty=!0,u.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.wordWrap=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&this.__selectionIndex>=0){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.__dirty=!0)}},stage_onMouseUp:function(t){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",r(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",r(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform(),this.__updateLayout();var e,n,i=this.__worldTransform,a=this.get_x(),s=this.get_y(),l=i.a*i.d-i.b*i.c,o=(0==l?i.tx:(i.c,i.ty,i.d,i.tx),this.__worldTransform),h=this.get_x(),_=this.get_y(),u=o.a*o.d-o.b*o.c,c=(0==u?o.ty:(o.a,o.ty,o.b,o.tx),this.__getPosition(this.get_mouseX(),this.get_mouseY()));e=0|Math.min(this.__selectionIndex,c),n=0|Math.max(this.__selectionIndex,c),this.__selectionIndex=e,this.__caretIndex=n,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.stage.addEventListener("mouseMove",r(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",r(this,this.stage_onMouseUp)))},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&this.__caretIndex>0&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Nt("change",!0)));break;case 99:64!=e&&128!=e||_i.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 118:if(64==e||128==e){var n=_i.get_text();null!=n?this.replaceSelectedText(n):this.replaceSelectedText(""),this.dispatchEvent(new Nt("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length;break;case 120:64!=e&&128!=e||(_i.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Nt("change",!0))));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Nt("change",!0)));break;case 1073741903:Mi.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=0|Math.max(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741904:Mi.get_shiftKey(e)?this.__caretIndex>0&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?this.__caretIndex>0&&this.__caretIndex--:this.__caretIndex=0|Math.min(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer()}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Nt("change",!0))},__class__:Tl,__properties__:n(c.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var El={};a["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=El,El.__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"],El.fromString=function(t){switch(t){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},El.toString=function(t){switch(t){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var Rl={};a["openfl.text._TextFieldType.TextFieldType_Impl_"]=Rl,Rl.__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"],Rl.fromString=function(t){switch(t){case"dynamic":return 0;case"input":return 1;default:return null}},Rl.toString=function(t){switch(t){case 0:return"dynamic";case 1:return"input";default:return null}};var Al=function(t,e,n,i,r,a,s,l,o,h,_,u,c){this.font=t,this.size=e,this.color=n,this.bold=i,this.italic=r,this.underline=a,this.url=s,this.target=l,this.align=o,this.leftMargin=h,this.rightMargin=_,this.indent=u,this.leading=c};a["openfl.text.TextFormat"]=Al,Al.__name__=["openfl","text","TextFormat"],Al.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,clone:function(){var t=new Al(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:Al};var Il={};a["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Il,Il.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"],Il.fromString=function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},Il.toString=function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var Sl=function(t,e,n,i,r,a){this.x=t,this.width=e,this.height=n,this.ascent=i,this.descent=r,this.leading=a};a["openfl.text.TextLineMetrics"]=Sl,Sl.__name__=["openfl","text","TextLineMetrics"],Sl.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,__class__:Sl};var Cl=function(){h.call(this),Cl.__instances.push(this)};a["openfl.ui.GameInput"]=Cl,Cl.__name__=["openfl","ui","GameInput"],Cl.getDeviceAt=function(t){return t>=0&&t<Cl.__deviceList.length?Cl.__deviceList[t]:null},Cl.__getDevice=function(t){if(null==t)return null;if(null==Cl.__devices.h.__keys__[t.__id__]){var e=Ii.__getDeviceData()[t.id].id,n=Ii.__getDeviceData(),i=new Dl(e,n[t.id].id);Cl.__deviceList.push(i),Cl.__devices.set(t,i),Cl.numDevices=Cl.__deviceList.length}return Cl.__devices.h[t.__id__]},Cl.__onGamepadAxisMove=function(t,e,n){var i=Cl.__getDevice(t);if(null!=i&&i.enabled){if(!i.__axis.h.hasOwnProperty(e)){var r;switch(e){case 0:r="LEFT_X";break;case 1:r="LEFT_Y";break;case 2:r="RIGHT_X";break;case 3:r="RIGHT_Y";break;case 4:r="TRIGGER_LEFT";break;case 5:r="TRIGGER_RIGHT";break;default:r="UNKNOWN ("+e+")"}var a=new Ml(i,"AXIS_"+r,-1,1);i.__axis.h[e]=a,i.__controls.push(a)}var s=i.__axis.h[e];s.value=n,s.dispatchEvent(new Nt("change"))}},Cl.__onGamepadButtonDown=function(t,e){var n=Cl.__getDevice(t);if(null!=n&&n.enabled){if(!n.__button.h.hasOwnProperty(e)){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}var r=new Ml(n,"BUTTON_"+i,0,1);n.__button.h[e]=r,n.__controls.push(r)}var a=n.__button.h[e];a.value=1,a.dispatchEvent(new Nt("change"))}},Cl.__onGamepadButtonUp=function(t,e){var n=Cl.__getDevice(t);if(null!=n&&n.enabled){if(!n.__button.h.hasOwnProperty(e)){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}var r=new Ml(n,"BUTTON_"+i,0,1);n.__button.h[e]=r,n.__controls.push(r)}var a=n.__button.h[e];a.value=0,a.dispatchEvent(new Nt("change"))}},Cl.__onGamepadConnect=function(t){var e=Cl.__getDevice(t);if(null!=e)for(var n=0,i=Cl.__instances;n<i.length;){var r=i[n];++n,r.dispatchEvent(new zs("deviceAdded",null,null,e))}},Cl.__onGamepadDisconnect=function(t){var e=Cl.__devices.h[t.__id__];if(null!=e){null!=Cl.__devices.h.__keys__[t.__id__]&&(I.remove(Cl.__deviceList,Cl.__devices.h[t.__id__]),Cl.__devices.remove(t)),Cl.numDevices=Cl.__deviceList.length;for(var n=0,i=Cl.__instances;n<i.length;){var r=i[n];++n,r.dispatchEvent(new zs("deviceRemoved",null,null,e))}}},Cl.__super__=h,Cl.prototype=n(h.prototype,{__class__:Cl});var Ml=function(t,e,n,i,r){null==r&&(r=0),h.call(this),this.device=t,this.id=e,this.minValue=n,this.maxValue=i,this.value=r};a["openfl.ui.GameInputControl"]=Ml,Ml.__name__=["openfl","ui","GameInputControl"],Ml.__super__=h,Ml.prototype=n(h.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:Ml});var Dl=function(t,e){this.__controls=[],this.__button=new ce,this.__axis=new ce,this.id=t,this.name=e;for(var n,i=0;i<6;){var r=i++;n=new Ml(this,"AXIS_"+r,-1,1),this.__axis.h[r]=n,this.__controls.push(n)}for(var a=0;a<15;){var s=a++;n=new Ml(this,"BUTTON_"+s,0,1),this.__button.h[s]=n,this.__controls.push(n)}};a["openfl.ui.GameInputDevice"]=Dl,Dl.__name__=["openfl","ui","GameInputDevice"],Dl.prototype={enabled:null,id:null,name:null,sampleInterval:null,__axis:null,__button:null,__controls:null,__gamepad:null,getCachedSamples:function(t,e){return null==e&&(e=!1),0},getControlAt:function(t){return t>=0&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:Dl,__properties__:{get_numControls:"get_numControls"}};var Pl=function(){};a["openfl.ui.Keyboard"]=Pl,Pl.__name__=["openfl","ui","Keyboard"],Pl.capsLock=null,Pl.numLock=null,Pl.isAccessible=function(){return!1},Pl.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return t}},Pl.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(t>=65&&t<=90)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(t>=48&&t<=57)return t-48+48;if(t>=65&&t<=90)return t-65+97}if(t>=96&&t<=105)return t-96+48;switch(t){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},Pl.__getKeyLocation=function(t){switch(t){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var Ll=function(){};a["openfl.ui.Multitouch"]=Ll,Ll.__name__=["openfl","ui","Multitouch"],Ll.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents",set_inputMode:"set_inputMode",get_inputMode:"get_inputMode"},Ll.maxTouchPoints=null,Ll.supportedGestures=null,Ll.supportsGestureEvents=null,Ll.supportsTouchEvents=null,Ll.get_inputMode=function(){return 2},Ll.set_inputMode=function(t){return 0==t?Ll.get_inputMode():t},Ll.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)};var kl={};a["openfl.ui._MultitouchInputMode.MultitouchInputMode_Impl_"]=kl,kl.__name__=["openfl","ui","_MultitouchInputMode","MultitouchInputMode_Impl_"],kl.fromString=function(t){switch(t){case"gesture":return 0;case"none":return 1;case"touchPoint":return 2;default:return null}},kl.toString=function(t){switch(t){case 0:return"gesture";case 1:return"none";case 2:return"touchPoint";default:return null}};var Bl={};a["openfl.utils._ByteArray.ByteArray_Impl_"]=Bl,Bl.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"],Bl.__properties__={set_length:"set_length",get_length:"get_length"},Bl.defaultObjectEncoding=null,Bl._new=function(t){return null==t&&(t=0),new Nl(t)},Bl.get=function(t,e){return t.b[e]},Bl.set=function(t,e,n){return t.b[e]=255&n,n},Bl.fromArrayBuffer=function(t){return Nl.fromBytes(me.ofData(t))},Bl.fromBytes=function(t){return X.__instanceof(t,Nl)?t:Nl.fromBytes(t)},Bl.fromBytesData=function(t){return Nl.fromBytes(me.ofData(t))},Bl.toArrayBuffer=function(t){return t.b.bufferValue},Bl.toBytes=function(t){return t},Bl.toBytesData=function(t){return t.b.bufferValue},Bl.toLimeBytes=function(t){return new Oi(Bl.get_length(t),t.b.bufferValue)},Bl.get_length=function(t){return t.__length},Bl.set_length=function(t,e){return e>0&&t.__resize(e),t.__length=e,e};var Ol=function(){};a["openfl.utils.IDataOutput"]=Ol,Ol.__name__=["openfl","utils","IDataOutput"],Ol.prototype={get_endian:null,set_endian:null,objectEncoding:null,writeBoolean:null,writeByte:null,writeBytes:null,writeDouble:null,writeFloat:null,writeInt:null,writeMultiByte:null,writeShort:null,writeUTF:null,writeUTFBytes:null,writeUnsignedInt:null,__class__:Ol,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var Fl=function(){};a["openfl.utils.IDataInput"]=Fl,Fl.__name__=["openfl","utils","IDataInput"],Fl.prototype={get_bytesAvailable:null,get_endian:null,set_endian:null,objectEncoding:null,readBoolean:null,readByte:null,readBytes:null,readDouble:null,readFloat:null,readInt:null,readMultiByte:null,readShort:null,readUnsignedByte:null,readUnsignedInt:null,readUnsignedShort:null,readUTF:null,readUTFBytes:null,__class__:Fl,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var Nl=function(t){null==t&&(t=0);var e=new me(new xo(t));me.call(this,e.b.buffer),this.__length=t,this.__endian=0,this.position=0};a["openfl.utils.ByteArrayData"]=Nl,Nl.__name__=["openfl","utils","ByteArrayData"],Nl.__interfaces__=[Ol,Fl],Nl.fromBytes=function(t){var e=new Nl;return e.__fromBytes(t),e},Nl.__super__=me,Nl.prototype=n(me.prototype,{objectEncoding:null,position:null,__endian:null,__length:null,clear:function(){this.__length=0,this.position=0},compress:function(t){this.__length=this.length,this.position=this.__length},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new Ee(new Fs)},readByte:function(){var t=this.readUnsignedByte();return 0!=(128&t)?t-256:t},readBytes:function(t,e,n){if(null==n&&(n=0),null==e&&(e=0),0==n&&(n=this.__length-this.position),this.position+n>this.__length)throw new Ee(new Fs);t.__length<e+n&&t.__resize(e+n),t.blit(e,this,this.position,n),this.position+=n},readDouble:function(){if(this.position+8>this.__length)throw new Ee(new Fs);return this.position+=8,this.getDouble(this.position-8)},readFloat:function(){if(this.position+4>this.__length)throw new Ee(new Fs);return this.position+=4,this.getFloat(this.position-4)},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),n=this.readUnsignedByte(),i=this.readUnsignedByte();return 1==this.__endian?i<<24|n<<16|e<<8|t:t<<24|e<<16|n<<8|i},readMultiByte:function(t,e){return this.readUTFBytes(t)},readShort:function(){var t,e=this.readUnsignedByte(),n=this.readUnsignedByte();return 0!=(32768&(t=1==this.__endian?n<<8|e:e<<8|n))?t-65536:t},readUnsignedByte:function(){if(this.position<this.__length)return this.b[this.position++];throw new Ee(new Fs)},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),n=this.readUnsignedByte(),i=this.readUnsignedByte();return 1==this.__endian?i<<24|n<<16|e<<8|t:t<<24|e<<16|n<<8|i},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.__length)throw new Ee(new Fs);return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){this.__length=this.length,this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.b[this.position++]=255&t},writeBytes:function(t,e,n){null==n&&(n=0),null==e&&(e=0),0!=Bl.get_length(t)&&(0==n&&(n=Bl.get_length(t)-e),this.__resize(this.position+n),this.blit(this.position,t,e,n),this.position=this.position+n)},writeDouble:function(t){this.__resize(this.position+8),this.setDouble(this.position,t),this.position+=8},writeFloat:function(t){this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>24&255):(this.b[this.position++]=t>>24&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255):(this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){var e=me.ofString(t);this.writeShort(e.length),this.writeBytes(Bl.fromBytes(e))},writeUTFBytes:function(t){me.ofString(t);this.writeBytes(Bl.fromBytes(me.ofString(t)))},__fromBytes:function(t){this.b=t.b,this.length=t.length,this.data=t.data,this.__length=t.length},__resize:function(t){if(t>this.length){var e=new me(new xo(3*(t+1)>>1));e.blit(0,this,0,this.length),this.b=e.b,this.length=e.length,this.data=e.data}this.__length<t&&(this.__length=t)},__setData:function(t){this.b=t.b,this.length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.__length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:Nl,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var Ul={};a["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=Ul,Ul.__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"],Ul.fromString=function(t){switch(t){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},Ul.toString=function(t){switch(t){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var Gl={};a["openfl.utils._Endian.Endian_Impl_"]=Gl,Gl.__name__=["openfl","utils","_Endian","Endian_Impl_"],Gl.fromString=function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},Gl.toString=function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var Xl={};a["openfl.utils._Object.Object_Impl_"]=Xl,Xl.__name__=["openfl","utils","_Object","Object_Impl_"],Xl._new=function(){return{}},Xl.hasOwnProperty=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},Xl.isPrototypeOf=function(t,e){for(var n=t,i=null==n?null:X.getClass(n);null!=i;){if(i==e)return!0;i=B.getSuperClass(i)}return!1},Xl.iterator=function(t){var e=D.fields(t);return null==e&&(e=[]),I.iter(e)},Xl.propertyIsEnumerable=function(t,e){return!(null==t||!Object.prototype.hasOwnProperty.call(t,e))&&X.__instanceof(D.field(t,e),Hl)},Xl.toLocaleString=function(t){return P.string(t)},Xl.toString=function(t){return P.string(t)},Xl.valueOf=function(t){return t},Xl.__get=function(t,e){return D.field(t,e)},Xl.__set=function(t,e,n){return t[e]=n,n};var Yl=function(){};a["haxe.lang.Iterator"]=Yl,Yl.__name__=["haxe","lang","Iterator"],Yl.prototype={hasNext:null,next:null,__class__:Yl};var Hl=function(){};a["haxe.lang.Iterable"]=Hl,Hl.__name__=["haxe","lang","Iterable"],Hl.prototype={iterator:null,__class__:Hl};var Vl=function(t){Q.call(this,4,4);var e;if(Z.renderMode==it.HARDWARE){var n=null;if(At._dataPool.exists("gfx/command.png"))n=At._dataPool.get("gfx/command.png");else{var i=Z.getBitmap("gfx/command.png");null!=i&&(n=new At(i,"gfx/command.png"))}var r=n;e=gt.Right(Et.loadImageAsRegion(r))}else e=gt.Left(Z.getBitmap("gfx/command.png"));this.img=new xt(e),null==t&&(t=""),""==t&&this.img.set_alpha(.5),this.nameTxt=new bt(t,0,18,0,0,{size:8}),this.nameTxt.x=32-this.nameTxt.textWidth/2|0,this.gl=new vt([this.img,this.nameTxt]),this.gl.scrollX=this.gl.scrollY=0,this.set_graphic(this.gl),this.set_layer(-1)};a["pitzik4.ld29.EntComm"]=Vl,Vl.__name__=["pitzik4","ld29","EntComm"],Vl.__super__=Q,Vl.prototype=n(Q.prototype,{img:null,nameTxt:null,get_word:function(){return this.nameTxt._text},set_word:function(t){return null==t&&(t=""),this.nameTxt.set_text(t),this.nameTxt.x=32-this.nameTxt.textWidth/2|0,""==t?this.img.set_alpha(.5):this.img.set_alpha(1),t},gl:null,__class__:Vl,__properties__:n(Q.prototype.__properties__,{set_word:"set_word",get_word:"get_word"})});var Wl=function(){};a["pitzik4.ld29.ITextRenderable"]=Wl,Wl.__name__=["pitzik4","ld29","ITextRenderable"],Wl.prototype={renderText:null,__class__:Wl};var zl=function(t,e,n){null==n&&(n=0),null==e&&(e=0),this.zOffs=0,this.myOffs=0,this.grid=t,this.myOffs=e,-1==n?(Z._seed=16807*Z._seed%2147483647|0,this.zOffs=Z._seed/2147483647):this.zOffs=n};a["pitzik4.ld29.GridText"]=zl,zl.__name__=["pitzik4","ld29","GridText"],zl.__interfaces__=[Wl],zl.hash=function(t,e,n){return null==n&&(n=0),(0|Math.abs(16*(412*Math.cos(124.123*(2.31*t+53.21*e))+77.18*n)))%16},zl.prototype={grid:null,myOffs:null,zOffs:null,renderText:function(t,e,n,i,r){null==r&&(r=8),null==i&&(i=5),null==n&&(n=0),null==e&&(e=0);var a=this.grid,s=a._parent!=Q._EMPTY?a._parent:null,l=((s.followCamera?s.x+Z.camera.x:s.x)+e|0)/i|0,o=this.grid,h=o._parent!=Q._EMPTY?o._parent:null,_=(((h.followCamera?h.y+Z.camera.y:h.y)+n|0)/r|0)+this.myOffs,u=this.grid,c=u._parent!=Q._EMPTY?u._parent:null,d=l-((0|(c.followCamera?c.x+Z.camera.x:c.x))/i|0),f=this.grid,g=f._parent!=Q._EMPTY?f._parent:null,p=_-((0|(g.followCamera?g.y+Z.camera.y:g.y))/r|0)-this.myOffs;++l,--_;for(var m=lo.clamp(l,0,t[0].length),v=lo.clamp(l+(this.grid.get_width()/i|0),0,t[0].length);m<v;)for(var x=m++,y=lo.clamp(_,0,t.length),w=lo.clamp(_+(this.grid.get_height()/r|0),0,t.length);y<w;){var b=y++;this.grid.getTile((x-l+2)*i/(0|this.grid._tile.width)|0,(b-_)*r/(0|this.grid._tile.height)|0)&&(t[b][x]=zl.hash(x-d,b-p,this.zOffs))}},__class__:zl};var jl=function(){};a["pitzik4.ld29.IInspectable"]=jl,jl.__name__=["pitzik4","ld29","IInspectable"],jl.prototype={getPicture:null,getName:null,getX:null,getY:null,getEvents:null,getCommands:null,__class__:jl};var Kl=function(){};a["pitzik4.ld29.ITextHaver"]=Kl,Kl.__name__=["pitzik4","ld29","ITextHaver"],Kl.prototype={getTextR:null,__class__:Kl};var ql=function(t,e){Q.call(this),ql.defineInputs(),this.uncover=0,this.pack=e,this.click=new st("sfx/click.ogg"),this.inspected=t,this.gl=new vt,this.gl.scrollX=this.gl.scrollY=0;var n;if(Z.renderMode==it.HARDWARE){var i=null;if(At._dataPool.exists("gfx/inspector.png"))i=At._dataPool.get("gfx/inspector.png");else{var r=Z.getBitmap("gfx/inspector.png");null!=r&&(i=new At(r,"gfx/inspector.png"))}var a=i;n=gt.Right(Et.loadImageAsRegion(a))}else n=gt.Left(Z.getBitmap("gfx/inspector.png"));this.bg=new xt(n),this.gl.add(this.bg),this.picture=t.getPicture(),this.picture._scale=2,this.picture.x=16,this.picture.smooth=!1,this.gl.add(this.picture);var s=new bt(t.getName(),0,3,0,0,{size:8});s.x=48-s.textWidth/2|0,this.gl.add(s);var l;if(Z.renderMode==it.HARDWARE){var o=null;if(At._dataPool.exists("gfx/selector.png"))o=At._dataPool.get("gfx/selector.png");else{var h=Z.getBitmap("gfx/selector.png");null!=h&&(o=new At(h,"gfx/selector.png"))}var _=o;l=gt.Right(Et.loadImageAsRegion(_))}else l=gt.Left(Z.getBitmap("gfx/selector.png"));this.selector=new xt(l),this.selector.x=4,this.selector.y=66,this.gl.add(this.selector),this.selectI=0,this.selected=new bt(t.getEvents()[this.selectI],0,65,0,0,{size:8}),this.selected.x=48-this.selected.textWidth/2|0,this.gl.add(this.selected);var u=t.getCommands(),c=t.getEvents()[this.selectI],d=u;this.comm=new Vl(null!=vo[c]?d.getReserved(c):d.h[c]),this.comm.gl.x=16,this.comm.gl.y=77,this.gl.add(this.comm.gl),this.cover=xt.createRect(88,120,-16777216),this.cover.x=4,this.cover.y=5,this.gl.add(this.cover),this.set_graphic(this.gl),this.width=96,this.height=128,this.originX=0,this.originY=0,this.set_layer(-5)};a["pitzik4.ld29.Inspector"]=ql,ql.__name__=["pitzik4","ld29","Inspector"],ql.defineInputs=function(){so.wasd?(Jt.define("next",[39]),Jt.define("last",[37]),Jt.define("swap",[16])):(Jt.define("next",[65]),Jt.define("last",[68]),Jt.define("swap",[83]))},ql.__super__=Q,ql.prototype=n(Q.prototype,{bg:null,cover:null,picture:null,selector:null,selected:null,selectI:null,gl:null,inspected:null,uncover:null,click:null,comm:null,pack:null,select:function(){this.selected.set_text(this.inspected.getEvents()[this.selectI]),this.selected.x=48-this.selected.textWidth/2|0;var t=this.comm,e=this.inspected.getCommands(),n=this.selected._text,i=e;t.set_word(null!=vo[n]?i.getReserved(n):i.h[n]),this.click.play()},update:function(){if(Jt.pressed(qt.fromLeft("next"))&&(this.selectI=(this.selectI+1)%this.inspected.getEvents().length,this.select()),Jt.pressed(qt.fromLeft("last"))&&(this.selectI=(this.selectI+this.inspected.getEvents().length-1)%this.inspected.getEvents().length,this.select()),Jt.pressed(qt.fromLeft("swap"))){var t=this.pack.get_word();this.pack.set_word(this.comm.get_word()),this.comm.set_word(t);var e=this.inspected.getCommands(),n=this.selected._text,i=e;null!=vo[n]?i.setReserved(n,t):i.h[n]=t,this.select()}if(this.x=this.inspected.getX()+48-Z.camera.x,this.y=this.inspected.getY()-64-Z.camera.y,this.x=Z.clamp(this.followCamera?this.x+Z.camera.x:this.x,0,Z.screen.width-this.width),this.y=Z.clamp(this.followCamera?this.y+Z.camera.y:this.y,0,Z.screen.height-this.height),this.uncover<1)if(this.uncover+=.025,this.uncover>=1)this.gl.remove(this.cover),this.gl.x=0,this.bg.x=0;else{-1==this.gl.x?this.gl.x=1:this.gl.x=-1,this.bg.x=-this.gl.x,this.gl.remove(this.cover);var r=120*(1-this.uncover)|0;r>0&&(this.cover=xt.createRect(88,r,-16777216),this.cover.x=4,this.cover.y=6,this.cover.y+=120*this.uncover,this.gl.add(this.cover))}},__class__:ql});var Jl=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),this.wasd=!1,Q.call(this,n,i),this.sc=t,this.ents=[],this.wasdTexts=[],this.wasdStrings=[],this.arrowStrings=[];var r,a=ji.getText("lvl/"+e+".csv"),s=a.substring(0,a.indexOf("\n")).split(",").length,l=a.split("\n").length;if(Z.renderMode==it.HARDWARE){var o=null;if(At._dataPool.exists("gfx/tiles.png"))o=At._dataPool.get("gfx/tiles.png");else{var h=Z.getBitmap("gfx/tiles.png");null!=h&&(o=new At(h,"gfx/tiles.png"))}var _=o;r=gt.Right(new Ct(_))}else r=gt.Left(Z.getBitmap("gfx/tiles.png"));this.map=new Tt(r,32*s,32*l,32,32),this.map.loadFromString(a),this.grid=new Dt(32*s,32*l,32,32),this.grid.loadFromString(a),this.width=s,this.height=l,this.set_graphic(this.map),this.set_mask(this.grid),this.set_type("solid"),this.set_layer(-2)};a["pitzik4.ld29.Level"]=Jl,Jl.__name__=["pitzik4","ld29","Level"],Jl.activeLevel=null,Jl.__super__=Q,Jl.prototype=n(Q.prototype,{grid:null,map:null,get_playerX:function(){return 0},get_playerY:function(){return 0},get_command:function(){return""},ents:null,sc:null,black:null,blackImg:null,wasdTexts:null,wasdStrings:null,arrowStrings:null,wasd:null,begin:function(){this.wasd=so.wasd,Jl.activeLevel=this},quit:function(){for(var t=0,e=this.ents;t<e.length;){var n=e[t];++t,this.remove(n)}},add:function(t,e){return this.sc.add(t),this.ents.push(t),X.__instanceof(t,Kl)&&this.sc.addTextH(t),t},remove:function(t){return this.sc.remove(t),X.__instanceof(t,Kl)&&this.sc.removeTextH(t),t},addText:function(t,e,n,i,r){null==r&&(r=3);var a=new bt(t,e,n,0,0,{size:8}),s=new Q;return s.set_layer(-r),s.set_graphic(a),this.add(s,r),null!=i&&(this.wasdTexts.push(a),this.wasdStrings.push(i),this.arrowStrings.push(t),so.wasd&&a.set_text(i)),a},redoWASD:function(t){if(t!=this.wasd){if(t)for(var e=0,n=this.wasdTexts.length;e<n;){var i=e++;this.wasdTexts[i].set_text(this.wasdStrings[i])}else for(var r=0,a=this.wasdTexts.length;r<a;){var s=r++;this.wasdTexts[s].set_text(this.arrowStrings[s])}this.wasd=t}},win:function(){},lose:function(){},trigger:function(t){},__class__:Jl,__properties__:n(Q.prototype.__properties__,{get_command:"get_command",get_playerY:"get_playerY",get_playerX:"get_playerX"})});var Zl=function(t,e,n){Jl.call(this,t,"level1",e,n)};a["pitzik4.ld29.Level1"]=Zl,Zl.__name__=["pitzik4","ld29","Level1"],Zl.__super__=Jl,Zl.prototype=n(Jl.prototype,{begin:function(){Jl.prototype.begin.call(this),this.addText("Arrow keys to move, Z (or up) to jump!",352,208,"A and S to move, W to jump!"),this.addText("If you want to use WASD, press backspace.",352,224,"If you want to use arrow keys, press backspace."),this.addText("If you want to use arrow keys, don't.",352,232,"If you want to use WASD, don't."),this.addText("You can toggle like this at any time.",352,240),this.addText("Try to get through this door.",480,264);var t=oo.makeRibbit(this.sc,448,288);t.sprite.set_flipped(!0),this.add(t);var e=oo.makeRock(this.sc,480,288);this.add(e);var n=oo.makeDoor(this.sc,576,288);this.add(n);var i=oo.makeWoof(this.sc,512,288);this.add(i)},get_playerX:function(){return 384},get_playerY:function(){return 288},winIt:function(){this.sc.switchLevel(new Ql(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new Zl(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},__class__:Zl});var Ql=function(t,e,n){Jl.call(this,t,"level2",e,n)};a["pitzik4.ld29.Level2"]=Ql,Ql.__name__=["pitzik4","ld29","Level2"],Ql.__super__=Jl,Ql.prototype=n(Jl.prototype,{begin:function(){Jl.prototype.begin.call(this),this.addText("Look at that Woof walking back and forth down there.",352,160),this.addText("Don't you wish that rock was walking like him?",352,168),this.addText("Well, just press C or the spacebar to go into introspection mode!",352,180,"Well, just press spacebar to go into introspection mode!",2),this.addText("Press X near it to inspect it. Don't touch it, though,           ",352,180,"Press the down arrow near it to inspect it. Don't touch ",1),this.addText("or you'll die!",352,188,"it, though, or you'll die!",1),this.addText("Cycle through triggers with A and D, then press S to",352,196,"Cycle through triggers with the left and right arrow",1),this.addText("take a command you think will be useful!",352,204,"keys, then press shift to take the command you want.",1),this.addText("Then inspect this rock. Use S to put the command in a",448,224,"Then inspect this rock. Use shift to put the command",1),this.addText("slot!",448,232,"in a slot!",1);var t=oo.makeWoof(this.sc,352,288);this.add(t),t=oo.makeRock(this.sc,608,256),this.add(t);var e=oo.makeDoor(this.sc,928,288);this.add(e)},get_playerX:function(){return 512},get_playerY:function(){return 256},winIt:function(){this.sc.switchLevel(new $l(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new Ql(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},__class__:Ql});var $l=function(t,e,n){Jl.call(this,t,"level3",e,n)};a["pitzik4.ld29.Level3"]=$l,$l.__name__=["pitzik4","ld29","Level3"],$l.__super__=Jl,$l.prototype=n(Jl.prototype,{begin:function(){Jl.prototype.begin.call(this),this.addText("Having commands can be more of a hindrance than a help!",352,256),this.addText("You'll have to find somewhere safe to put them.",352,264);var t=oo.makePole(this.sc,544,416);t.events=["Touch Meddler"],this.add(t),(t=oo.makeSpikes(this.sc,506,320)).events=["Touch Meddler"],this.add(t),(t=oo.makeSpikes(this.sc,736,320)).events=["Touch Meddler","Touch Meddler 2"];var e=t.commands;null!=vo["Touch Meddler 2"]?e.setReserved("Touch Meddler 2","Launch Meddler"):e.h["Touch Meddler 2"]="Launch Meddler",this.add(t);var n=oo.makeDoor(this.sc,832,320);this.add(n)},get_playerX:function(){return 384},get_playerY:function(){return 320},winIt:function(){this.sc.switchLevel(new to(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new $l(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},__class__:$l});var to=function(t,e,n){Jl.call(this,t,"level4",e,n)};a["pitzik4.ld29.Level4"]=to,to.__name__=["pitzik4","ld29","Level4"],to.__super__=Jl,to.prototype=n(Jl.prototype,{box:null,begin:function(){Jl.prototype.begin.call(this),this.addText("Oh, look at that lever! Levers do useful stuff, right?",224,256),this.addText("Press L or escape to restart the level.",352,272),this.box=oo.makeSteel(this.sc,576,288),this.box.events=["Never"];var t=this.box.commands;null!=vo.Never?t.setReserved("Never",""):t.h.Never="",this.add(this.box);var e=oo.makePurr(this.sc,352,288);e.sprite.set_flipped(!0),e.events=["Constantly","Ledge"];var n=e.commands;null!=vo.Constantly?n.setReserved("Constantly",""):n.h.Constantly="",this.add(e),(e=oo.makeRibbit(this.sc,442,320)).events=["Constantly","Ledge"];var i=e.commands;null!=vo.Occasionally?i.setReserved("Occasionally",""):i.h.Occasionally="";var r=e.commands;null!=vo.Constantly?r.setReserved("Constantly","Go"):r.h.Constantly="Go";var a=e.commands;null!=vo["Wall Bump"]?a.setReserved("Wall Bump","180"):a.h["Wall Bump"]="180";var s=e.commands;null!=vo.Ledge?s.setReserved("Ledge","Jump"):s.h.Ledge="Jump",this.add(e),this.add(oo.makeSpikes(this.sc,224,384)),this.add(oo.makeSpikes(this.sc,256,384)),this.add(oo.makeSpikes(this.sc,288,384));var l=(e=oo.makeLever(this.sc,192,288)).commands;null!=vo["Touch Killer"]?l.setReserved("Touch Killer","Trigger A"):l.h["Touch Killer"]="Trigger A",this.add(e);var o=oo.makeDoor(this.sc,672,288);this.add(o)},get_playerX:function(){return 416},get_playerY:function(){return 288},winIt:function(){this.sc.switchLevel(new eo(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new to(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},trigger:function(t){Jl.prototype.trigger.call(this,t),this.box.solidType=N.fromLeft("eggshells")},__class__:to});var eo=function(t,e,n){Jl.call(this,t,"level5",e,n)};a["pitzik4.ld29.Level5"]=eo,eo.__name__=["pitzik4","ld29","Level5"],eo.__super__=Jl,eo.prototype=n(Jl.prototype,{begin:function(){Jl.prototype.begin.call(this),this.addText("All aboard the Rockomotive! CHOO CHOO!",384,224),this.addText("\"I'm sorry, Meddler. You'll have to go on without me.\"",768,224),this.addText('"Goodbye, Rockomotive. I swear I\'ll be back for you!"',800,232),this.addText("(*sniff* So emotional...)",864,248),this.addText("\"I can't go through doors. It's seriously goodbye this time.\"",1536,224),this.addText('"Good... goobye, Rockomotive. I\'ll never forget you."',1536,232),this.addText("(Meddler probably wishes I would stop putting words in his",1536,248),this.addText("mouth. He's a grumpypants. If he even wears pants...)",1536,256);var t=oo.makeRibbit(this.sc,320,256);t.events=["Constantly"];var e=t.commands;null!=vo.Constantly?e.setReserved("Constantly","Go"):e.h.Constantly="Go",this.add(t),(t=oo.makeRock(this.sc,448,256)).events=["Constantly","Wall Bump"],this.add(t),this.add(oo.makeSpikes(this.sc,1024,352)),this.add(oo.makeSpikes(this.sc,1056,352)),this.add(oo.makeSpikes(this.sc,1088,352));var n=(t=oo.makeLever(this.sc,1152,256)).commands;null!=vo["Touch Killer"]?n.setReserved("Touch Killer","Trigger A"):n.h["Touch Killer"]="Trigger A",t.set_type("stupid"),this.add(t);for(var i=0;i<6;){var r=i++;this.add(oo.makeFastWoof(this.sc,32*(15+2*r),288))}for(var a=0;a<6;){var s=a++;this.add(oo.makeFastWoof(this.sc,32*(38+2*s),288))}(t=oo.makePurr(this.sc,960,256)).events=["Constantly","Ledge"];var l=t.commands;null!=vo.Constantly?l.setReserved("Constantly",""):l.h.Constantly="";var o=t.commands;null!=vo.Ledge?o.setReserved("Ledge","Jump"):o.h.Ledge="Jump";var h=t.commands;null!=vo["Wall Bump"]?h.setReserved("Wall Bump",""):h.h["Wall Bump"]="",this.add(t);var _=oo.makeDoor(this.sc,1664,256);this.add(_)},get_playerX:function(){return 352},get_playerY:function(){return 256},winIt:function(){this.sc.switchLevel(new no(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new eo(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},trigger:function(t){Jl.prototype.trigger.call(this,t);for(var e=0;e<3;){var n=e++,i=oo.makeSteel(this.sc,32*(32+n),288);i.acceleration.y=0,this.add(i)}},__class__:eo});var no=function(t,e,n){Jl.call(this,t,"level6",e,n)};a["pitzik4.ld29.Level6"]=no,no.__name__=["pitzik4","ld29","Level6"],no.__super__=Jl,no.prototype=n(Jl.prototype,{box1:null,box2:null,box3:null,box4:null,door:null,begin:function(){Jl.prototype.begin.call(this),this.addText("Pro hint: Make that door move, flip the lever, and RUN.",328,160),this.addText("(Press escape or L to restart the level.)",328,168);var t=oo.makePole(this.sc,352,192);t.events=["Never"];var e=t.commands;null!=vo.Never?e.setReserved("Never","Go"):e.h.Never="Go",this.add(t),(t=oo.makeRock(this.sc,960,192)).events=["Constantly"],t.sprite.set_flipped(!0),this.add(t),(t=oo.makePole(this.sc,896,192)).events=["Never"];var n=t.commands;null!=vo.Never?n.setReserved("Never","Go"):n.h.Never="Go",this.add(t),this.add(oo.makeSpikes(this.sc,640,256)),this.add(oo.makeSpikes(this.sc,672,256)),this.add(oo.makeSpikes(this.sc,704,256));var i=(t=oo.makeLever(this.sc,576,352)).commands;null!=vo["Touch Killer"]?i.setReserved("Touch Killer","Trigger A"):i.h["Touch Killer"]="Trigger A",this.add(t),(t=oo.makeLever(this.sc,384,192,"B")).events=["Never"],this.add(t);var r=(t=oo.makeLever(this.sc,1184,288,"C")).commands;null!=vo["Touch Killer"]?r.setReserved("Touch Killer","Trigger C"):r.h["Touch Killer"]="Trigger C",this.add(t),(t=oo.makeSeparator(this.sc,278,192)).width=6,t.height=32,t.originX=-10,t.originY=0,this.add(t),this.box1=oo.makeSteel(this.sc,256,224),this.box1.acceleration.y=0,this.add(this.box1),this.box2=oo.makeSteel(this.sc,640,224),this.box2.acceleration.y=0,this.add(this.box2),this.box3=oo.makeSteel(this.sc,672,224),this.box3.acceleration.y=0,this.add(this.box3),this.box4=oo.makeSteel(this.sc,704,224),this.box4.acceleration.y=0,this.add(this.box4),this.door=oo.makeDoor(this.sc,256,192),this.door.set_type("killer"),this.door.events=["Constantly","Wall Bump"];var a=this.door.commands;null!=vo["Wall Bump"]?a.setReserved("Wall Bump","Jump"):a.h["Wall Bump"]="Jump",this.door.maxVelocity.x=2,this.add(this.door)},get_playerX:function(){return 352},get_playerY:function(){return 192},winIt:function(){this.sc.switchLevel(new io(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new no(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},trigger:function(t){Jl.prototype.trigger.call(this,t),"B"==t?this.remove(this.box1):"A"==t?(this.remove(this.box2),this.remove(this.box3),this.remove(this.box4)):"C"==t&&this.add(oo.makeSteel(this.sc,1024,192))},__class__:no});var io=function(t,e,n){Jl.call(this,t,"level7",e,n)};a["pitzik4.ld29.Level7"]=io,io.__name__=["pitzik4","ld29","Level7"],io.__super__=Jl,io.prototype=n(Jl.prototype,{box1:null,box2:null,box3:null,box4:null,door:null,begin:function(){Jl.prototype.begin.call(this),this.addText("YOU WIN!",448,224).set_size(16),this.addText("The world is saved or something! Now you can mess around in here.",416,256);var t=oo.makePole(this.sc,320,288),e=t.commands;null!=vo["Touch Meddler"]?e.setReserved("Touch Meddler","Launch Meddler"):e.h["Touch Meddler"]="Launch Meddler";var n=t.commands;null!=vo.Never?n.setReserved("Never","Go"):n.h.Never="Go",this.add(t);var i=(t=oo.makePole(this.sc,672,288)).commands;null!=vo["Touch Meddler"]?i.setReserved("Touch Meddler","Launch Meddler"):i.h["Touch Meddler"]="Launch Meddler";var r=t.commands;null!=vo.Never?r.setReserved("Never","Go"):r.h.Never="Go",this.add(t);for(var a=0;a<5;){var s=a++,l=(t=oo.makeRibbit(this.sc,32*(5+s),320)).commands;null!=vo.Never?l.setReserved("Never","Jump"):l.h.Never="Jump",this.add(t)}this.add(oo.makeSpikes(this.sc,480,160)),this.add(oo.makeSpikes(this.sc,512,160)),t=oo.makeSteel(this.sc,352,160),this.add(t),t=oo.makeSteel(this.sc,640,160),this.add(t),t=oo.makeSteel(this.sc,416,160),this.add(t),t=oo.makeSteel(this.sc,576,160),this.add(t);for(var o=0;o<5;){var h=o++,_=(t=oo.makeWoof(this.sc,432+32*h,96)).commands;null!=vo.Never?_.setReserved("Never","Die"):_.h.Never="Die",this.add(t);var u=(t=oo.makePurr(this.sc,32*(22+h),320)).commands;null!=vo.Never?u.setReserved("Never","Die"):u.h.Never="Die",this.add(t)}},get_playerX:function(){return 496},get_playerY:function(){return 288},winIt:function(){this.sc.switchLevel(new Zl(this.sc)),this.sc.fadeIn()},win:function(){Jl.prototype.win.call(this),this.sc.fadeOut(r(this,this.winIt))},loseIt:function(){this.sc.switchLevel(new io(this.sc)),this.sc.fadeIn()},lose:function(){Jl.prototype.lose.call(this),this.sc.fadeOut(r(this,this.loseIt))},trigger:function(t){Jl.prototype.trigger.call(this,t),"B"==t?this.remove(this.box1):"A"==t?(this.remove(this.box2),this.remove(this.box3),this.remove(this.box4)):"C"==t&&this.add(oo.makeSteel(this.sc,1024,192))},__class__:io});var ro=function(){this.virtualCamY=0,this.virtualCamX=0,this.konami_code_prog=0,this.fadeCallback=null,this.fadeDir=0,rt.call(this)};a["pitzik4.ld29.MainScene"]=ro,ro.__name__=["pitzik4","ld29","MainScene"],ro.defineInputs=function(){so.wasd?(Jt.define("introspect",[32]),Jt.define("restart",[27,76])):(Jt.define("introspect",[67,32]),Jt.define("restart",[27,76])),Jt.define("intoggle",[8])},ro.__super__=rt,ro.prototype=n(rt.prototype,{textRenders:null,textMode:null,set_textMode:function(t){return t!=this.textMode&&(t?this.enableTextMode():this.disableTextMode()),this.textMode=t},textGraphic:null,textEnt:null,textSpace:null,player:null,inspector:null,command:null,music:null,spectMusic:null,musicChan:null,level:null,black:null,blackImg:null,fadeDir:null,fadeCallback:null,konami_code:null,konami_code_prog:null,buttons:null,virtualCamX:null,virtualCamY:null,begin:function(){this.konami_code=[38,38,40,40,37,39,37,39,66,65],ro.defineInputs(),this.textRenders=[];var t;if(Z.renderMode==it.HARDWARE){var e=null;if(At._dataPool.exists("gfx/hex.png"))e=At._dataPool.get("gfx/hex.png");else{var n=Z.getBitmap("gfx/hex.png");null!=n&&(e=new At(n,"gfx/hex.png"))}var i=e;t=gt.Right(new Ct(i))}else t=gt.Left(Z.getBitmap("gfx/hex.png"));this.textGraphic=new Tt(t,Z.screen.width,Z.screen.height,8,8),this.textGraphic.smooth=!1,this.textGraphic.scrollX=this.textGraphic.scrollY=0,this.textEnt=new Q(2,2,this.textGraphic),this.textEnt.set_layer(1),this.textEnt.active=!1,this.textSpace=[];for(var r=0,a=this.textGraphic._rows;r<a;){r++;for(var s=[],l=0,o=this.textGraphic._columns;l<o;){l++;s.push(16)}this.textSpace.push(s)}this.music=ji.getSound("sfx/gameplay.ogg"),this.spectMusic=ji.getSound("sfx/introspect.ogg"),this.black=new Q,this.blackImg=xt.createRect(Z.screen.width,Z.screen.height,-16777216),this.blackImg.scrollX=this.blackImg.scrollY=0,this.blackImg.set_alpha(0),this.black.set_graphic(this.blackImg),this.black.set_layer(-10),this.add(this.black);var h=xt.createRect(Z.screen.width,Z.screen.height,-16777216);h.scrollX=h.scrollY=0,this.addGraphic(h,1),this._layerDisplay.set(1,!1),this._layerDisplay.set(-1,!1),this._layerDisplay.set(-5,!1),Z.screen.set_color(-8544513),this.add(this.player=new so(this)),this.addTextH(this.player),this.switchLevel(new Zl(this));var _;if(Z.renderMode==it.HARDWARE){var u=null;if(At._dataPool.exists("gfx/buttons.png"))u=At._dataPool.get("gfx/buttons.png");else{var c=Z.getBitmap("gfx/buttons.png");null!=c&&(u=new At(c,"gfx/buttons.png"))}var d=u;_=gt.Right(new Ct(d))}else _=gt.Left(Z.getBitmap("gfx/buttons.png"));this.buttons=new yt(_,134,48),this.buttons.add("arrows",[0]),this.buttons.add("wasd",[1]),this.buttons.play(so.wasd?"wasd":"arrows"),this.buttons.scrollX=this.buttons.scrollY=0;var f=new Q(4,188);f.set_graphic(this.buttons),this.add(f),f.set_layer(-5),this.add(this.command=new Vl),this.command.set_layer(-5),this.startMusic(!1)},fadeOut:function(t){this.fadeCallback=t,this.fadeDir=.033333333},fadeIn:function(t){this.fadeCallback=t,this.fadeDir=-.033333333},musicStart:function(t){this.startMusic(this.textMode)},startMusic:function(t,e){null!=this.musicChan&&this.musicChan.stop();var n=t?this.spectMusic:this.music;this.musicChan=n.play(e),this.musicChan.addEventListener("soundComplete",r(this,this.musicStart))},addTextR:function(t,e,n){return this.textRenders.push(t),t},removeTextR:function(t){return null==t?null:(I.remove(this.textRenders,t),t)},addTextH:function(t){return this.textRenders.push(t.getTextR()),t},removeTextH:function(t){return I.remove(this.textRenders,t.getTextR()),t},addTextM:function(t){var e=new zl(t);return this.textRenders.push(e),e},removeTextM:function(t){for(var e=null,n=0,i=this.textRenders;n<i.length;){var r=i[n];if(++n,X.__instanceof(r,zl)){var a=r;if(a.grid==t){e=a;break}}}return null!=e&&I.remove(this.textRenders,e),e},switchLevel:function(t){this.textMode&&this.set_textMode(!1),null!=this.level&&this.quitLevel(),this.player.undie(),this.player.velocity.x=this.player.acceleration.x=0,this.level=t,this.level.begin(),this.add(this.level),this.addTextM(t.grid),this.player.x=t.get_playerX(),this.player.y=t.get_playerY(),this.player.sprite.set_flipped(!1),this.virtualCamX=this.desiredCamX(),this.virtualCamY=this.desiredCamY(),Z.camera.x=.5+(0|this.virtualCamX),Z.camera.y=.5+(0|this.virtualCamY),null!=this.command&&this.command.set_word(t.get_command())},quitLevel:function(){this.level.quit(),this.remove(this.level),this.removeTextM(this.level.grid)},render:function(){this.textMode&&(this.renderAsText(this.textSpace),this.textGraphic.loadFrom2DArray(this.textSpace)),rt.prototype.render.call(this)},renderAsText:function(t,e,n,i,r){null==r&&(r=8),null==i&&(i=8),null==n&&(n=0),null==e&&(e=0),e-=0|Z.camera.x,n-=0|Z.camera.y;Z.screen.width,Z.screen.height;for(var a=0;a<t.length;){var s=t[a];++a;for(var l=0,o=s.length;l<o;)s[l++]=16}for(var h=0,_=this.textRenders;h<_.length;){var u=_[h];++h,u.renderText(t,e,n,i,r)}},enableTextMode:function(t){null==t&&(t=8),this.add(this.textEnt),this._layerDisplay.set(1,!0),this._layerDisplay.set(-1,!0),this._layerDisplay.set(-5,!0),this._layerDisplay.set(0,!1),this._layerDisplay.set(-2,!1),this._layerDisplay.set(2,!1),Z.screen.set_color(-16777216),this.startMusic(!0,2*this.musicChan.get_position())},disableTextMode:function(){this.uninspect(),this.remove(this.textEnt),this._layerDisplay.set(1,!1),this._layerDisplay.set(-1,!1),this._layerDisplay.set(-5,!1),this._layerDisplay.set(0,!0),this._layerDisplay.set(-2,!0),this._layerDisplay.set(2,!0),Z.screen.set_color(-8544513),this.startMusic(!1,this.musicChan.get_position()/2)},update:function(){if(Jt.pressed(qt.fromRight(-1)))if(Jt.pressed(qt.fromRight(this.konami_code[this.konami_code_prog]))){if(this.konami_code_prog++,this.konami_code_prog>=this.konami_code.length){oo.konami_cooooooode=!oo.konami_cooooooode,this.konami_code_prog=0;var t=this.player,e=this.player;this.level.addText("IT'S THE KONAMI CODE! AAAHHHHHHHH",(t.followCamera?t.x+Z.camera.x:t.x)-48,(e.followCamera?e.y+Z.camera.y:e.y)-32).set_size(16)}}else this.konami_code_prog=0;if(Jt.pressed(qt.fromLeft("intoggle"))&&(so.wasd=!so.wasd,so.defineAllInputs(),this.buttons.play(so.wasd?"wasd":"arrows")),Jt.pressed(qt.fromLeft("introspect"))&&this.set_textMode(!this.textMode),Jt.pressed(qt.fromLeft("restart"))&&this.level.lose(),0!=this.fadeDir){var n=this.blackImg._alpha+this.fadeDir;(n<=0||n>=1)&&(this.fadeDir=0,n=n<=0?0:1,null!=this.fadeCallback&&this.fadeCallback(),this.fadeCallback=null),this.blackImg.set_alpha(n)}for(rt.prototype.update.call(this);;){var i=this.virtualCamX;this.virtualCamX=i+.05*(this.desiredCamX()-i);var r=this.virtualCamY;this.virtualCamY=r+.05*(this.desiredCamY()-r);var a,s,l,o=this.player;if((o.followCamera?o.y+Z.camera.y:o.y)-o.originY-this.virtualCamY<0)l=!0;else{var h=this.player;l=(h.followCamera?h.x+Z.camera.x:h.x)-h.originX-this.virtualCamX<0}if(l)s=!0;else{var _=this.player;s=(_.followCamera?_.y+Z.camera.y:_.y)-_.originY+_.height-this.virtualCamY>Z.screen.height}if(s)a=!0;else{var u=this.player;a=(u.followCamera?u.x+Z.camera.x:u.x)-u.originX+u.width-this.virtualCamX>Z.screen.width}if(!a)break}Z.camera.x=.5+(0|this.virtualCamX),Z.camera.y=.5+(0|this.virtualCamY)},desiredCamX:function(){var t=this.player;return(t.followCamera?t.x+Z.camera.x:t.x)+3*this.player.width/4-Z.screen.width/2+(this.player.sprite._flipped?-48:48)},desiredCamY:function(){var t=this.player;return(t.followCamera?t.y+Z.camera.y:t.y)+3*this.player.height/4-Z.screen.height/2},inspect:function(t){if(!this.uninspect()&&this.textMode&&X.__instanceof(t,jl)){var e=t;this.add(this.inspector=new ql(e,this.command))}},uninspect:function(){return null!=this.inspector&&(this.remove(this.inspector),this.inspector=null,!0)},trigger:function(t){this.level.trigger(t)},__class__:ro,__properties__:n(rt.prototype.__properties__,{set_textMode:"set_textMode"})});var ao=function(t,e){this.moved=15,Q.call(this,t,e),this.maxVelocity=new V,this.velocity=new V,this.acceleration=new V,this.friction=new V};a["pitzik4.ld29.PhysBasic"]=ao,ao.__name__=["pitzik4","ld29","PhysBasic"],ao.addPoints=function(t,e){t.x+=e.x,t.y+=e.y},ao.clampVelocity=function(t,e){t.x=Z.clamp(t.x,-e.x,e.x),t.y=Z.clamp(t.y,-e.y,e.y)},ao.approachZero=function(t,e){var n=t.x,i=e.x;t.x=n<0-i?n+i:n>i?n-i:0;var r=t.y,a=e.y;t.y=r<0-a?r+a:r>a?r-a:0},ao.__super__=Q,ao.prototype=n(Q.prototype,{maxVelocity:null,velocity:null,acceleration:null,friction:null,solidType:null,moved:null,motionX:null,motionY:null,collideUp:null,get_collideUp:function(){return 0!=(8&this.moved)&&(this.moved&=7,this.collideUp=this.getCollides(0,-1)),this.collideUp},collideRight:null,get_collideRight:function(){return 0!=(4&this.moved)&&(this.moved&=11,this.collideRight=this.getCollides(1,0)),this.collideRight},collideDown:null,get_collideDown:function(){return 0!=(2&this.moved)&&(this.moved&=13,this.collideDown=this.getCollides(0,1)),this.collideDown},collideLeft:null,get_collideLeft:function(){return 0!=(1&this.moved)&&(this.moved&=14,this.collideLeft=this.getCollides(-1,0)),this.collideLeft},moveCollideX:function(t){return this.velocity.x=0,!0},moveCollideY:function(t){return this.velocity.y=0,!0},updatePhysics:function(){var t=this.velocity,e=this.acceleration;t.x+=e.x,t.y+=e.y;var n=this.velocity,i=this.friction,r=n.x,a=i.x;n.x=r<0-a?r+a:r>a?r-a:0;var s=n.y,l=i.y;n.y=s<0-l?s+l:s>l?s-l:0;var o=this.velocity,h=this.maxVelocity;o.x=Z.clamp(o.x,-h.x,h.x),o.y=Z.clamp(o.y,-h.y,h.y),this.moveBy(this.velocity.x,this.velocity.y,this.solidType)},update:function(){this.updatePhysics(),Q.prototype.update.call(this)},getCollides:function(t,e){if(null==e&&(e=0),null==t&&(t=0),null==this.solidType)return!1;var n=this.solidType;switch(n[1]){case 0:var i=n[2];return null!=this.collide(i,(this.followCamera?this.x+Z.camera.x:this.x)+t,(this.followCamera?this.y+Z.camera.y:this.y)+e);case 1:for(var r=n[2],a=0;a<r.length;){var s=r[a];if(++a,null!=this.collide(s,(this.followCamera?this.x+Z.camera.x:this.x)+t,(this.followCamera?this.y+Z.camera.y:this.y)+e))return!0}}return!1},entUpdate:function(){Q.prototype.update.call(this)},moveBy:function(t,e,n,i){null==i&&(i=!1),this.motionX=t,this.motionY=e,Q.prototype.moveBy.call(this,t,e,n,i),this.moved=15},__class__:ao,__properties__:n(Q.prototype.__properties__,{get_collideLeft:"get_collideLeft",get_collideDown:"get_collideDown",get_collideRight:"get_collideRight",get_collideUp:"get_collideUp"})});var so=function(t,e,n){ao.call(this,e,n),this.owner=t,this.textRect=new lo(this,1),so.defineInputs();var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/meddler.png"))r=At._dataPool.get("gfx/meddler.png");else{var a=Z.getBitmap("gfx/meddler.png");null!=a&&(r=new At(a,"gfx/meddler.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/meddler.png"));this.sprite=new yt(i,32,32),Z.renderMode==it.BUFFER&&(this.sprite.y=1),this.set_graphic(this.sprite),this.sprite.add("idle",[0]),this.sprite.add("run",[1,0,2,0],6),this.sprite.add("jump",[3]),this.sprite.add("fall",[4]),this.sprite.add("die",[5]),this.sprite.play("idle"),this.maxVelocity.x=2,this.maxVelocity.y=128,this.friction.x=.125,this.acceleration.y=.25,this.solidType=N.fromRight(so.defSolid),this.set_type("meddler"),this.resetHitbox(),this.set_layer(-2)};a["pitzik4.ld29.Meddler"]=so,so.__name__=["pitzik4","ld29","Meddler"],so.__interfaces__=[Kl],so.defineAllInputs=function(){so.defineInputs(),ql.defineInputs(),ro.defineInputs(),Jl.activeLevel.redoWASD(so.wasd)},so.defineInputs=function(){so.wasd?(Jt.define("right",[68]),Jt.define("left",[65]),Jt.define("jump",[87]),Jt.define("inspect",[40,38])):(Jt.define("right",[39]),Jt.define("left",[37]),Jt.define("jump",[38,90]),Jt.define("inspect",[88]))},so.__super__=ao,so.prototype=n(ao.prototype,{sprite:null,get_flipped:function(){return this.sprite._flipped},set_flipped:function(t){return this.sprite.set_flipped(t)},textRect:null,owner:null,dead:null,resetHitbox:function(){this.width=20,this.height=26,this.originX=-6,this.originY=-6},updateInput:function(){this.acceleration.x=0,Jt.check(qt.fromLeft("right"))&&(this.acceleration.x+=.25),Jt.check(qt.fromLeft("left"))&&(this.acceleration.x-=.25);var t;if(Jt.check(qt.fromLeft("jump"))?(0!=(2&this.moved)&&(this.moved&=13,this.collideDown=this.getCollides(0,1)),t=this.collideDown):t=!1,t&&this.jump(),Jt.pressed(qt.fromLeft("inspect"))){var e=this.getEdit();this.owner.inspect(e)}},jump:function(){this.velocity.y-=5},updateAnims:function(){0!=(2&this.moved)&&(this.moved&=13,this.collideDown=this.getCollides(0,1)),this.collideDown?0!=this.acceleration.x?(this.sprite.play("run"),this.acceleration.x>0?this.sprite.set_flipped(!1):this.sprite.set_flipped(!0)):this.sprite.play("idle"):this.velocity.y<0?this.sprite.play("jump"):this.sprite.play("fall")},getEdit:function(){var t=null,e=this.width;this.width*=2;for(var n=this.sprite._flipped?(this.followCamera?this.x+Z.camera.x:this.x)-this.width/2:this.followCamera?this.x+Z.camera.x:this.x,i=0,r=so.editTypes.length;i<r;){var a=i++;if(null!=(t=this.collide(so.editTypes[a],n,this.followCamera?this.y+Z.camera.y:this.y)))break}return this.width=e,t},update:function(){this.dead||(this.updateInput(),this.updateAnims()),ao.prototype.update.call(this)},getTextR:function(){return this.textRect},die:function(){this.owner.level.lose(),this.sprite.play("die"),this.dead=!0,this.solidType=N.fromLeft("encyclopedia"),this.velocity.y=-5},undie:function(){this.sprite.play("idle"),this.dead=!1,this.solidType=N.fromRight(so.defSolid),this.velocity.y=0},__class__:so,__properties__:n(ao.prototype.__properties__,{set_flipped:"set_flipped",get_flipped:"get_flipped"})});var lo=function(t,e,n,i){null==i&&(i=-1),null==n&&(n=0),null==e&&(e=2),this.zOffs=0,this.myOffs=0,this.owner=t,this.color=e,this.myOffs=n,-1==i?(Z._seed=16807*Z._seed%2147483647|0,this.zOffs=Z._seed/2147483647):this.zOffs=i};a["pitzik4.ld29.RectangleText"]=lo,lo.__name__=["pitzik4","ld29","RectangleText"],lo.__interfaces__=[Wl],lo.clamp=function(t,e,n){return t<e?e:t>n?n:t},lo.hash=function(t,e,n){return null==n&&(n=0),(0|Math.abs(16*(412*Math.cos(124.123*(2.31*t+53.21*e))+77.18*n)))%16},lo.prototype={owner:null,color:null,myOffs:null,zOffs:null,renderText:function(t,e,n,i,r){null==r&&(r=8),null==i&&(i=5),null==n&&(n=0),null==e&&(e=0);for(var a=this.owner.height/r|0,s=this.owner,l=((s.followCamera?s.x+Z.camera.x:s.x)+e-this.owner.originX|0)/i|0,o=this.owner,h=(((o.followCamera?o.y+Z.camera.y:o.y)+n-this.owner.originY|0)/r|0)+this.myOffs,_=this.owner,u=l-(((_.followCamera?_.x+Z.camera.x:_.x)-this.owner.originX|0)/i|0),c=this.owner,d=h-(((c.followCamera?c.y+Z.camera.y:c.y)-this.owner.originY|0)/r|0)-this.myOffs,f=lo.clamp(l,0,t[0].length),g=lo.clamp(l+(this.owner.width/i|0),0,t[0].length);f<g;)for(var p=f++,m=lo.clamp(h,0,t.length),v=lo.clamp(h+a,0,t.length);m<v;){var x=m++;t[x][p]=lo.hash(p-u,x-d,this.zOffs)+17*this.color}},__class__:lo};var oo=function(t,e,n,i,r,a,s){null==a&&(a="passive"),null==r&&(r=""),this.triggered=!1,this.deadTime=0,this.dead=!1,this.noAnims=!1,ao.call(this,n,i),this.textRect=new lo(this),this.sc=t,this.sprite=e,Z.renderMode==it.BUFFER&&(e.y+=1),this.set_graphic(e),e.play("idle"),this.maxVelocity.x=1,this.maxVelocity.y=128,this.friction.x=.125,this.acceleration.y=.25,this.solidType=N.fromRight(["solid","solidthing"]),this.set_type(a),this.thingName=r,this.commands=new ge,this.events=null==s?oo.EVENTS:s;for(var l=0,o=oo.EVENTS;l<o.length;){var h=o[l];++l;var _=this.commands;null!=vo[h]?_.setReserved(h,""):_.h[h]=""}Z._seed=16807*Z._seed%2147483647|0,this.occasionTimer=Z._seed/2147483647*180|0};a["pitzik4.ld29.Thing"]=oo,oo.__name__=["pitzik4","ld29","Thing"],oo.__interfaces__=[jl,Kl],oo.makeRibbit=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/ribbit.png"))r=At._dataPool.get("gfx/ribbit.png");else{var a=Z.getBitmap("gfx/ribbit.png");null!=a&&(r=new At(a,"gfx/ribbit.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/ribbit.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[2,1,3,1],6),l.add("die",[4]);var o=new oo(t,l,e,n,"Ribbit","passive");o.spriteFile="gfx/ribbit.png",o.spriteTop=0,o.width=20,o.height=20,o.originX=-6,o.originY=-12;var h=o.commands;null!=vo.Occasionally?h.setReserved("Occasionally","Wander"):h.h.Occasionally="Wander";var _=o.commands;null!=vo["Wall Bump"]?_.setReserved("Wall Bump","180"):_.h["Wall Bump"]="180";var u=o.commands;null!=vo.Ledge?u.setReserved("Ledge","180"):u.h.Ledge="180";var c=o.commands;return null!=vo["Touch Killer"]?c.setReserved("Touch Killer","Die"):c.h["Touch Killer"]="Die",o},oo.makeDoor=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/door.png"))r=At._dataPool.get("gfx/door.png");else{var a=Z.getBitmap("gfx/door.png");null!=a&&(r=new At(a,"gfx/door.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/door.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0,1,2,3],12,!1),l.add("die",[0]);var o=new oo(t,l,e,n,"Door","door");o.set_layer(2),o.spriteFile="gfx/door.png",o.spriteTop=0,o.width=23,o.height=32,o.originX=-3,o.originY=0;var h=o.commands;return null!=vo["Touch Meddler"]?h.setReserved("Touch Meddler","Victory"):h.h["Touch Meddler"]="Victory",o},oo.makeWoof=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/woof.png"))r=At._dataPool.get("gfx/woof.png");else{var a=Z.getBitmap("gfx/woof.png");null!=a&&(r=new At(a,"gfx/woof.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/woof.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[1,0,2,0],6),l.add("die",[3]);var o=new oo(t,l,e,n,"Woof","killer");o.spriteFile="gfx/woof.png",o.spriteTop=0,o.width=20,o.height=22,o.originX=-6,o.originY=-10;var h=o.commands;null!=vo.Constantly?h.setReserved("Constantly","Go"):h.h.Constantly="Go";var _=o.commands;null!=vo["Wall Bump"]?_.setReserved("Wall Bump","180"):_.h["Wall Bump"]="180";var u=o.commands;null!=vo.Ledge?u.setReserved("Ledge","180"):u.h.Ledge="180";var c=o.commands;return null!=vo["Touch Meddler"]?c.setReserved("Touch Meddler","Kill Meddler"):c.h["Touch Meddler"]="Kill Meddler",o},oo.makeFastWoof=function(t,e,n){var i=oo.makeWoof(t,e,n);return i.events=["Never"],i.maxVelocity.x=4,i.acceleration.x=4,i},oo.makeRock=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/rock.png"))r=At._dataPool.get("gfx/rock.png");else{var a=Z.getBitmap("gfx/rock.png");null!=a&&(r=new At(a,"gfx/rock.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/rock.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0]),l.add("die",[0]);var o=new oo(t,l,e,n,"Rock","solidthing");return o.spriteFile="gfx/rock.png",o.spriteTop=0,o.width=32,o.height=32,o.originX=0,o.originY=0,o},oo.makeSpikes=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/spikes.png"))r=At._dataPool.get("gfx/spikes.png");else{var a=Z.getBitmap("gfx/spikes.png");null!=a&&(r=new At(a,"gfx/spikes.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/spikes.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0]),l.add("die",[0]);var o=new oo(t,l,e,n,"Spikes","killer");o.spriteFile="gfx/spikes.png",o.spriteTop=0,o.width=32,o.height=16,o.originX=0,o.originY=-16;var h=o.commands;return null!=vo["Touch Meddler"]?h.setReserved("Touch Meddler","Kill Meddler"):h.h["Touch Meddler"]="Kill Meddler",o},oo.makePole=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/pole.png"))r=At._dataPool.get("gfx/pole.png");else{var a=Z.getBitmap("gfx/pole.png");null!=a&&(r=new At(a,"gfx/pole.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/pole.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0]),l.add("die",[0]);var o=new oo(t,l,e,n,"Pole","passive");return o.spriteFile="gfx/pole.png",o.spriteTop=0,o.width=14,o.height=24,o.originX=-9,o.originY=-8,o},oo.makePurr=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/purr.png"))r=At._dataPool.get("gfx/purr.png");else{var a=Z.getBitmap("gfx/purr.png");null!=a&&(r=new At(a,"gfx/purr.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/purr.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[1,0,2,0],6),l.add("die",[3]);var o=new oo(t,l,e,n,"Purr","killer");o.spriteFile="gfx/purr.png",o.spriteTop=0,o.width=20,o.height=22,o.originX=-6,o.originY=-10;var h=o.commands;null!=vo.Constantly?h.setReserved("Constantly","Go"):h.h.Constantly="Go";var _=o.commands;null!=vo["Wall Bump"]?_.setReserved("Wall Bump","180"):_.h["Wall Bump"]="180";var u=o.commands;return null!=vo.Ledge?u.setReserved("Ledge","180"):u.h.Ledge="180",o.maxVelocity.x=4,o.acceleration.x=4,o},oo.makeLever=function(t,e,n,i){null==i&&(i="A");var r;if(Z.renderMode==it.HARDWARE){var a=null;if(At._dataPool.exists("gfx/lever.png"))a=At._dataPool.get("gfx/lever.png");else{var s=Z.getBitmap("gfx/lever.png");null!=s&&(a=new At(s,"gfx/lever.png"))}var l=a;r=gt.Right(new Ct(l))}else r=gt.Left(Z.getBitmap("gfx/lever.png"));var o=new yt(r,32,32);o.add("idle",[0]),o.add("walk",[1]),o.add("die",[1]);var h=new oo(t,o,e,n,"Lever","passive");h.spriteFile="gfx/lever.png",h.spriteTop=0,h.width=22,h.height=19,h.originX=-5,h.originY=-13;var _="Trigger "+i,u=h.commands;return null!=vo["Touch Meddler"]?u.setReserved("Touch Meddler",_):u.h["Touch Meddler"]=_,h.actionSnd=new st("sfx/click.ogg"),h},oo.makeSteel=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/steel.png"))r=At._dataPool.get("gfx/steel.png");else{var a=Z.getBitmap("gfx/steel.png");null!=a&&(r=new At(a,"gfx/steel.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/steel.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0]),l.add("die",[0]);var o=new oo(t,l,e,n,"Steel Box","solidthing");return o.spriteFile="gfx/steel.png",o.spriteTop=0,o.width=32,o.height=32,o.originX=0,o.originY=0,o},oo.makeSeparator=function(t,e,n){var i;if(Z.renderMode==it.HARDWARE){var r=null;if(At._dataPool.exists("gfx/separator.png"))r=At._dataPool.get("gfx/separator.png");else{var a=Z.getBitmap("gfx/separator.png");null!=a&&(r=new At(a,"gfx/separator.png"))}var s=r;i=gt.Right(new Ct(s))}else i=gt.Left(Z.getBitmap("gfx/separator.png"));var l=new yt(i,32,32);l.add("idle",[0]),l.add("walk",[0]),l.add("die",[0]);var o=new oo(t,l,e,n,"Separator","solid");return o.spriteFile="gfx/separator.png",o.spriteTop=0,o.width=1,o.height=32,o.originX=-15,o.originY=0,o},oo.__super__=ao,oo.prototype=n(ao.prototype,{textRect:null,walking:null,occasionTimer:null,sprite:null,spriteFile:null,spriteTop:null,thingName:null,commands:null,events:null,sc:null,noAnims:null,dead:null,deadTime:null,actionSnd:null,triggered:null,update:function(){if(this.dead)this.deadTime++,this.deadTime>120&&this.sc.level.remove(this);else{this.doSomething("Constantly"),this.occasionTimer--,this.occasionTimer<=0&&(Z._seed=16807*Z._seed%2147483647|0,this.occasionTimer=Z._seed/2147483647*180|0,this.doSomething("Occasionally")),this.walking&&this.atLedge()&&this.doSomething("Ledge");var t;if(this.walking?this.sprite._flipped?(0!=(1&this.moved)&&(this.moved&=14,this.collideLeft=this.getCollides(-1,0)),t=this.collideLeft):(0!=(4&this.moved)&&(this.moved&=11,this.collideRight=this.getCollides(1,0)),t=this.collideRight):t=!1,t&&this.doSomething("Wall Bump"),null!=this.collide("meddler",this.followCamera?this.x+Z.camera.x:this.x,this.followCamera?this.y+Z.camera.y:this.y)&&this.doSomething("Touch Meddler"),null!=this.collide("killer",this.followCamera?this.x+Z.camera.x:this.x,this.followCamera?this.y+Z.camera.y:this.y)&&this.doSomething("Touch Killer"),oo.konami_cooooooode){this.maxVelocity.x=4;var e=this.commands;null!=vo["Wall Bump"]?e.setReserved("Wall Bump","180"):e.h["Wall Bump"]="180",this.execCommand("Go"),this.execCommand("Jump")}this.noAnims||(this.walking?(this.sprite._flipped?this.acceleration.x=-.5:this.acceleration.x=.5,this.sprite.play("walk")):(this.acceleration.x=0,this.sprite.play("idle")))}ao.prototype.update.call(this)},doSomething:function(t){for(var e=0,n=oo.EVENTS;e<n.length;){var i=n[e];if(++e,I.substr(i,0,t.length)==t){var r=this.commands;this.execCommand(null!=vo[i]?r.getReserved(i):r.h[i])}}},execCommand:function(t){"Wander"==t?(this.walking=!this.walking,this.walking&&(Z._seed=16807*Z._seed%2147483647|0,Z._seed/2147483647>.5&&this.sprite.set_flipped(!this.sprite._flipped))):"180"==t?this.sprite.set_flipped(!this.sprite._flipped):"Stop"==t?this.walking=!1:"Go"==t?this.walking=!0:"Jump"==t?this.jump():"Kill Meddler"==t?this.sc.player.die():"Victory"==t?(this.sprite.play("walk"),this.noAnims=!0,this.sc.level.win()):"Die"==t?(this.sprite.play("die"),this.noAnims=!0,this.dead=!0,this.velocity.y=-3,this.sprite._flipped?this.velocity.x=2:this.velocity.x=-2,this.acceleration.x=0,this.set_type("dead")):"Launch Meddler"==t?this.sc.player.velocity.y=-10:"Trigger "==I.substr(t,0,8)&&(this.triggered||(this.sprite.play("walk"),this.noAnims=!0,null!=this.actionSnd&&this.actionSnd.play(),this.sc.trigger(t.substring(8))),this.triggered=!0)},jump:function(){0!=(2&this.moved)&&(this.moved&=13,this.collideDown=this.getCollides(0,1)),this.collideDown&&(this.velocity.y-=5)},atLedge:function(){return 0!=(2&this.moved)&&(this.moved&=13,this.collideDown=this.getCollides(0,1)),!!this.collideDown&&!this.getCollides(this.sprite._flipped?-this.width-2:this.width+2,1)},getTextR:function(){return this.textRect},getPicture:function(){var t,e=this.spriteFile;if(Z.renderMode==it.HARDWARE){var n=null;if(At._dataPool.exists(e))n=At._dataPool.get(e);else{var i=Z.getBitmap(e);null!=i&&(n=new At(i,e))}var r=n;t=gt.Right(new Ct(r))}else t=gt.Left(Z.getBitmap(e));var a=new yt(t,32,32);return a.y=-this.spriteTop,a},getName:function(){return this.thingName},getX:function(){return this.followCamera?this.x+Z.camera.x:this.x},getY:function(){return this.followCamera?this.y+Z.camera.y:this.y},getEvents:function(){return this.events},getCommands:function(){return this.commands},__class__:oo});var ho,_o=0;a.Math=Math,String.prototype.__class__=a.String=String,String.__name__=["String"],a.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=a.Date=Date,Date.__name__=["Date"];var uo=a.Int={__name__:["Int"]},co=a.Dynamic={__name__:["Dynamic"]},fo=a.Float=Number;fo.__name__=["Float"];var go=a.Bool=Boolean;go.__ename__=["Bool"];var po=a.Class={__name__:["Class"]},mo={},vo={},xo=e.ArrayBuffer||Ae;null==xo.prototype.slice&&(xo.prototype.slice=Ae.sliceImpl);var yo=e.DataView||Ie,wo=e.Float32Array||Se._new,bo=e.Uint8Array||Ce._new,To=new Uint32Array(256);ii.__alpha16=To;for(var Eo=0;Eo<256;){var Ro=Eo++;ii.__alpha16[Ro]=Math.ceil(257.00392156862745*Ro)}var Ao=new bo(510);ii.__clamp=Ao;for(var Io=0;Io<255;){var So=Io++;ii.__clamp[So]=So}for(var Co=255;Co<511;){var Mo=Co++;ii.__clamp[Mo]=255}oi.available=!1,oi.enabled=!1,null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]),Ll.maxTouchPoints=2,Ll.supportedGestures=null,Ll.supportsGestureEvents=!1,u.__instanceCount=0,u.__worldRenderDirty=0,u.__worldTransformDirty=0,u.__cacheAsBitmapMode=!1,p.WIDTH=320,p.HEIGHT=240,p.STD_SCALE=2,p.integerScaling=!0,T.__registeredFonts=[],F.Element=0,F.PCData=1,F.CData=2,F.Comment=3,F.DocType=4,F.ProcessingInstruction=5,F.Document=6,X.__toStr={}.toString,W.__identity=new W,W.__temp=new W,z.__temp=new z,j.__rootURL=window.document.URL,K.currentDomain=new K(null),Z.VERSION="2.5.6",Z.INT_MIN_VALUE=-2147483648,Z.INT_MAX_VALUE=2147483647,Z.blackColor=0,Z.frameRate=0,Z.rate=1,Z.defaultFont="font/04B_03__.ttf",Z.camera=new V,Z.tweener=new U,Z.focused=!1,Z.orientations=[],Z.randomSeed=0,Z.log=D.makeVarArgs(function(t){null!=Z._console&&Z._console.log(t)}),Z.watch=D.makeVarArgs(function(t){null!=Z._console&&Z._console.watch(t)}),Z._bitmap=new ge,Z._seed=0,Z._volume=1,Z._pan=0,Z.point=new V,Z.point2=new V,Z.zero=new V,Z.rect=new z,Z.matrix=new W,Z.sprite=new f,Q._EMPTY=new Q,st._sounds=new ge,st._typePlaying=new ge,st._typeTransforms=new ge,_t.BIG_WIDTH_THRESHOLD=420,xt.TINTING_MULTIPLY=0,xt.TINTING_COLORIZE=1,xt._flips=new de,bt.tag_re=new A("<([^>]+)>([^(?:</)]+)</[^>]+>","g"),Et.smooth=!1,At.BLEND_NONE=0,At.BLEND_ADD=65536,At.BLEND_NORMAL=0,At.BLEND_MULTIPLY=131072,At.BLEND_SCREEN=262144,At._dataPool=new ge,At._uniqueId=0,kt.EPSILON=1e-9,kt.firstProj=new Lt,kt.secondProj=new Lt,kt.vertical=new V(0,1),kt.horizontal=new V(1,0),Ot._emptyTile={type:Bt.Empty},Nt.ACTIVATE="activate",Nt.ADDED="added",Nt.ADDED_TO_STAGE="addedToStage",Nt.CANCEL="cancel",Nt.CHANGE="change",Nt.CLOSE="close",Nt.COMPLETE="complete",Nt.CONNECT="connect",Nt.CONTEXT3D_CREATE="context3DCreate",Nt.DEACTIVATE="deactivate",Nt.ENTER_FRAME="enterFrame",Nt.ID3="id3",Nt.INIT="init",Nt.MOUSE_LEAVE="mouseLeave",Nt.OPEN="open",Nt.REMOVED="removed",Nt.REMOVED_FROM_STAGE="removedFromStage",Nt.RENDER="render",Nt.RESIZE="resize",Nt.SCROLL="scroll",Nt.SELECT="select",Nt.SOUND_COMPLETE="soundComplete",Nt.TAB_CHILDREN_CHANGE="tabChildrenChange",Nt.TAB_ENABLED_CHANGE="tabEnabledChange",Nt.TAB_INDEX_CHANGE="tabIndexChange",Nt.UNLOAD="unload",Ut.START="start",Ut.UPDATE="update",Ut.FINISH="finish",Yt._matrix=new W,Ht.B1=.36363636363636365,Ht.B2=.7272727272727273,Ht.B3=.5454545454545454,Ht.B4=.9090909090909091,Ht.B5=.8181818181818182,Ht.B6=.9545454545454546,zt.TAP=1,zt.DOUBLE_TAP=2,zt.LONG_PRESS=3,zt.MOVE=4,zt.PINCH=5,zt.TWO_FINGER_TAP=6,zt.longPressTime=.5,zt.doubleTapTime=.5,zt.deadZone=5,zt.enabled=!1,zt.gestures=new ce,zt._lastTap=0,Kt.$name="HaxePunk",Kt.license="MIT",Kt.tags=["flash","game","cpp","openfl"],Kt.description="A Haxe port of the FlashPunk AS3 engine.",Kt.contributors=["heardtheword","_ibilon"],Kt.releasenote="See CHANGELOG.md",Kt.version="2.5.6",Kt.url="http://haxepunk.com",Kt.install={"openfl-ouya":""},Kt.dependencies={openfl:"",lime:""},Jt.keyString="",Jt.multiTouchSupported=!1,Jt.kKeyStringMax=100,Jt._enabled=!1,Jt._key=new ce,Jt._keyNum=0,Jt._press=[],Jt._pressNum=0,Jt._release=[],Jt._releaseNum=0,Jt._mouseWheelDelta=0,Jt._touches=new ce,Jt._touchOrder=[],Jt._joysticks=new ce,Jt._control=new ge,Jt._nativeCorrection=new ge,Qt.deadZone=.15,$t.O_BUTTON=0,$t.U_BUTTON=1,$t.Y_BUTTON=2,$t.A_BUTTON=3,$t.LB_BUTTON=4,$t.RB_BUTTON=5,$t.BACK_BUTTON=20,$t.START_BUTTON=20,$t.LEFT_ANALOGUE_BUTTON=6,$t.RIGHT_ANALOGUE_BUTTON=7,$t.LEFT_TRIGGER_BUTTON=12,$t.RIGHT_TRIGGER_BUTTON=13,$t.DPAD_UP=8,$t.DPAD_DOWN=9,$t.DPAD_LEFT=10,$t.DPAD_RIGHT=11,$t.HOME_BUTTON=16777234,$t.LEFT_ANALOGUE_X=0,$t.LEFT_ANALOGUE_Y=1,$t.RIGHT_ANALOGUE_X=5,$t.RIGHT_ANALOGUE_Y=4,$t.LEFT_TRIGGER=2,$t.RIGHT_TRIGGER=3,te.A_BUTTON=10,te.B_BUTTON=11,te.X_BUTTON=12,te.Y_BUTTON=13,te.LB_BUTTON=8,te.RB_BUTTON=9,te.BACK_BUTTON=5,te.START_BUTTON=4,te.LEFT_ANALOGUE_BUTTON=6,te.RIGHT_ANALOGUE_BUTTON=7,te.XBOX_BUTTON=14,te.DPAD_UP=0,te.DPAD_DOWN=1,te.DPAD_LEFT=2,te.DPAD_RIGHT=3,te.LEFT_ANALOGUE_X=0,te.LEFT_ANALOGUE_Y=1,te.RIGHT_ANALOGUE_X=2,te.RIGHT_ANALOGUE_Y=3,te.LEFT_TRIGGER=4,te.RIGHT_TRIGGER=5,ee.TRIANGLE_BUTTON=12,ee.CIRCLE_BUTTON=13,ee.X_BUTTON=14,ee.SQUARE_BUTTON=15,ee.L1_BUTTON=10,ee.R1_BUTTON=11,ee.L2_BUTTON=8,ee.R2_BUTTON=9,ee.SELECT_BUTTON=0,ee.START_BUTTON=3,ee.PS_BUTTON=16,ee.LEFT_ANALOGUE_BUTTON=1,ee.RIGHT_ANALOGUE_BUTTON=2,ee.DPAD_UP=4,ee.DPAD_DOWN=6,ee.DPAD_LEFT=7,ee.DPAD_RIGHT=5,ee.LEFT_ANALOGUE_X=0,ee.LEFT_ANALOGUE_Y=1,ee.TRIANGLE_BUTTON_PRESSURE=16,ee.CIRCLE_BUTTON_PRESSURE=17,ee.X_BUTTON_PRESSURE=18,ee.SQUARE_BUTTON_PRESSURE=19,ne.ANY=-1,ne.LEFT=37,ne.UP=38,ne.RIGHT=39,ne.DOWN=40,ne.ENTER=13,ne.COMMAND=15,ne.CONTROL=17,ne.SPACE=32,ne.SHIFT=16,ne.BACKSPACE=8,ne.CAPS_LOCK=20,ne.DELETE=46,ne.END=35,ne.ESCAPE=27,ne.HOME=36,ne.INSERT=45,ne.TAB=9,ne.PAGE_DOWN=34,ne.PAGE_UP=33,ne.LEFT_SQUARE_BRACKET=219,ne.RIGHT_SQUARE_BRACKET=221,ne.TILDE=192,ne.A=65,ne.B=66,ne.C=67,ne.D=68,ne.E=69,ne.F=70,ne.G=71,ne.H=72,ne.I=73,ne.J=74,ne.K=75,ne.L=76,ne.M=77,ne.N=78,ne.O=79,ne.P=80,ne.Q=81,ne.R=82,ne.S=83,ne.T=84,ne.U=85,ne.V=86,ne.W=87,ne.X=88,ne.Y=89,ne.Z=90,ne.F1=112,ne.F2=113,ne.F3=114,ne.F4=115,ne.F5=116,ne.F6=117,ne.F7=118,ne.F8=119,ne.F9=120,ne.F10=121,ne.F11=122,ne.F12=123,ne.F13=124,ne.F14=125,ne.F15=126,ne.DIGIT_0=48,ne.DIGIT_1=49,ne.DIGIT_2=50,ne.DIGIT_3=51,ne.DIGIT_4=52,ne.DIGIT_5=53,ne.DIGIT_6=54,ne.DIGIT_7=55,ne.DIGIT_8=56,ne.DIGIT_9=57,ne.NUMPAD_0=96,ne.NUMPAD_1=97,ne.NUMPAD_2=98,ne.NUMPAD_3=99,ne.NUMPAD_4=100,ne.NUMPAD_5=101,ne.NUMPAD_6=102,ne.NUMPAD_7=103,ne.NUMPAD_8=104,ne.NUMPAD_9=105,ne.NUMPAD_ADD=107,ne.NUMPAD_DECIMAL=110,ne.NUMPAD_DIVIDE=111,ne.NUMPAD_ENTER=108,ne.NUMPAD_MULTIPLY=106,ne.NUMPAD_SUBTRACT=109,de.count=0,ye.i64tmp=new le(0,0),Te.escapes=function(t){var e=new ge;return null!=vo.lt?e.setReserved("lt","<"):e.h.lt="<",null!=vo.gt?e.setReserved("gt",">"):e.h.gt=">",null!=vo.amp?e.setReserved("amp","&"):e.h.amp="&",null!=vo.quot?e.setReserved("quot",'"'):e.h.quot='"',null!=vo.apos?e.setReserved("apos","'"):e.h.apos="'",e}(),Se.BYTES_PER_ELEMENT=4,Ce.BYTES_PER_ELEMENT=1,Pe.cache=new Me,Pe.libraries=new ge,Pe.onChange=new De,Pe.initialized=!1,Fe.windowID=0,sn.images=new ge,sn.loaders=new ge,pn.NONE=0,pn.FALSE=0,pn.TRUE=1,pn.SOURCE_RELATIVE=514,pn.CONE_INNER_ANGLE=4097,pn.CONE_OUTER_ANGLE=4098,pn.PITCH=4099,pn.POSITION=4100,pn.DIRECTION=4101,pn.VELOCITY=4102,pn.LOOPING=4103,pn.BUFFER=4105,pn.GAIN=4106,pn.MIN_GAIN=4109,pn.MAX_GAIN=4110,pn.ORIENTATION=4111,pn.SOURCE_STATE=4112,pn.INITIAL=4113,pn.PLAYING=4114,pn.PAUSED=4115,pn.STOPPED=4116,pn.BUFFERS_QUEUED=4117,pn.BUFFERS_PROCESSED=4118,pn.REFERENCE_DISTANCE=4128,pn.ROLLOFF_FACTOR=4129,pn.CONE_OUTER_GAIN=4130,pn.MAX_DISTANCE=4131,pn.SEC_OFFSET=4132,pn.SAMPLE_OFFSET=4133,pn.BYTE_OFFSET=4134,pn.SOURCE_TYPE=4135,pn.STATIC=4136,pn.STREAMING=4137,pn.UNDETERMINED=4144,pn.FORMAT_MONO8=4352,pn.FORMAT_MONO16=4353,pn.FORMAT_STEREO8=4354,pn.FORMAT_STEREO16=4355,pn.FREQUENCY=8193,pn.BITS=8194,pn.CHANNELS=8195,pn.SIZE=8196,pn.NO_ERROR=0,pn.INVALID_NAME=40961,pn.INVALID_ENUM=40962,pn.INVALID_VALUE=40963,pn.INVALID_OPERATION=40964,pn.OUT_OF_MEMORY=40965,pn.VENDOR=45057,pn.VERSION=45058,pn.RENDERER=45059,pn.EXTENSIONS=45060,pn.DOPPLER_FACTOR=49152,pn.SPEED_OF_SOUND=49155,pn.DOPPLER_VELOCITY=49153,pn.DISTANCE_MODEL=53248,pn.INVERSE_DISTANCE=53249,pn.INVERSE_DISTANCE_CLAMPED=53250,pn.LINEAR_DISTANCE=53251,pn.LINEAR_DISTANCE_CLAMPED=53252,pn.EXPONENT_DISTANCE=53253,pn.EXPONENT_DISTANCE_CLAMPED=53254,mn.FALSE=0,mn.TRUE=1,mn.FREQUENCY=4103,mn.REFRESH=4104,mn.SYNC=4105,mn.MONO_SOURCES=4112,mn.STEREO_SOURCES=4113,mn.NO_ERROR=0,mn.INVALID_DEVICE=40961,mn.INVALID_CONTEXT=40962,mn.INVALID_ENUM=40963,mn.INVALID_VALUE=40964,mn.OUT_OF_MEMORY=40965,mn.ATTRIBUTES_SIZE=4098,mn.ALL_ATTRIBUTES=4099,mn.DEFAULT_DEVICE_SPECIFIER=4100,mn.DEVICE_SPECIFIER=4101,mn.EXTENSIONS=4102,mn.ENUMERATE_ALL_EXT=1,mn.DEFAULT_ALL_DEVICES_SPECIFIER=4114,mn.ALL_DEVICES_SPECIFIER=4115,bn.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mn.FT_LOAD_FORCE_AUTOHINT=32,Wn.DEPTH_BUFFER_BIT=256,Wn.STENCIL_BUFFER_BIT=1024,Wn.COLOR_BUFFER_BIT=16384,Wn.POINTS=0,Wn.LINES=1,Wn.LINE_LOOP=2,Wn.LINE_STRIP=3,Wn.TRIANGLES=4,Wn.TRIANGLE_STRIP=5,Wn.TRIANGLE_FAN=6,Wn.ZERO=0,Wn.ONE=1,Wn.SRC_COLOR=768,Wn.ONE_MINUS_SRC_COLOR=769,Wn.SRC_ALPHA=770,Wn.ONE_MINUS_SRC_ALPHA=771,Wn.DST_ALPHA=772,Wn.ONE_MINUS_DST_ALPHA=773,Wn.DST_COLOR=774,Wn.ONE_MINUS_DST_COLOR=775,Wn.SRC_ALPHA_SATURATE=776,Wn.FUNC_ADD=32774,Wn.BLEND_EQUATION=32777,Wn.BLEND_EQUATION_RGB=32777,Wn.BLEND_EQUATION_ALPHA=34877,Wn.FUNC_SUBTRACT=32778,Wn.FUNC_REVERSE_SUBTRACT=32779,Wn.BLEND_DST_RGB=32968,Wn.BLEND_SRC_RGB=32969,Wn.BLEND_DST_ALPHA=32970,Wn.BLEND_SRC_ALPHA=32971,Wn.CONSTANT_COLOR=32769,Wn.ONE_MINUS_CONSTANT_COLOR=32770,Wn.CONSTANT_ALPHA=32771,Wn.ONE_MINUS_CONSTANT_ALPHA=32772,Wn.BLEND_COLOR=32773,Wn.ARRAY_BUFFER=34962,Wn.ELEMENT_ARRAY_BUFFER=34963,Wn.ARRAY_BUFFER_BINDING=34964,Wn.ELEMENT_ARRAY_BUFFER_BINDING=34965,Wn.STREAM_DRAW=35040,Wn.STATIC_DRAW=35044,Wn.DYNAMIC_DRAW=35048,Wn.BUFFER_SIZE=34660,Wn.BUFFER_USAGE=34661,Wn.CURRENT_VERTEX_ATTRIB=34342,Wn.FRONT=1028,Wn.BACK=1029,Wn.FRONT_AND_BACK=1032,Wn.CULL_FACE=2884,Wn.BLEND=3042,Wn.DITHER=3024,Wn.STENCIL_TEST=2960,Wn.DEPTH_TEST=2929,Wn.SCISSOR_TEST=3089,Wn.POLYGON_OFFSET_FILL=32823,Wn.SAMPLE_ALPHA_TO_COVERAGE=32926,Wn.SAMPLE_COVERAGE=32928,Wn.NO_ERROR=0,Wn.INVALID_ENUM=1280,Wn.INVALID_VALUE=1281,Wn.INVALID_OPERATION=1282,Wn.OUT_OF_MEMORY=1285,Wn.CW=2304,Wn.CCW=2305,Wn.LINE_WIDTH=2849,Wn.ALIASED_POINT_SIZE_RANGE=33901,Wn.ALIASED_LINE_WIDTH_RANGE=33902,Wn.CULL_FACE_MODE=2885,Wn.FRONT_FACE=2886,Wn.DEPTH_RANGE=2928,Wn.DEPTH_WRITEMASK=2930,Wn.DEPTH_CLEAR_VALUE=2931,Wn.DEPTH_FUNC=2932,Wn.STENCIL_CLEAR_VALUE=2961,Wn.STENCIL_FUNC=2962,Wn.STENCIL_FAIL=2964,Wn.STENCIL_PASS_DEPTH_FAIL=2965,Wn.STENCIL_PASS_DEPTH_PASS=2966,Wn.STENCIL_REF=2967,Wn.STENCIL_VALUE_MASK=2963,Wn.STENCIL_WRITEMASK=2968,Wn.STENCIL_BACK_FUNC=34816,Wn.STENCIL_BACK_FAIL=34817,Wn.STENCIL_BACK_PASS_DEPTH_FAIL=34818,Wn.STENCIL_BACK_PASS_DEPTH_PASS=34819,Wn.STENCIL_BACK_REF=36003,Wn.STENCIL_BACK_VALUE_MASK=36004,Wn.STENCIL_BACK_WRITEMASK=36005,Wn.VIEWPORT=2978,Wn.SCISSOR_BOX=3088,Wn.COLOR_CLEAR_VALUE=3106,Wn.COLOR_WRITEMASK=3107,Wn.UNPACK_ALIGNMENT=3317,Wn.PACK_ALIGNMENT=3333,Wn.MAX_TEXTURE_SIZE=3379,Wn.MAX_VIEWPORT_DIMS=3386,Wn.SUBPIXEL_BITS=3408,Wn.RED_BITS=3410,Wn.GREEN_BITS=3411,Wn.BLUE_BITS=3412,Wn.ALPHA_BITS=3413,Wn.DEPTH_BITS=3414,Wn.STENCIL_BITS=3415,Wn.POLYGON_OFFSET_UNITS=10752,Wn.POLYGON_OFFSET_FACTOR=32824,Wn.TEXTURE_BINDING_2D=32873,Wn.SAMPLE_BUFFERS=32936,Wn.SAMPLES=32937,Wn.SAMPLE_COVERAGE_VALUE=32938,Wn.SAMPLE_COVERAGE_INVERT=32939,Wn.COMPRESSED_TEXTURE_FORMATS=34467,Wn.DONT_CARE=4352,Wn.FASTEST=4353,Wn.NICEST=4354,Wn.GENERATE_MIPMAP_HINT=33170,Wn.BYTE=5120,Wn.UNSIGNED_BYTE=5121,Wn.SHORT=5122,Wn.UNSIGNED_SHORT=5123,Wn.INT=5124,Wn.UNSIGNED_INT=5125,Wn.FLOAT=5126,Wn.DEPTH_COMPONENT=6402,Wn.ALPHA=6406,Wn.RGB=6407,Wn.RGBA=6408,Wn.BGR_EXT=32992,Wn.BGRA_EXT=32993,Wn.LUMINANCE=6409,Wn.LUMINANCE_ALPHA=6410,Wn.UNSIGNED_SHORT_4_4_4_4=32819,Wn.UNSIGNED_SHORT_5_5_5_1=32820,Wn.UNSIGNED_SHORT_5_6_5=33635,Wn.FRAGMENT_SHADER=35632,Wn.VERTEX_SHADER=35633,Wn.MAX_VERTEX_ATTRIBS=34921,Wn.MAX_VERTEX_UNIFORM_VECTORS=36347,Wn.MAX_VARYING_VECTORS=36348,Wn.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,Wn.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,Wn.MAX_TEXTURE_IMAGE_UNITS=34930,Wn.MAX_FRAGMENT_UNIFORM_VECTORS=36349,Wn.SHADER_TYPE=35663,Wn.DELETE_STATUS=35712,Wn.LINK_STATUS=35714,Wn.VALIDATE_STATUS=35715,Wn.ATTACHED_SHADERS=35717,Wn.ACTIVE_UNIFORMS=35718,Wn.ACTIVE_ATTRIBUTES=35721,Wn.SHADING_LANGUAGE_VERSION=35724,Wn.CURRENT_PROGRAM=35725,Wn.NEVER=512,Wn.LESS=513,Wn.EQUAL=514,Wn.LEQUAL=515,Wn.GREATER=516,Wn.NOTEQUAL=517,Wn.GEQUAL=518,Wn.ALWAYS=519,Wn.KEEP=7680,Wn.REPLACE=7681,Wn.INCR=7682,Wn.DECR=7683,Wn.INVERT=5386,Wn.INCR_WRAP=34055,Wn.DECR_WRAP=34056,Wn.VENDOR=7936,Wn.RENDERER=7937,Wn.VERSION=7938,Wn.NEAREST=9728,Wn.LINEAR=9729,Wn.NEAREST_MIPMAP_NEAREST=9984,Wn.LINEAR_MIPMAP_NEAREST=9985,Wn.NEAREST_MIPMAP_LINEAR=9986,Wn.LINEAR_MIPMAP_LINEAR=9987,Wn.TEXTURE_MAG_FILTER=10240,Wn.TEXTURE_MIN_FILTER=10241,Wn.TEXTURE_WRAP_S=10242,Wn.TEXTURE_WRAP_T=10243,Wn.TEXTURE_2D=3553,Wn.TEXTURE=5890,Wn.TEXTURE_CUBE_MAP=34067,Wn.TEXTURE_BINDING_CUBE_MAP=34068,Wn.TEXTURE_CUBE_MAP_POSITIVE_X=34069,Wn.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,Wn.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,Wn.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,Wn.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,Wn.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,Wn.MAX_CUBE_MAP_TEXTURE_SIZE=34076,Wn.TEXTURE0=33984,Wn.TEXTURE1=33985,Wn.TEXTURE2=33986,Wn.TEXTURE3=33987,Wn.TEXTURE4=33988,Wn.TEXTURE5=33989,Wn.TEXTURE6=33990,Wn.TEXTURE7=33991,Wn.TEXTURE8=33992,Wn.TEXTURE9=33993,Wn.TEXTURE10=33994,Wn.TEXTURE11=33995,Wn.TEXTURE12=33996,Wn.TEXTURE13=33997,Wn.TEXTURE14=33998,Wn.TEXTURE15=33999,Wn.TEXTURE16=34e3,Wn.TEXTURE17=34001,Wn.TEXTURE18=34002,Wn.TEXTURE19=34003,Wn.TEXTURE20=34004,Wn.TEXTURE21=34005,Wn.TEXTURE22=34006,Wn.TEXTURE23=34007,Wn.TEXTURE24=34008,Wn.TEXTURE25=34009,Wn.TEXTURE26=34010,Wn.TEXTURE27=34011,Wn.TEXTURE28=34012,Wn.TEXTURE29=34013,Wn.TEXTURE30=34014,Wn.TEXTURE31=34015,Wn.ACTIVE_TEXTURE=34016,Wn.REPEAT=10497,Wn.CLAMP_TO_EDGE=33071,Wn.MIRRORED_REPEAT=33648,Wn.FLOAT_VEC2=35664,Wn.FLOAT_VEC3=35665,Wn.FLOAT_VEC4=35666,Wn.INT_VEC2=35667,Wn.INT_VEC3=35668,Wn.INT_VEC4=35669,Wn.BOOL=35670,Wn.BOOL_VEC2=35671,Wn.BOOL_VEC3=35672,Wn.BOOL_VEC4=35673,Wn.FLOAT_MAT2=35674,Wn.FLOAT_MAT3=35675,Wn.FLOAT_MAT4=35676,Wn.SAMPLER_2D=35678,Wn.SAMPLER_CUBE=35680,Wn.VERTEX_ATTRIB_ARRAY_ENABLED=34338,Wn.VERTEX_ATTRIB_ARRAY_SIZE=34339,Wn.VERTEX_ATTRIB_ARRAY_STRIDE=34340,Wn.VERTEX_ATTRIB_ARRAY_TYPE=34341,Wn.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,Wn.VERTEX_ATTRIB_ARRAY_POINTER=34373,Wn.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,Wn.VERTEX_PROGRAM_POINT_SIZE=34370,Wn.POINT_SPRITE=34913,Wn.COMPILE_STATUS=35713,Wn.LOW_FLOAT=36336,Wn.MEDIUM_FLOAT=36337,Wn.HIGH_FLOAT=36338,Wn.LOW_INT=36339,Wn.MEDIUM_INT=36340,Wn.HIGH_INT=36341,Wn.FRAMEBUFFER=36160,Wn.RENDERBUFFER=36161,Wn.RGBA4=32854,Wn.RGB5_A1=32855,Wn.RGB565=36194,Wn.DEPTH_COMPONENT16=33189,Wn.STENCIL_INDEX=6401,Wn.STENCIL_INDEX8=36168,Wn.DEPTH_STENCIL=34041,Wn.RENDERBUFFER_WIDTH=36162,Wn.RENDERBUFFER_HEIGHT=36163,Wn.RENDERBUFFER_INTERNAL_FORMAT=36164,Wn.RENDERBUFFER_RED_SIZE=36176,Wn.RENDERBUFFER_GREEN_SIZE=36177,Wn.RENDERBUFFER_BLUE_SIZE=36178,Wn.RENDERBUFFER_ALPHA_SIZE=36179,Wn.RENDERBUFFER_DEPTH_SIZE=36180,Wn.RENDERBUFFER_STENCIL_SIZE=36181,Wn.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,Wn.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,Wn.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,Wn.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,Wn.COLOR_ATTACHMENT0=36064,Wn.DEPTH_ATTACHMENT=36096,Wn.STENCIL_ATTACHMENT=36128,Wn.DEPTH_STENCIL_ATTACHMENT=33306,Wn.NONE=0,Wn.FRAMEBUFFER_COMPLETE=36053,Wn.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,Wn.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,Wn.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,Wn.FRAMEBUFFER_UNSUPPORTED=36061,Wn.FRAMEBUFFER_BINDING=36006,Wn.RENDERBUFFER_BINDING=36007,Wn.MAX_RENDERBUFFER_SIZE=34024,Wn.INVALID_FRAMEBUFFER_OPERATION=1286,Wn.UNPACK_FLIP_Y_WEBGL=37440,Wn.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,Wn.CONTEXT_LOST_WEBGL=37442,Wn.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,Wn.BROWSER_DEFAULT_WEBGL=37444,qn.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Jn.__identity=new Jn,Zn.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ai.GLOBAL_SSL=1,ai.GLOBAL_WIN32=2,ai.GLOBAL_ALL=3,ai.GLOBAL_NOTHING=0,ai.GLOBAL_DEFAULT=3,ai.GLOBAL_ACK_EINTR=4,li.MESSAGE_COMPLETE="__COMPLETE__",li.MESSAGE_ERROR="__ERROR__",oi.__moduleNames=null,wi.INVALID=0,wi.LEFT_TO_RIGHT=4,wi.RIGHT_TO_LEFT=5,wi.TOP_TO_BOTTOM=6,wi.BOTTOM_TO_TOP=7,Ti.COMMON="Zyyy",Ti.INHERITED="Zinh",Ti.UNKNOWN="Zzzz",Ti.ARABIC="Arab",Ti.ARMENIAN="Armn",Ti.BENGALI="Beng",Ti.CYRILLIC="Cyrl",Ti.DEVANAGARI="Deva",Ti.GEORGIAN="Geor",Ti.GREEK="Grek",Ti.GUJARATI="Gujr",Ti.GURMUKHI="Guru",Ti.HANGUL="Hang",Ti.HAN="Hani",Ti.HEBREW="Hebr",Ti.HIRAGANA="Hira",Ti.KANNADA="Knda",Ti.KATAKANA="Kana",Ti.LAO="Laoo",Ti.LATIN="Latn",Ti.MALAYALAM="Mlym",Ti.ORIYA="Orya",Ti.TAMIL="Taml",Ti.TELUGA="Telu",Ti.THAI="Thai",Ti.TIBETAN="Tibt",Ti.BOPOMOFO="Bopo",Ti.BRAILLE="Brai",Ti.CANADIAN_SYLLABICS="Cans",Ti.CHEROKEE="Cher",Ti.ETHIOPIC="Ethi",Ti.KHMER="Khmr",Ti.MONGOLIAN="Mong",Ti.MYANMAR="Mymr",Ti.OGHAM="Ogam",Ti.RUNIC="Runr",Ti.SINHALA="Sinh",Ti.SYRIAC="Syrc",Ti.THAANA="Thaa",Ti.YI="Yiii",Ti.DESERET="Dsrt",Ti.GOTHIC="Goth",Ti.OLD_ITALIC="Ital",Ti.BUHID="Buhd",Ti.HANUNOO="Hano",Ti.TAGALOG="Tglg",Ti.TAGBANWA="Tagb",Ti.CYPRIOT="Cprt",Ti.LIMBU="Limb",Ti.LINEAR_B="Linb",Ti.OSMANYA="Osma",Ti.SHAVIAN="Shaw",Ti.TAI_LE="Tale",Ti.UGARITIC="Ugar",Ti.BUGINESE="Bugi",Ti.COPTIC="Copt",Ti.GLAGOLITIC="Glag",Ti.KHAROSHTHI="Khar",Ti.NEW_TAI_LUE="Talu",Ti.OLD_PERSIAN="Xpeo",Ti.SYLOTI_NAGRI="Sylo",Ti.TIFINAGH="Tfng",Ti.BALINESE="Bali",Ti.CUNEIFORM="Xsux",Ti.NKO="Nkoo",Ti.PHAGS_PA="Phag",Ti.PHOENICIAN="Phnx",Ti.CARIAN="Cari",Ti.CHAM="Cham",Ti.KAYAH_LI="Kali",Ti.LEPCHA="Lepc",Ti.LYCIAN="Lyci",Ti.LYDIAN="Lydi",Ti.OL_CHIKI="Olck",Ti.REJANG="Rjng",Ti.SAURASHTRA="Saur",Ti.SUNDANESE="Sund",Ti.VAI="Vaii",Ti.AVESTAN="Avst",Ti.BAMUM="Bamu";Ti.EGYPTIAN_HIEROGLYPHS="Egyp",Ti.IMPERIAL_ARAMAIC="Armi",Ti.INSCRIPTIONAL_PAHLAVI="Phli",Ti.INSCRIPTIONAL_PARTHIAN="Prti",Ti.JAVANESE="Java",Ti.KAITHI="Kthi",Ti.LISU="Lisu",Ti.MEETEI_MAYEK="Mtei",Ti.OLD_SOUTH_ARABIAN="Sarb",Ti.OLD_TURKIC="Orkh",Ti.SAMARITAN="Samr",Ti.TAI_THAM="Lana",Ti.TAI_VIET="Tavt",Ti.BATAK="Batk",Ti.BRAHMI="Brah",Ti.MANDAIC="Mand",Ti.CHAKMA="Cakm",Ti.MEROITIC_CURSIVE="Merc",Ti.MEROITIC_HIEROGLYPHS="Mero",Ti.MIAO="Plrd",Ti.SHARADA="Shrd",Ti.SORA_SOMPENG="Sora",Ti.TAKRI="Takr",Ti.BASSA_VAH="Bass",Ti.CAUCASIAN_ALBANIAN="Aghb",Ti.DUPLOYAN="Dupl",Ti.ELBASAN="Elba",Ti.GRANTHA="Gran",Ti.KHOJKI="Khoj",Ti.KHUDAWADI="Sind",Ti.LINEAR_A="Lina",Ti.MAHAJANI="Mahj",Ti.MANICHAEAN="Mani",Ti.MENDE_KIKAKUI="Mend",Ti.MODI="Modi",Ti.MRO="Mroo",Ti.NABATAEAN="Nbat",Ti.OLD_NORTH_ARABIAN="Narb",Ti.OLD_PERMIC="Perm",Ti.PAHAWH_HMONG="Hmng",Ti.PALMYRENE="Palm",Ti.PAU_CIN_HAU="Pauc",Ti.PSALTER_PAHLAVI="Phlp",Ti.SIDDHAM="Sidd",Ti.TIRHUTA="Tirh",Ti.WARANG_CITI="Wara",Ei.devices=new ce,Ei.onConnect=new tn,Ri.LEFT_X=0,Ri.LEFT_Y=1,Ri.RIGHT_X=2,Ri.RIGHT_Y=3,Ri.TRIGGER_LEFT=4,Ri.TRIGGER_RIGHT=5,Ai.A=0,Ai.B=1,Ai.X=2,Ai.Y=3,Ai.BACK=4,Ai.GUIDE=5,Ai.START=6,Ai.LEFT_STICK=7,Ai.RIGHT_STICK=8,Ai.LEFT_SHOULDER=9,Ai.RIGHT_SHOULDER=10,Ai.DPAD_UP=11,Ai.DPAD_DOWN=12,Ai.DPAD_LEFT=13,Ai.DPAD_RIGHT=14,Ii.devices=new ce,Ii.onConnect=new en,Si.CENTER=0,Si.DOWN=4,Si.LEFT=8,Si.RIGHT=2,Si.UP=1,Si.DOWN_LEFT=12,Si.DOWN_RIGHT=6,Si.UP_LEFT=9,Si.UP_RIGHT=3,Ci.UNKNOWN=0,Ci.BACKSPACE=8,Ci.TAB=9,Ci.RETURN=13,Ci.ESCAPE=27,Ci.SPACE=32,Ci.EXCLAMATION=33,Ci.QUOTE=34,Ci.HASH=35,Ci.DOLLAR=36,Ci.PERCENT=37,Ci.AMPERSAND=38,Ci.SINGLE_QUOTE=39,Ci.LEFT_PARENTHESIS=40,Ci.RIGHT_PARENTHESIS=41,Ci.ASTERISK=42,Ci.PLUS=43,Ci.COMMA=44,Ci.MINUS=45,Ci.PERIOD=46,Ci.SLASH=47,Ci.NUMBER_0=48,Ci.NUMBER_1=49,Ci.NUMBER_2=50,Ci.NUMBER_3=51,Ci.NUMBER_4=52,Ci.NUMBER_5=53,Ci.NUMBER_6=54,Ci.NUMBER_7=55,Ci.NUMBER_8=56,Ci.NUMBER_9=57,Ci.COLON=58,Ci.SEMICOLON=59,Ci.LESS_THAN=60,Ci.EQUALS=61,Ci.GREATER_THAN=62,Ci.QUESTION=63,Ci.AT=64,Ci.LEFT_BRACKET=91,Ci.BACKSLASH=92,Ci.RIGHT_BRACKET=93,Ci.CARET=94,Ci.UNDERSCORE=95,Ci.GRAVE=96,Ci.A=97,Ci.B=98,Ci.C=99,Ci.D=100,Ci.E=101,Ci.F=102,Ci.G=103,Ci.H=104,Ci.I=105,Ci.J=106,Ci.K=107,Ci.L=108,Ci.M=109,Ci.N=110,Ci.O=111,Ci.P=112,Ci.Q=113,Ci.R=114,Ci.S=115,Ci.T=116,Ci.U=117,Ci.V=118,Ci.W=119,Ci.X=120,Ci.Y=121,Ci.Z=122,Ci.DELETE=127,Ci.CAPS_LOCK=1073741881,Ci.F1=1073741882,Ci.F2=1073741883,Ci.F3=1073741884,Ci.F4=1073741885,Ci.F5=1073741886,Ci.F6=1073741887,Ci.F7=1073741888,Ci.F8=1073741889,Ci.F9=1073741890,Ci.F10=1073741891,Ci.F11=1073741892,Ci.F12=1073741893,Ci.PRINT_SCREEN=1073741894,Ci.SCROLL_LOCK=1073741895,Ci.PAUSE=1073741896,Ci.INSERT=1073741897,Ci.HOME=1073741898,Ci.PAGE_UP=1073741899,Ci.END=1073741901,Ci.PAGE_DOWN=1073741902,Ci.RIGHT=1073741903,Ci.LEFT=1073741904,Ci.DOWN=1073741905,Ci.UP=1073741906,Ci.NUM_LOCK=1073741907,Ci.NUMPAD_DIVIDE=1073741908,Ci.NUMPAD_MULTIPLY=1073741909,Ci.NUMPAD_MINUS=1073741910,Ci.NUMPAD_PLUS=1073741911,Ci.NUMPAD_ENTER=1073741912,Ci.NUMPAD_1=1073741913,Ci.NUMPAD_2=1073741914,Ci.NUMPAD_3=1073741915,Ci.NUMPAD_4=1073741916,Ci.NUMPAD_5=1073741917,Ci.NUMPAD_6=1073741918,Ci.NUMPAD_7=1073741919,Ci.NUMPAD_8=1073741920,Ci.NUMPAD_9=1073741921,Ci.NUMPAD_0=1073741922,Ci.NUMPAD_PERIOD=1073741923,Ci.APPLICATION=1073741925,Ci.POWER=1073741926,Ci.NUMPAD_EQUALS=1073741927,Ci.F13=1073741928,Ci.F14=1073741929,Ci.F15=1073741930,Ci.F16=1073741931,Ci.F17=1073741932,Ci.F18=1073741933,Ci.F19=1073741934,Ci.F20=1073741935,Ci.F21=1073741936,Ci.F22=1073741937,Ci.F23=1073741938,Ci.F24=1073741939,Ci.EXECUTE=1073741940,Ci.HELP=1073741941,Ci.MENU=1073741942,Ci.SELECT=1073741943,Ci.STOP=1073741944,Ci.AGAIN=1073741945,Ci.UNDO=1073741946,Ci.CUT=1073741947,Ci.COPY=1073741948,Ci.PASTE=1073741949,Ci.FIND=1073741950,Ci.MUTE=1073741951,Ci.VOLUME_UP=1073741952,Ci.VOLUME_DOWN=1073741953,Ci.NUMPAD_COMMA=1073741957,Ci.ALT_ERASE=1073741977,Ci.SYSTEM_REQUEST=1073741978,Ci.CANCEL=1073741979,Ci.CLEAR=1073741980,Ci.PRIOR=1073741981,Ci.RETURN2=1073741982,Ci.SEPARATOR=1073741983,Ci.OUT=1073741984,Ci.OPER=1073741985,Ci.CLEAR_AGAIN=1073741986,Ci.CRSEL=1073741987,Ci.EXSEL=1073741988,Ci.NUMPAD_00=1073742e3,Ci.NUMPAD_000=1073742001,Ci.THOUSAND_SEPARATOR=1073742002,Ci.DECIMAL_SEPARATOR=1073742003,Ci.CURRENCY_UNIT=1073742004,Ci.CURRENCY_SUBUNIT=1073742005,Ci.NUMPAD_LEFT_PARENTHESIS=1073742006,Ci.NUMPAD_RIGHT_PARENTHESIS=1073742007,Ci.NUMPAD_LEFT_BRACE=1073742008,Ci.NUMPAD_RIGHT_BRACE=1073742009,Ci.NUMPAD_TAB=1073742010,Ci.NUMPAD_BACKSPACE=1073742011,Ci.NUMPAD_A=1073742012,Ci.NUMPAD_B=1073742013,Ci.NUMPAD_C=1073742014,Ci.NUMPAD_D=1073742015,Ci.NUMPAD_E=1073742016,Ci.NUMPAD_F=1073742017,Ci.NUMPAD_XOR=1073742018,Ci.NUMPAD_POWER=1073742019,Ci.NUMPAD_PERCENT=1073742020,Ci.NUMPAD_LESS_THAN=1073742021,Ci.NUMPAD_GREATER_THAN=1073742022,Ci.NUMPAD_AMPERSAND=1073742023,Ci.NUMPAD_DOUBLE_AMPERSAND=1073742024,Ci.NUMPAD_VERTICAL_BAR=1073742025,Ci.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,Ci.NUMPAD_COLON=1073742027,Ci.NUMPAD_HASH=1073742028,Ci.NUMPAD_SPACE=1073742029,Ci.NUMPAD_AT=1073742030,Ci.NUMPAD_EXCLAMATION=1073742031,Ci.NUMPAD_MEM_STORE=1073742032,Ci.NUMPAD_MEM_RECALL=1073742033,Ci.NUMPAD_MEM_CLEAR=1073742034,Ci.NUMPAD_MEM_ADD=1073742035,Ci.NUMPAD_MEM_SUBTRACT=1073742036,Ci.NUMPAD_MEM_MULTIPLY=1073742037,Ci.NUMPAD_MEM_DIVIDE=1073742038,Ci.NUMPAD_PLUS_MINUS=1073742039,Ci.NUMPAD_CLEAR=1073742040,Ci.NUMPAD_CLEAR_ENTRY=1073742041,Ci.NUMPAD_BINARY=1073742042,Ci.NUMPAD_OCTAL=1073742043,Ci.NUMPAD_DECIMAL=1073742044,Ci.NUMPAD_HEXADECIMAL=1073742045,Ci.LEFT_CTRL=1073742048,Ci.LEFT_SHIFT=1073742049,Ci.LEFT_ALT=1073742050,Ci.LEFT_META=1073742051,Ci.RIGHT_CTRL=1073742052,Ci.RIGHT_SHIFT=1073742053,Ci.RIGHT_ALT=1073742054,Ci.RIGHT_META=1073742055,Ci.MODE=1073742081,Ci.AUDIO_NEXT=1073742082,Ci.AUDIO_PREVIOUS=1073742083,Ci.AUDIO_STOP=1073742084,Ci.AUDIO_PLAY=1073742085,Ci.AUDIO_MUTE=1073742086,Ci.MEDIA_SELECT=1073742087,Ci.WWW=1073742088,Ci.MAIL=1073742089,Ci.CALCULATOR=1073742090,Ci.COMPUTER=1073742091,Ci.APP_CONTROL_SEARCH=1073742092,Ci.APP_CONTROL_HOME=1073742093,Ci.APP_CONTROL_BACK=1073742094,Ci.APP_CONTROL_FORWARD=1073742095,Ci.APP_CONTROL_STOP=1073742096,Ci.APP_CONTROL_REFRESH=1073742097,Ci.APP_CONTROL_BOOKMARKS=1073742098,Ci.BRIGHTNESS_DOWN=1073742099,Ci.BRIGHTNESS_UP=1073742100,Ci.DISPLAY_SWITCH=1073742101,Ci.BACKLIGHT_TOGGLE=1073742102,Ci.BACKLIGHT_DOWN=1073742103,Ci.BACKLIGHT_UP=1073742104,Ci.EJECT=1073742105,Ci.SLEEP=1073742106,Mi.NONE=0,Mi.LEFT_SHIFT=1,Mi.RIGHT_SHIFT=2,Mi.LEFT_CTRL=64,Mi.RIGHT_CTRL=128,Mi.LEFT_ALT=256,Mi.RIGHT_ALT=512,Mi.LEFT_META=1024,Mi.RIGHT_META=2048,Mi.NUM_LOCK=4096,Mi.CAPS_LOCK=8192,Mi.MODE=16384,Mi.CTRL=192,Mi.SHIFT=3,Mi.ALT=768,Mi.META=3072,Li.onEnd=new rn,Li.onMove=new rn,Li.onStart=new rn,Oi.cffi_lime_bytes_from_data_pointer=oi.load("lime","lime_bytes_from_data_pointer",2,!1),Oi.cffi_lime_bytes_get_data_pointer=oi.load("lime","lime_bytes_get_data_pointer",1,!1),Oi.cffi_lime_bytes_read_file=oi.load("lime","lime_bytes_read_file",1,!1),Fi.BYTES_PER_ELEMENT=4,Ui.BYTES_PER_ELEMENT=2,Gi.BYTES_PER_ELEMENT=4,Yi.BYTES_PER_ELEMENT=2,Hi.BYTES_PER_ELEMENT=4,Vi.BYTES_PER_ELEMENT=1,ji.cache=new zi,ji.dispatcher=new h,Ji.current=new qi,Ji.__sentWarnings=new ge,Er.SIN45=.7071067811865476,Er.TAN22=.41421356237309503,Sr.SIN45=.7071067811865476,Sr.TAN22=.41421356237309503,Sr.fillCommands=new nr,Sr.strokeCommands=new nr,kr.SIN45=.7071067811865476,kr.TAN22=.41421356237309503,kr.fillCommands=new nr,kr.strokeCommands=new nr,Wr.fbData=[],zr.glContextId=0,zr.glContexts=[],jr.UID=0,Kr.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],ea.__currentWinding=0,ea.__fillIndex=0,la.fillVertexAttributes=[new sa(2,5126,!1,"openfl_aPosition")],la.drawTrianglesVertexAttributes=[new sa(2,5126,!1,"openfl_aPosition"),new sa(2,5126,!1,"openfl_aTexCoord0"),new sa(4,5121,!0,"openfl_aColor")],la.primitiveVertexAttributes=[new sa(2,5126,!1,"openfl_aPosition"),new sa(4,5126,!1,"openfl_aColor")],la.graphicsDataPool=[],la.bucketPool=[],la.SIN45=.7071067811865476,la.TAN22=.41421356237309503,la.objectPosition=new V,la.objectBounds=new z,ma.compiledShadersCache=new ge,va.VERTS_PER_SPRITE=4,ba.UTF8_TAB=9,ba.UTF8_ENDLINE=10,ba.UTF8_SPACE=32,ba.UTF8_HYPHEN=45,ba.__defaultFonts=new ge,Ia.__isGLES=null,Ca.ADD=0,Ca.ALPHA=1,Ca.DARKEN=2,Ca.DIFFERENCE=3,Ca.ERASE=4,Ca.HARDLIGHT=5,Ca.INVERT=6,Ca.LAYER=7,Ca.LIGHTEN=8,Ca.MULTIPLY=9,Ca.NORMAL=10,Ca.OVERLAY=11,Ca.SCREEN=12,Ca.SHADER=13,Ca.SUBTRACT=14,Ma.NONE=0,Ma.ROUND=1,Ma.SQUARE=2,La.LINEAR=0,La.RADIAL=1,ka.TILE_SCALE=1,ka.TILE_ROTATION=2,ka.TILE_RGB=4,ka.TILE_ALPHA=8,ka.TILE_TRANS_2x2=16,ka.TILE_RECT=32,ka.TILE_ORIGIN=64,ka.TILE_BLEND_NORMAL=0,ka.TILE_BLEND_ADD=65536,ka.TILE_BLEND_MULTIPLY=131072,ka.TILE_BLEND_SCREEN=262144,ka.TILE_BLEND_SUBTRACT=524288,ka.TILE_BLEND_DARKEN=1048576,ka.TILE_BLEND_LIGHTEN=2097152,ka.TILE_BLEND_OVERLAY=4194304,ka.TILE_BLEND_HARDLIGHT=8388608,ka.TILE_BLEND_DIFFERENCE=16777216,ka.TILE_BLEND_INVERT=33554432,ja.LINEAR_RGB=0,ja.RGB=1,qa.BEVEL=0,qa.MITER=1,qa.ROUND=2,Ja.HORIZONTAL=0,Ja.NONE=1,Ja.NORMAL=2,Ja.VERTICAL=3,Qa.CONTEXT_LOST="glcontextlost",Qa.CONTEXT_RESTORED="glcontextrestored",ts.ALWAYS=0,ts.AUTO=1,ts.NEVER=2,ns.uniformRegex=new A("^\\s*uniform\\s+(sampler(?:2D|Cube)|[bi]?vec[234]|float|int|bool|mat[234])\\s+(\\w+)\\s*(?:\\[(\\d+)\\])?\\s*;.*$","gmi"),ns.aPosition="openfl_aPosition",ns.aTexCoord="openfl_aTexCoord0",ns.aColor="openfl_aColor",ns.uSampler="openfl_uSampler0",ns.uProjectionMatrix="openfl_uProjectionMatrix",ns.uColorMultiplier="openfl_uColorMultiplier",ns.uColorOffset="openfl_uColorOffset",ns.uObjectSize="openfl_uObjectSize",ns.uTextureSize="openfl_uTextureSize",ns.vTexCoord="openfl_vTexCoord",ns.vColor="openfl_vColor",ns.vertexHeader=["attribute vec2 "+ns.aPosition+";","attribute vec2 "+ns.aTexCoord+";","attribute vec4 "+ns.aColor+";","uniform mat3 "+ns.uProjectionMatrix+";","uniform vec2 "+ns.uObjectSize+";","uniform vec2 "+ns.uTextureSize+";","varying vec2 "+ns.vTexCoord+";","varying vec4 "+ns.vColor+";"],ns.fragmentHeader=["uniform sampler2D "+ns.uSampler+";","uniform vec4 "+ns.uColorMultiplier+";","uniform vec4 "+ns.uColorOffset+";","uniform vec2 "+ns.uObjectSize+";","uniform vec2 "+ns.uTextureSize+";","varying vec2 "+ns.vTexCoord+";","varying vec4 "+ns.vColor+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}"],as.PAD=0,as.REFLECT=1,as.REPEAT=2,os.BOTTOM=0,os.BOTTOM_LEFT=1,os.BOTTOM_RIGHT=2,os.LEFT=3,os.RIGHT=4,os.TOP=5,os.TOP_LEFT=6,os.TOP_RIGHT=7,hs.FULL_SCREEN=0,hs.FULL_SCREEN_INTERACTIVE=1,hs.NORMAL=2,_s.BEST=0,_s.HIGH=1,_s.LOW=2,_s.MEDIUM=3,us.EXACT_FIT=0,us.NO_BORDER=1,us.NO_SCALE=2,us.SHOW_ALL=3,cs.TILE_SCALE=1,cs.TILE_ROTATION=2,cs.TILE_RGB=4,cs.TILE_ALPHA=8,cs.TILE_TRANS_2x2=16,cs.TILE_RECT=32,cs.TILE_ORIGIN=64,cs.TILE_TRANS_COLOR=128,cs.TILE_BLEND_NORMAL=0,cs.TILE_BLEND_ADD=65536,cs.TILE_BLEND_MULTIPLY=131072,cs.TILE_BLEND_SCREEN=262144,cs.TILE_BLEND_SUBTRACT=524288,cs.TILE_BLEND_DARKEN=1048576,cs.TILE_BLEND_LIGHTEN=2097152,cs.TILE_BLEND_OVERLAY=4194304,cs.TILE_BLEND_HARDLIGHT=8388608,cs.TILE_BLEND_DIFFERENCE=16777216,cs.TILE_BLEND_INVERT=33554432,cs.__defaultPoint=new V(0,0),ds.NEGATIVE=0,ds.NONE=1,ds.POSITIVE=2,gs.TEXTURE_MAX_ANISOTROPY_EXT=34046,gs.MAX_SAMPLERS=8,gs.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,gs.anisotropySupportTested=!1,gs.supportsAnisotropy=!1,gs.maxSupportedAnisotropy=256,vs.ALL=17664,vs.COLOR=16384,vs.DEPTH=256,vs.STENCIL=1024,xs.ALWAYS=519,xs.EQUAL=514,xs.GREATER=516,xs.GREATER_EQUAL=518,xs.LESS=513,xs.LESS_EQUAL=515,xs.NEVER=512,xs.NOT_EQUAL=517,Es.BACK=1028,Es.FRONT=1029,Es.FRONT_AND_BACK=1032,Es.NONE=0,Ls.internalFormat=-1,ks.DEFAULT_TO_STRING="Error",Gs.ACTIVITY="activity",Xs.LINK="link",Xs.TEXT_INPUT="textInput",Ys.ERROR="error",Vs.FOCUS_IN="focusIn",Vs.FOCUS_OUT="focusOut",Vs.KEY_FOCUS_CHANGE="keyFocusChange",Vs.MOUSE_FOCUS_CHANGE="mouseFocusChange",Ws.FULL_SCREEN="fullScreen",Ws.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",zs.DEVICE_ADDED="deviceAdded",zs.DEVICE_REMOVED="deviceRemoved",zs.DEVICE_UNUSABLE="deviceUnusable",js.HTTP_RESPONSE_STATUS="httpResponseStatus",js.HTTP_STATUS="httpStatus",Ks.IO_ERROR="ioError",qs.KEY_DOWN="keyDown",qs.KEY_UP="keyUp",Js.CLICK="click",Js.DOUBLE_CLICK="doubleClick",Js.MIDDLE_CLICK="middleClick",Js.MIDDLE_MOUSE_DOWN="middleMouseDown",Js.MIDDLE_MOUSE_UP="middleMouseUp",Js.MOUSE_DOWN="mouseDown",Js.MOUSE_MOVE="mouseMove",Js.MOUSE_OUT="mouseOut",Js.MOUSE_OVER="mouseOver",Js.MOUSE_UP="mouseUp",Js.MOUSE_WHEEL="mouseWheel",Js.RIGHT_CLICK="rightClick",Js.RIGHT_MOUSE_DOWN="rightMouseDown",Js.RIGHT_MOUSE_UP="rightMouseUp",Js.ROLL_OUT="rollOut",Js.ROLL_OVER="rollOver",Zs.PROGRESS="progress",Zs.SOCKET_DATA="socketData",Qs.SECURITY_ERROR="securityError",$s.TOUCH_BEGIN="touchBegin",$s.TOUCH_END="touchEnd",$s.TOUCH_MOVE="touchMove",$s.TOUCH_OUT="touchOut",$s.TOUCH_OVER="touchOver",$s.TOUCH_ROLL_OUT="touchRollOut",$s.TOUCH_ROLL_OVER="touchRollOver",$s.TOUCH_TAP="touchTap",nl.AXIS_ANGLE=0,nl.EULER_ANGLES=1,nl.QUATERNION=2,sl.__registeredSounds=new ge,ul.BINARY=0,ul.TEXT=1,ul.VARIABLES=2,fl.DELETE=0,fl.GET=1,fl.HEAD=2,fl.OPTIONS=3,fl.POST=4,fl.PUT=5,ml.currentDomain=new ml,vl.useCodePage=!1,xl.ADVANCED=0,xl.NORMAL=1,yl.BOLD=0,yl.BOLD_ITALIC=1,yl.ITALIC=2,yl.REGULAR=3,wl.DEVICE=0,wl.EMBEDDED=1,wl.EMBEDDED_CFF=2,bl.NONE=0,bl.PIXEL=1,bl.SUBPIXEL=2,El.CENTER=0,El.LEFT=1,El.NONE=2,El.RIGHT=3,Rl.DYNAMIC=0,Rl.INPUT=1,Il.CENTER=0,Il.END=1,Il.JUSTIFY=2,Il.LEFT=3,Il.RIGHT=4,Il.START=5,Cl.isSupported=!0,Cl.numDevices=0,Cl.__deviceList=[],Cl.__devices=new de,Cl.__instances=[],Dl.MAX_BUFFER_SIZE=32e3,Pl.NUMBER_0=48,Pl.NUMBER_1=49,Pl.NUMBER_2=50,Pl.NUMBER_3=51,Pl.NUMBER_4=52,Pl.NUMBER_5=53,Pl.NUMBER_6=54,Pl.NUMBER_7=55,Pl.NUMBER_8=56,Pl.NUMBER_9=57,Pl.A=65,Pl.B=66,Pl.C=67,Pl.D=68,Pl.E=69,Pl.F=70,Pl.G=71,Pl.H=72,Pl.I=73,Pl.J=74,Pl.K=75,Pl.L=76,Pl.M=77,Pl.N=78,Pl.O=79,Pl.P=80,Pl.Q=81,Pl.R=82,Pl.S=83,Pl.T=84,Pl.U=85,Pl.V=86,Pl.W=87,Pl.X=88,Pl.Y=89,Pl.Z=90,Pl.NUMPAD_0=96,Pl.NUMPAD_1=97,Pl.NUMPAD_2=98,Pl.NUMPAD_3=99,Pl.NUMPAD_4=100,Pl.NUMPAD_5=101,Pl.NUMPAD_6=102,Pl.NUMPAD_7=103,Pl.NUMPAD_8=104,Pl.NUMPAD_9=105,Pl.NUMPAD_MULTIPLY=106,Pl.NUMPAD_ADD=107,Pl.NUMPAD_ENTER=108,Pl.NUMPAD_SUBTRACT=109,Pl.NUMPAD_DECIMAL=110,Pl.NUMPAD_DIVIDE=111,Pl.F1=112,Pl.F2=113,Pl.F3=114,Pl.F4=115,Pl.F5=116,Pl.F6=117,Pl.F7=118,Pl.F8=119,Pl.F9=120,Pl.F10=121,Pl.F11=122,Pl.F12=123,Pl.F13=124,Pl.F14=125,Pl.F15=126,Pl.BACKSPACE=8,Pl.TAB=9,Pl.ALTERNATE=18,Pl.ENTER=13,Pl.COMMAND=15,Pl.SHIFT=16,Pl.CONTROL=17,Pl.BREAK=19,Pl.CAPS_LOCK=20,Pl.NUMPAD=21,Pl.ESCAPE=27,Pl.SPACE=32,Pl.PAGE_UP=33,Pl.PAGE_DOWN=34,Pl.END=35,Pl.HOME=36,Pl.LEFT=37,Pl.RIGHT=39,Pl.UP=38,Pl.DOWN=40,Pl.INSERT=45,Pl.DELETE=46,Pl.NUMLOCK=144,Pl.SEMICOLON=186,Pl.EQUAL=187,Pl.COMMA=188,Pl.MINUS=189,Pl.PERIOD=190,Pl.SLASH=191,Pl.BACKQUOTE=192,Pl.LEFTBRACKET=219,Pl.BACKSLASH=220,Pl.RIGHTBRACKET=221,Pl.QUOTE=222,kl.GESTURE=0,kl.NONE=1,kl.TOUCH_POINT=2,Ul.DEFLATE=0,Ul.LZMA=1,Ul.ZLIB=2,Gl.BIG_ENDIAN=0,Gl.LITTLE_ENDIAN=1,ro.SKY_BGC=-8544513,ro.MTX_BGC=-16777216,ro.INTROSPECT="sfx/introspect.ogg",ro.MUSIC="sfx/gameplay.ogg",ro.FADE_MGN=.033333333,so.ACCEL_X=.25,so.MAX_VEL_X=2,so.MAX_VEL_Y=128,so.FRICTION=.125,so.GRAVITY=.25,so.defSolid=["solid","solidthing"],so.wasd=!1,so.editTypes=["passive","door","killer","solidthing"],oo.ACCEL_X=.5,oo.MAX_VEL_X=1,oo.MAX_VEL_Y=128,oo.FRICTION=.125,oo.GRAVITY=.25,oo.EVENTS=["Occasionally","Constantly","Ledge","Wall Bump","Touch Meddler","Touch Killer","Never"],oo.COMMANDS=["Wander","180","Stop","Go","Kill Meddler","Victory","Die","Launch Meddler"],oo.konami_cooooooode=!1,l.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);